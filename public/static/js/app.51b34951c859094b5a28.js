webpackJsonp([1,0],[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var o=n(5),a=i(o),s=n(417),r=i(s),l=n(413),c=i(l),d=n(421),u=i(d),p=n(84),f=i(p),h=n(130),v=i(h),m=n(11),g=i(m),_=n(85),b=i(_);r.default.config("https://04878f0f86eb4c21b54fd0e63ed70e3a@sentry.io/126101").addPlugin(c.default,a.default).install(),g.default.account.current().then(function(t){f.default.dispatch("loadUser",t.data),y()},function(t){y()});var y=function(){a.default.http.interceptors.push(function(t,e){var n=b.default.get("XSRF-TOKEN");n&&(t.headers.map["X-XSRF-TOKEN"]=[n]),e(function(t){401===t.status&&f.default.dispatch("requireLogin")})}),new a.default({el:"#app",router:v.default,store:f.default,render:function(t){return t(u.default)}})}},,,,,,function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(55);e.default={computed:(0,i.mapGetters)({colorSet:"editorColorSet"}),methods:{getColor:function(t){return(0,o.isValidColor)(t)||null==t?t:""===t?"transparent":"number"==typeof t||/^\d$/.test(t)?this.colorSet[t]:(0,o.getValidColor)(t)}}}},function(t,e,n){n(335);var i=n(1)(n(236),n(496),null,null);t.exports=i.exports},,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),a=i(o),s=n(580),r=i(s);a.default.use(r.default),a.default.http.options.root="/api",e.default={project:a.default.resource("project{/id}",{},{cancelInvite:{method:"DELETE",url:"projects/{id}/destroyinvites/{inviteId}"}}),projectMember:a.default.resource("projects/{projectId}/users{/id}"),pageGroup:a.default.resource("projects/{projectId}/groups{/id}"),page:a.default.resource("page{/id}",{},{duplicate:{method:"POST",url:"page/{id}/copy"},publish:{method:"PUT",url:"page/{id}/publish"},leads:{method:"GET",url:"page/{id}/leads"},split:{method:"POST",url:"page/{id}/quota"}}),variation:a.default.resource("pages/{pageId}/variations{/id}",{},{duplicate:{method:"POST",url:"pages/{pageId}/variations/{id}/copy"}}),template:a.default.resource("hub/template{/id}",{},{copy:{method:"GET",url:"hub/template/copy/{id}"}}),image:a.default.resource("storage/image{/id}"),imageFolder:a.default.resource("storage/folder{/id}"),report:a.default.resource("report/{module}/{pageId}"),account:a.default.resource("account{/id}",{},{current:{method:"GET",url:"auth/account/current"}}),auth:{save:function(t,e){var n="auth/login";return a.default.http.post(n,e)},delete:function(t,e){var n="auth/logout";return a.default.http.get(n)}},user:{save:function(t,e){var n="auth/register";return a.default.http.post(n,e)},forgetPassword:function(t,e){var n="auth/password/forget";return a.default.http.post(n,e)},resetPassword:function(t,e){var n="auth/password/reset";return a.default.http.post(n,e)},edit:function(t){var e="auth/account/update";return a.default.http.post(e,t)}}}},function(t,e){},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(12),r=(i(s),n(6)),l=(i(r),n(10)),c=i(l),d=n(78),u=i(d),p=n(4),f=n(3);e.default={props:["element","sectionId","elementId"],components:{ElementCommon:u.default,Tooltip:c.default},data:function(){return{buttonGroup:"main",editing:!1,localElement:(0,p.merge)({},this.element),resize:{},draggableFromChild:!0}},computed:(0,a.default)({},(0,f.mapGetters)({workspace:"editorWorkspace"}),{draggable:function(){return this.draggableFromChild},resizable:function(){return!this.editing&&this.workspace.activeElementId===this.elementId},elementBorder:function(){var t=this.localElement.style.border;return t?this.parseBorderStyle(t):""},elementBackground:function(){var t=this.localElement.style.background;return t?this.parseBackgroundStyle(t):{}},elementShadow:function(){var t=this.localElement.style.shadow;if(t)return this.parseShadowStyle(t)}}),methods:(0,a.default)({},(0,f.mapActions)(["modifyElement"]),{parseBorderStyle:function(t){return t.width+" "+t.style+" "+this.getColor(t.color)},parseShadowStyle:function(t){return t.x+"px "+t.y+"px "+t.blur+"px "+t.spread+"px "+this.getColor(t.color)},parseBackgroundStyle:function(t){return{backgroundColor:this.getColor(t.color),backgroundImage:"url("+t.image+")",backgroundRepeat:t.repeat,backgroundPosition:t.position,backgroundSize:t.size}},editDone:function(){},changeButtonGroup:function(t){this.buttonGroup=t},changeDraggable:function(t){this.draggableFromChild=t}}),watch:{"workspace.activeElementId":function(t){t!==this.elementId&&this.editing&&this.editDone()},element:function(t){this.localElement=(0,p.merge)({},t)}}}},,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LOG_IN="LOG_IN",e.LOG_OUT="LOG_OUT",e.EDIT_USER="EDIT_USER",e.LOAD_STATS_PAGE="LOAD_STATS_PAGE",e.LOAD_PROJECTS="LOAD_PROJECTS",e.CREATE_PROJECT="CREATE_PROJECT",e.RENAME_PROJECT="RENAME_PROJECT",e.REMOVE_PROJECT="REMOVE_PROJECT",e.SET_CURRENT_PROJECT="SET_CURRENT_PROJECT",e.LOAD_MEMBERS="LOAD_MEMBERS",e.REMOVE_MEMBER="REMOVE_MEMBER",e.CANCEL_INVITE="CANCEL_INVITE",e.LOAD_PAGEGROUPS="LOAD_PAGEGROUPS",e.EMPTY_PAGEGROUPS="EMPTY_PAGEGROUPS",e.CREATE_PAGEGROUP="CREATE_PAGEGROUP",e.REMOVE_PAGEGROUP="REMOVE_PAGEGROUP",e.RENAME_PAGEGROUP="RENAME_PAGEGROUP",e.SET_EDITING_PAGEGROUP="SET_EDITING_PAGEGROUP",e.SET_CURRENT_PAGEGROUP="SET_CURRENT_PAGEGROUP",e.LOAD_PAGES="LOAD_PAGES",e.EMPTY_PAGES="EMPTY_PAGES",e.CREATE_PAGE="CREATE_PAGE",e.RENAME_PAGE="RENAME_PAGE",e.REMOVE_PAGE="REMOVE_PAGE",e.DUPLICATE_PAGE="DUPLICATE_PAGE",e.MOVE_PAGE="MOVE_PAGE",e.WARNING="WARNING",e.CONFIRM="CONFIRM",e.GET_INPUT="GET_INPUT",e.CLOSE_MESSAGE_BOX="CLOSE_MESSAGE_BOX",e.NEXT_MESSAGE="NEXT_MESSAGE",e.GET_IMAGE="GET_IMAGE",e.CLOSE_IMAGE_LIBRARY="CLOSE_IMAGE_LIBRARY",e.LOAD_IMAGES="LOAD_IMAGES",e.LOADING="LOADING",e.LOAD_FAILED="LOAD_FAILED",e.LOAD_DONE="LOAD_DONE",e.LOAD_PAGE="LOAD_PAGE",e.LOAD_VARIATION="LOAD_VARIATION",e.SAVE_VARIATION="SAVE_VARIATION",e.CREATE_VARIATION="CREATE_VARIATION",e.REMOVE_VARIATION="REMOVE_VARIATION",e.RENAME_VARIATION="RENAME_VARIATION",e.TRAFIC_SPLIT="TRAFIC_SPLIT",e.SAVE_SETTINGS="SAVE_SETTINGS",e.SAVE_CONTENT_STATE="SAVE_CONTENT_STATE",e.UNDO="UNDO",e.REDO="REDO",e.SWITCH_VERSION="SWITCH_VERSION",e.SET_COLOR_SET="SET_COLOR_SET",e.ADD_SECTION="ADD_SECTION",e.MOVE_SECTION="MOVE_SECTION",e.REMOVE_SECTION="REMOVE_SECTION",e.MODIFY_SECTION="MODIFY_SECTION",e.SET_ACTIVE_SECTION_ID="SET_ACTIVE_SECTION_ID",e.SET_CURRENT_SECTION_ID="SET_CURRENT_SECTION_ID",e.SET_ACTIVE_ELEMENT_ID="SET_ACTIVE_ELEMENT_ID",e.MODIFY_ELEMENT="MODIFY_ELEMENT",e.REPLACE_ELEMENT="REPLACE_ELEMENT",e.ADD_ELEMENT="ADD_ELEMENT",e.REMOVE_ELEMENT="REMOVE_ELEMENT",e.REMOVE_ELEMENT_FROM_SECTION="REMOVE_ELEMENT_FROM_SECTION",e.MOVE_ELEMENT="MOVE_ELEMENT",e.MOVE_ELEMENTS="MOVE_ELEMENTS",e.DUPULICATE_ELEMENT="DUPULICATE_ELEMENT",e.ALIGN_UPDATE="ALIGN_UPDATE",e.ALIGN_CLEAR="ALIGN_CLEAR",e.MULTI_SELECT_UPDATE="MULTI_SELECT_UPDATE",e.MULTI_SELECT_DONE="MULTI_SELECT_DONE",e.MULTI_SELECT_CLEAR="MULTI_SELECT_CLEAR",e.UPDATE_MULTI_MOVE="UPDATE_MULTI_MOVE"},,function(t,e,n){n(406);var i=n(1)(n(176),n(573),"data-v-e2434fe4",null);t.exports=i.exports},,function(t,e,n){n(399);var i=n(1)(n(240),n(566),null,null);t.exports=i.exports},,,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={listen:function(t,e,n){if(t.addEventListener)return t.addEventListener(e,n,!1),{remove:function(){t.removeEventListener(e,n,!1)}}}};e.default=n},function(t,e){"use strict";function n(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}Object.defineProperty(e,"__esModule",{value:!0}),e.addLeadingZeros=n;e.chineseRE=/^[\u4e00-\u9fa5]+$/,e.emailRE=/^[A-Za-z0-9]+([-_.][A-Za-z0-9]+)*@([A-Za-z0-9]+[-.])+[A-Za-z0-9]{2,5}$/,e.urlKeyRE=/^[a-zA-Z0-9]{3,}$/},,,,function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return"[object Date]"===Object.prototype.toString.call(t)}function a(t){return t instanceof u?t:new u(t)}function s(t,e){_=_||(0,h.buildFormattingRegExp)();for(var n=e.match(_),i=n.length,o=void 0,a=0;a<i;a++)o=h.formatters[n[a]],o?n[a]=o(t):n[a]=r(n[a]);return n.join("")}function r(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|]$/g,""):t.replace(/\\/g,"")}function l(t){return t%4===0&&t%100!==0||t%400===0}function c(t,e){return 3===e||5===e||8===e||10===e?30:1===e?l(t)?29:28:31}function d(t){t=(""+t).replace(/-/g,"/");var e=Date.parse(t);if((0,f.default)(e))throw new TypeError("Invalid argument");return new Date(e)}function u(t){if(!(this instanceof u))return new u(t);if(t)if(o(t))this.date=new Date(t.getTime());else{if(t instanceof u)return new u(t.value());this.date=d(t)}else this.date=new Date;return this}Object.defineProperty(e,"__esModule",{value:!0}),e.format=e.msOfDay=e.msOfHour=e.msOfSecond=void 0;var p=n(247),f=i(p);e.isLeapYear=l,e.getDayCountOfMonth=c,e.parse=d;var h=n(144),v=e.msOfSecond=1e3,m=e.msOfHour=3600*v,g=e.msOfDay=24*m,_=void 0;e.format=s,u.prototype={constructor:u,value:function(){return this.date},format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD HH:mm:ss";return s(this.date,t)},addYears:function(t){var e=this.date;return e.setFullYear(e.getFullYear()+t),this},addMonths:function(t){var e=this.date,n=e.getDate(),i=new Date(e.getTime());i.setMonth(e.getMonth()+t,1);var o=i.getFullYear(),a=i.getMonth(),s=c(o,a);return s<n&&e.setDate(s),e.setFullYear(o,a),this},addDays:function(t){var e=this.date;return e.setDate(e.getDate()+t),this},addHours:function(t){var e=this.date;return e.setHours(e.getHours()+t),this},addMinutes:function(t){var e=this.date;return e.setMinutes(e.getMinutes()+t),this},addSeconds:function(t){var e=this.date;return e.setSeconds(e.getSeconds()+t),this},add:function(t,e){switch(e){case"y":case"years":this.addYears(t);break;case"M":case"months":this.addMonths(t);break;case"d":case"days":this.addDays(t);break;case"h":case"hours":this.addHours(t);break;case"m":case"minutes":this.addMinutes(t);break;case"s":case"seconds":this.addSeconds(t);break;default:this.date.setTime(this.date.getTime()+t)}return this},subtract:function(t,e){return this.add(-t,e)},isAfter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return this.date.getTime()>t.getTime()},isBefore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return this.date.getTime()<t.getTime()},startOfYear:function(){var t=this.date;return t.setMonth(0,1),t.setHours(0,0,0,0),this},startOfMonth:function(){var t=this.date;return t.setDate(1),t.setHours(0,0,0,0),this},startOfDay:function(){return this.date.setHours(0,0,0,0),this},startOfHour:function(){return this.date.setSeconds(0,0),this},endOfYear:function(){var t=this.date,e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),this},endOfMonth:function(){var t=this.date,e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),this},endOfDay:function(){return this.date.setHours(23,59,59,999),this},endOfHour:function(){return this.date.setMinutes(59,59,999),this},startOf:function(t){switch(t){case"y":case"year":this.startOfYear();break;case"M":case"month":this.startOfMonth();break;case"d":case"day":this.startOfDay();break;case"h":case"hour":this.startOfHour()}return this},endOf:function(t){switch(t){case"y":case"year":this.endOfYear();break;case"M":case"month":this.endOfMonth();break;case"d":case"day":this.endOfDay();break;case"h":case"hour":this.endOfHour()}return this},diffTime:function(t){return this.date.getTime()-t.value().getTime()},diffDays:function(t){var e=new u(this.date).startOfDay();return t=a(t).endOfDay(),Math.ceil(e.diffTime(t)/g)},diff:function(t,e){switch(e){case"d":case"days":return this.diffDays(t)}}},e.default=u},,,,,,,,function(t,e,n){n(345);var i=n(1)(n(241),n(506),"data-v-2aaea95a",null);t.exports=i.exports},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){var i=n>u,o=n>p,a=t>c||e>c,s=t>d||e>d;return i&&a||s||o}Object.defineProperty(e,"__esModule",{value:!0});var a=n(33),s=i(a),r=n(34),l=i(r),c=9,d=40,u=120,p=1e3,f=function(){function t(){(0,s.default)(this,t),this.COUNT=4,this.distances=[],this.index=0}return(0,l.default)(t,[{key:"reset",value:function(){this.distances=[],this.index=0}},{key:"add",value:function(t,e){this.distances[this.index]={d:e,m:t},this.index=(this.index+1)%this.COUNT}},{key:"speed",value:function(){for(var t=this.distances.length,e=0,n=0,i={x:0,y:0},o=0,a=0;a<t;a++)o+=this.distances[a].d,i.x+=this.distances[a].m.x,i.y+=this.distances[a].m.y;return 0===o?0:(e=i.x/(o/1e3),n=i.y/(o/1e3),{x:e,y:n})}}]),t}(),h=new f;e.default={props:{draggable:{type:Boolean,default:!0}},data:function(){return{dragging:!1,windowOldCursor:"",dragStartX:0,dragStartY:0,dragStartTime:0,lastDragX:null,lastDragY:null,lastDragTime:null,lastMovement:null}},methods:{onDragBegin:function(t){if(this.draggable){var e=Date.now();this.dragStartTime=e,this.lastDragTime=e,this.windowOldCursor=document.body.style.cursor,document.body.style.cursor="move";var n=t.clientX,i=t.clientY;this.dragStartX=n,this.dragStartY=i,this.lastDragX=n,this.lastDragY=i,this.dragBegin(),document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd),h.reset()}},onDragMove:function(t){var e=this;this.dragging=!0,this.onDragCommon(t,function(t,n,i){e.dragMove(t,n,i)})},onDragEnd:function(t){var e=this;document.body.style.cursor=this.windowOldCursor,this.dragging=!1,this.dragRelease(),this.onDragCommon(t,function(t,n,i){e.dragEnd(t,n,i),e.lastMovement=null}),document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd)},onDragCommon:function(t,e){var n=t.clientX,i=t.clientY,a=n-this.dragStartX,s=i-this.dragStartY,r=Math.abs(n-this.lastDragX),l=Math.abs(i-this.lastDragY),c=Date.now(),d=c-this.lastDragTime;if(h.add({x:r,y:l},d),this.lastDragX=n,this.lastDragY=i,o(Math.abs(a),Math.abs(s),c-this.dragStartTime)){var u=void 0;u=null===this.lastMovement?{x:a,y:s}:{x:n-this.lastMovement.x,y:i-this.lastMovement.y},this.lastMovement={x:n,y:i};var p={speed:h.speed()};e({x:a,y:s},u,p)}},dragBegin:function(){},dragMove:function(t,e,n){},dragEnd:function(t,e,n){},dragRelease:function(){},dragEnable:function(){},dragDisable:function(){}},watch:{draggable:function(t){t?this.dragEnable():this.dragDisable()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),o=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return new t.fn.Init(e,n)};o.fn=o.prototype,o.fn.Init=function(t,e){if(1===t.nodeType)return this[0]=t,this.length=1,this;var n=e.querySelectorAll(t);this.length=n.length;for(var i=0;i<this.length;i++)this[i]=n[i];return this},o.fn.Init.prototype=o.fn,o.extend=o.fn.extend=function(t,e){"undefined"==typeof e&&(e=t,t=this);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},o.fn.extend({each:function(t){for(var e=0;e<this.length;e++)t.call(this[e],this[e],e)}}),o.fn.extend({show:function(){return this.each(function(t){t.style.display=""}),this},hide:function(){return this.each(function(t){t.style.display="none"}),this},hasClass:function(t){return this.length>0&&this[0].classList.contains(t)},addClass:function(t){return this.each(function(e){e.classList.add(t)}),this},removeClass:function(t){return this.each(function(e){e.classList.remove(t)}),this},css:function(t,e){var n=this;if(i.util.isPlainObject(t)){var o=function(e){n.each(function(n){n.style[i.util.camelize(e)]=t[e]})};for(var a in t)o(a)}else{if(!e&&this.length>0)return window.getComputedStyle(this[0]).getPropertyValue(t);this.each(function(n){n.style[t]=e})}return this},has:function(t){return this.length>0&&this[0].hasAttribute(t)},attr:function(t,e){return"undefined"==typeof e?this.length>0?this[0].getAttribute(t):null:(this.each(function(n){n.setAttribute(t,e)}),this)},offset:function(){if(this.length>0){var t=this[0],e=document.documentElement,n=t.getBoundingClientRect(),i=n.top+window.pageYOffset-e.clientTop,o=n.left+window.pageXOffset-e.clientLeft;return{top:i,left:o}}}}),e.default=o},,,,,,,,,function(t,e){},function(t,e,n){n(381);var i=n(1)(null,n(548),"data-v-7450c420",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(162),n(487),null,null);t.exports=i.exports},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={style:{pc:{height:"500px",background:{color:"",image:"",repeat:"no-repeat",position:"center center",size:"auto",fixed:!1,stretch:!0},border:{width:"0px",style:"solid",color:3},mask:{color:3,opacity:0}},mobile:{height:"500px",background:{color:"",image:"",repeat:"no-repeat",position:"center center",size:"auto",fixed:!1,stretch:!0},border:{width:"0px",style:"solid",color:3},mask:{color:3,opacity:0}}},elements:{pc:[],mobile:[]}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t){return parseInt(t,16)}function a(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function s(t){return 1===t.length?"0"+t:""+t}function r(t,e){return t=E(e,k(0,parseFloat(t))),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function l(t,e){return r(t,e)*e}function c(t){var e=t.r,n=t.g,i=t.b;e=r(e,255),n=r(n,255),i=r(i,255);var o=k(e,n,i),a=E(e,n,i),s=void 0,l=o,c=o-a,d=0===o?0:c/o;if(o===a)s=0;else{switch(o){case e:s=(n-i)/c+(n<i?6:0);break;case n:s=(i-e)/c+2;break;case i:s=(e-n)/c+4}s/=6}return{h:I(360*s),s:I(100*d),v:I(100*l)}}function d(t){var e=t.h,n=t.s,i=t.v;e=6*r(e,360),n=r(n,100),i=r(i,100);var o=Math.floor(e),a=e-o,s=i*(1-n),l=i*(1-a*n),c=i*(1-(1-a)*n),d=o%6,u=[i,l,s,s,c,i][d],p=[c,i,i,l,s,s][d],f=[s,s,c,i,i,l][d];return{r:I(255*u),g:I(255*p),b:I(255*f)}}function u(t,e,n,i){var o=[s(I(t).toString(16)),s(I(e).toString(16)),s(I(n).toString(16))].join(""),a=void 0;return i&&(a=/^(\w)\1(\w)\2(\w)\3$/.exec(o))?a.slice(1).join(""):o}function p(t){var e=t.r,n=t.g,i=t.b;e=r(e,255),n=r(n,255),i=r(i,255);var o=k(e,n,i),a=E(e,n,i),s=void 0,l=void 0,c=(o+a)/2;if(o===a)s=l=0;else{var d=o-a;switch(l=c>.5?d/(2-o-a):d/(o+a),o){case e:s=(n-i)/d+(n<i?6:0);break;case n:s=(i-e)/d+2;break;case i:s=(e-n)/d+4}s/=6}return{h:I(360*s),s:I(100*l),l:I(100*c)}}function f(t){function e(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=t.h,i=t.s,o=t.l,a=void 0,s=void 0,l=void 0;if(n=r(n,360),i=r(i,100),o=r(o,100),0===i)a=s=l=o;else{var c=o<.5?o*(1+i):o+i-o*i,d=2*o-c;a=e(d,c,n+1/3),s=e(d,c,n),l=e(d,c,n-1/3)}return{r:I(255*a),g:I(255*s),b:I(255*l)}}function h(t){var e={rgb:null,hsl:null,hsv:null,a:1};t=t.trim(),w.default[t]?t=w.default[t]:"transparent"===t&&(e.rgb={r:255,g:255,b:255},e.a=0);var n=void 0;return(n=x.default.rgb.exec(t))&&(e.rgb={r:l(n[1],255),g:l(n[2],255),b:l(n[3],255)}),(n=x.default.rgba.exec(t))&&(e.rgb={r:l(n[1],255),g:l(n[2],255),b:l(n[3],255)},e.a=l(n[4],1)),(n=x.default.hsl.exec(t))&&(e.hsl={h:l(n[1],360),s:l(n[2],100),l:l(n[3],100)}),(n=x.default.hsla.exec(t))&&(e.hsl={h:l(n[1],360),s:l(n[2],100),l:l(n[3],100)},e.a=l(n[4],1)),(n=x.default.hex6.exec(t))&&(e.rgb={r:o(n[1]),g:o(n[2]),b:o(n[3])}),(n=x.default.hex3.exec(t))&&(e.rgb={r:o(n[1]+""+n[1]),g:o(n[2]+""+n[2]),b:o(n[3]+""+n[3])}),e}function v(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("object"!==(0,b.default)(t.rgb)&&(t=g(t)),!t.rgb)return"Invalid";var n=t.rgb,i=n.r,o=n.g,s=n.b;return 1!==t.a?"rgba("+i+","+o+","+s+","+a(t.a,2)+")":"#"+u(i,o,s,e)}function m(t){return[x.default.rgb,x.default.rgba,x.default.hsl,x.default.hsla,x.default.hex3,x.default.hex6].some(function(e){return e.test(t)})||"transparent"===t||!!w.default[t]}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=h(t)),t.a="number"!=typeof t.a?"number"==typeof e.a?e.a:1:t.a,t.rgb?(t.hsl=p(t.rgb),t.hsv=c(t.rgb)):t.hsl?(t.rgb=f(t.hsl),t.hsv=c(t.rgb)):t.hsv&&(t.rgb=d(t.hsv),t.hsl=p(t.rgb)),t}Object.defineProperty(e,"__esModule",{value:!0});var _=n(43),b=i(_);e.rgb2hsv=c,e.rgb2hex=u,e.rgb2hsl=p,e.hsl2rgb=f,e.getValidColor=v,e.isValidColor=m;var y=n(142),w=i(y),C=n(143),x=i(C),E=Math.min,k=Math.max,I=Math.round;e.default=g},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.selectedElementsMove=e.selectionAlignRight=e.selectionAlignCenter=e.selectionAlignLeft=e.getMulti=e.multiSelect=e.alignEnd=e.alignSearch=e.alignNext=e.alignBegin=e.elementsMove=e.elementRemove=e.elementUpdate=e.elementAdd=void 0;var o=n(147),a=i(o),s=n(145),r=i(s),l=n(148),c=i(l),d=new a.default,u=(e.elementAdd=d.add.bind(d),e.elementUpdate=d.update.bind(d),e.elementRemove=d.remove.bind(d),e.elementsMove=d.moveElements.bind(d),new r.default(d)),p=(e.alignBegin=u.alignBegin.bind(u),e.alignNext=u.alignNext.bind(u),e.alignSearch=u.alignSearch.bind(u),e.alignEnd=u.alignEnd.bind(u),new c.default(d));e.multiSelect=p.select.bind(p),e.getMulti=p.get.bind(p),e.selectionAlignLeft=p.alignLeft.bind(p),e.selectionAlignCenter=p.alignCenter.bind(p),e.selectionAlignRight=p.alignRight.bind(p),e.selectedElementsMove=p.move.bind(p)},function(t,e){"use strict";function n(){return window.innerWidth-document.body.clientWidth}Object.defineProperty(e,"__esModule",{value:!0}),e.getScrollbarWidth=n;e.isWindows=window.navigator.userAgent.indexOf("Windows")>=0},,,,,,,,,,,,,,,,,,,,function(t,e,n){n(369);var i=n(1)(n(172),n(534),"data-v-5b713b4c",null);t.exports=i.exports},function(t,e,n){n(395),n(394);var i=n(1)(n(183),n(563),"data-v-9d5ddbf8",null);t.exports=i.exports},function(t,e,n){n(362);var i=n(1)(n(203),n(524),"data-v-4d0887f4",null);t.exports=i.exports},function(t,e,n){n(347);var i=n(1)(n(228),n(508),"data-v-2e0d5893",null);t.exports=i.exports},function(t,e,n){n(338);var i=n(1)(n(238),n(500),null,null);t.exports=i.exports},function(t,e){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return e.querySelector(t)}function i(t,e){return t&&(" "+t.getAttribute("class")+" ").indexOf(" "+e+" ")>-1}function o(t,e,n,o){t.addEventListener(e,function(t){n&&!i(t.target,n)||o(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.query=n,e.hasClass=i,e.on=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={text:{type:"text",content:"<p>双击开始编辑这段文字</p>",style:{pc:{left:"380px",top:"10px",width:"200px"},mobile:{left:"80px",top:"10px",width:"200px"}},fontStyle:{color:"4",fontSize:"16px",lineHeight:"1.4",textAlign:"left"}},image:{type:"image",src:"",style:{pc:{top:"10px",width:""},mobile:{top:"10px",width:""}}},button:{type:"button",text:"按钮",image:"",props:{backgroundColor:"3",color:"0",borderRadius:"4px",fontSize:"18px",fontWeight:"normal"},style:{pc:{left:"400px",top:"10px",width:"160px",height:"auto"},mobile:{left:"100px",top:"10px",width:"160px",height:"auto"},border:{color:"4",style:"solid",width:"0px"},shadow:{x:0,y:0,blur:8,spread:0,color:3}}},form:{type:"form",style:{pc:{left:"330px",top:"10px",width:"300px"},mobile:{left:"30px",top:"10px",width:"300px"}},props:{labelInside:!0,innerShadow:!1,boxShadow:"",fieldColor:"#fff",inputColor:"4",borderColor:"#ccc",labelColor:"3",redirect:"",thankyou:"表单提交成功，感谢！"},fields:[{label:"姓名",type:"text",validator:["required"]},{label:"手机号码",type:"text",validator:["required","mobile"]}],button:{type:"button",text:"提交",image:"",props:{backgroundColor:"3",color:"0",borderRadius:"4px",fontSize:"18px",fontWeight:"normal"},style:{pc:{left:"400px",top:"10px",width:"160px",height:"auto"},mobile:{left:"100px",top:"10px",width:"160px",height:"auto"},border:{color:"4",style:"solid",width:"0px"},shadow:{x:0,y:0,blur:8,spread:0,color:3}}}},html:{type:"html",content:"",style:{pc:{left:"330px",top:"10px",width:"300px",height:"150px"},mobile:{left:"50px",top:"10px",width:"300px",height:"150px"}}},square:{type:"shape",subType:"square",style:{pc:{left:"380px",top:"10px",width:"200px",height:"150px"},mobile:{left:"80px",top:"10px",width:"200px",height:"150px"},opacity:100,borderRadius:"0px",border:{color:"3",style:"solid",width:"1px"},background:{color:"1",image:"",repeat:"no-repeat",position:"left top",size:"auto"},shadow:{x:0,y:0,blur:0,spread:0,color:4}}},circle:{type:"shape",subType:"circle",style:{pc:{left:"380px",top:"10px",width:"200px",height:"200px"},mobile:{left:"80px",top:"10px",width:"200px",height:"200px"},borderRadius:"50%",opacity:100,border:{color:"3",style:"solid",width:"1px"},background:{color:"1",image:"",repeat:"no-repeat",position:"left top",size:"auto"},shadow:{x:0,y:0,blur:0,spread:0,color:4}}},line:{type:"shape",subType:"line",style:{pc:{left:"330px",top:"10px",width:"300px",height:""},mobile:{left:"30px",top:"10px",width:"300px",height:""},border:{color:"3",style:"solid",width:"2px"}}},vline:{type:"shape",subType:"vline",style:{pc:{left:"479px",top:"10px",width:"",height:"300px"},mobile:{left:"179px",top:"10px",width:"",height:"300px"},border:{color:"3",style:"solid",width:"2px"}}},video:{type:"video",content:{source:null},style:{pc:{left:"320px",top:"10px",width:"320px",height:"200px"},mobile:{left:"20px",top:"10px",width:"320px",height:"200px"}}},timer:{type:"timer",data:{date:null,time:null,labelColor:null,numberColor:null,timerColor:null},style:{pc:{left:"320px",top:"10px",width:"320px",height:"auto"},mobile:{left:"20px",top:"10px",width:"320px",height:"auto"}}},map:{type:"map",data:{position:null,name:null},style:{pc:{left:"320px",top:"10px",width:"320px",height:"240px"},mobile:{left:"20px",top:"10px",width:"320px",height:"240px"}}},swiper:{type:"swiper",data:{images:[],button:!0,auto:!0,effect:1},style:{pc:{left:"320px",top:"10px",width:"320px",height:"240px"},mobile:{left:"20px",top:"10px",width:"320px",height:"240px"}}},icon:{type:"icon",data:{color:"4",icon:"comment"},style:{pc:{left:"464px",top:"10px",width:"32px",height:"32px"},mobile:{left:"164px",top:"10px",width:"32px",height:"32px"}}}}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=o(a),r=n(3),l=o(r),c=n(137),d=o(c),u=n(140),p=o(u),f=n(141),h=o(f),v=n(138),m=o(v),g=n(139),_=o(g),b=n(134),y=i(b),w=n(135),C=i(w),x=n(131),E=i(x),k=n(132),I=i(k),S=n(133),P=i(S),M=n(136),T=i(M),A=n(4);s.default.use(l.default);var O=(0,A.merge)(y,E,I,C,P),D=new l.default.Store({actions:O,getters:T,modules:{dashboard:d.default,ui:p.default,user:h.default,editor:m.default,stats:_.default},strict:!1});e.default=D},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={get:function(t){var e=document.cookie.match(new RegExp("(^| )"+t+"=([^;]*)(;|$)"));return null!=e?unescape(e[2]):null},set:function(t,e,n){var i="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),i="; expires="+o.toGMTString()}document.cookie=t+"="+e+i+"; path=/"}};e.default=n},,,,,,,,,,,,,,,,,,,,,,function(t,e){},,,function(t,e,n){n(389);var i=n(1)(n(158),n(558),"data-v-87ebd098",null);t.exports=i.exports},function(t,e,n){n(344),n(343);var i=n(1)(n(161),n(505),null,null);t.exports=i.exports},function(t,e,n){n(388);var i=n(1)(n(171),n(556),"data-v-84cee764",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(175),n(574),null,null);t.exports=i.exports},function(t,e,n){n(411);var i=n(1)(n(182),n(579),"data-v-ffd3d86a",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(187),n(539),null,null);t.exports=i.exports},function(t,e,n){n(352);var i=n(1)(n(189),n(514),null,null);t.exports=i.exports},function(t,e,n){n(360);var i=n(1)(n(191),n(521),null,null);t.exports=i.exports},function(t,e,n){n(330);var i=n(1)(n(196),n(491),null,null);t.exports=i.exports},function(t,e,n){n(408);var i=n(1)(n(197),n(576),"data-v-ef7e1b94",null);t.exports=i.exports},function(t,e,n){n(342);var i=n(1)(n(205),n(504),null,null);t.exports=i.exports},function(t,e,n){n(333);var i=n(1)(n(209),n(494),"data-v-16ce9f40",null);t.exports=i.exports},function(t,e,n){n(348);var i=n(1)(n(217),n(509),null,null);t.exports=i.exports},function(t,e,n){n(354);var i=n(1)(n(234),n(516),"data-v-3a4dbe57",null);t.exports=i.exports},function(t,e,n){n(403);var i=n(1)(n(235),n(570),null,null);t.exports=i.exports},function(t,e,n){n(331);var i=n(1)(n(239),n(492),null,null);t.exports=i.exports},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(43),a=i(o),s=n(58),r=i(s),l=n(82),c=n(42),d=i(c),u={listClass:"ct-legend-list",legendClass:"ct-legend",disableClass:"is-disable",filter:r.default.noop,onClick:r.default.noop},p=function(t){return t=r.default.extend({},u,t),function(e){e.on("created",function(n){var i=e.data.series.map(function(t,n){return"object"!==("undefined"==typeof t?"undefined":(0,a.default)(t))&&(t={value:t}),t.className=t.className||e.options.classNames.series+"-"+r.default.alphaNumerate(n),t}),o=i.map(function(n,i){return t.filter(n.name||"",i,e)}),s=e.container,c=(0,l.query)("."+t.listClass,s.parentNode);c||(c=document.createElement("div"),c.className=t.listClass,c.addEventListener("click",function(e){var n=(0,d.default)(e.target,c);if(n.hasClass(t.legendClass)&&n.has("data-legend")){e.preventDefault();var i=n.attr("data-legend");n.hasClass(t.disableClass)?((0,d.default)(".ct-series-"+i,s).show(),n.removeClass(t.disableClass)):((0,d.default)(".ct-series-"+i,s).hide(),n.addClass(t.disableClass))}})),0===c.childNodes.length?o.forEach(function(e,n){var i=document.createElement("label"),o=r.default.alphaNumerate(n);i.className=t.legendClass+" ct-legend-"+o,i.textContent=e,i.setAttribute("data-legend",o),c.appendChild(i)}):o.forEach(function(e,n){var i=r.default.alphaNumerate(n);(0,d.default)(".ct-legend-"+i,c).hasClass(t.disableClass)&&(0,d.default)(".ct-series-"+i,s).hide()}),s.parentNode.insertBefore(c,s)})}};r.default.plugins=r.default.plugins||{},r.default.plugins.Legend=p,e.default=p},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(58),a=i(o),s=n(82),r=n(42),l=i(r),c={offset:{x:0,y:0},classNames:{tooltip:"chartist-tooltip",title:"tooltip-title",dataList:"tooltip-data-list",dataItem:"tooltip-data-item",xLabel:"tooltip-label",show:"tooltip-show"},pointClass:"ct-point"},d=function(t){function e(e,n){var i=document.createElement("li");return i.className=t.classNames.dataItem+" data-"+n,i.innerHTML=e+': <span class="item-data"></span>',i}return t=a.default.extend({},c,t),function(n){function i(){var t={conversionRate:b.conversionRate[f].data[h],conversions:b.conversions[f].data[h],visitors:b.visitors[f].data[h]};o(t)}function o(e){(0,s.query)(".data-conversionRate .item-data",v).innerHTML=e.conversionRate+"%",(0,s.query)(".data-conversions .item-data",v).innerHTML=e.conversions,(0,s.query)(".data-visitors .item-data",v).innerHTML=e.visitors;var i=(0,s.query)("."+t.classNames.title,v);i.innerHTML="<span>"+n.data.series[f].name+"</span>",i.className=t.classNames.title+" ct-legend-"+a.default.alphaNumerate(f),(0,s.query)("."+t.classNames.xLabel,v).innerHTML=n.data.labels[h],(0,l.default)(v).addClass(t.classNames.show);var o=v.offsetHeight,r=v.offsetWidth,c=-r/2+t.offset.x,d=-o+t.offset.y-10;v.style.left=p[f][h].x+c+"px",v.style.top=p[f][h].y+d+"px"}function r(t){if(p.length>0&&p[0].length>=2){var e=p[0][1].x-p[0][0].x,o=n.options.chartPadding,a=n.options.axisY.offset,s=(0,l.default)(d).offset(),r=t.pageX-s.left,c=Math.max(0,r-a-o.left),u=Math.round(c/e);u>=0&&u!==h&&u<p[0].length&&(h=u,i())}}var c=t.pointClass;n instanceof a.default.Bar?c="ct-bar":n instanceof a.default.Pie&&(c=n.options.donut?"ct-slice-donut":"ct-slice-pie");var d=n.container,u=[],p=[],f=0,h=-1,v=(0,s.query)("."+t.classNames.tooltip,d);if(!v){v=document.createElement("div"),v.className=t.classNames.tooltip,d.appendChild(v);var m=document.createElement("div");m.className=t.classNames.title;var g=document.createElement("ul");
g.className=t.classNames.dataList;var _=document.createElement("div");_.className=t.classNames.xLabel,g.appendChild(e("转化率","conversionRate")),g.appendChild(e("转化次数","conversions")),g.appendChild(e("访客数","visitors")),v.appendChild(m),v.appendChild(g),v.appendChild(_)}var b=n.options.tooltipData;n.on("draw",function(t){"point"===t.type&&(u[t.seriesIndex]=u[t.seriesIndex]||[],p[t.seriesIndex]=p[t.seriesIndex]||[],u[t.seriesIndex][t.index]=t.element._node,p[t.seriesIndex][t.index]={x:t.x,y:t.y})}),(0,s.on)(d,"mouseover",c,function(t){for(var e=t.target,n=0;n<u.length;n++)for(var o=0;o<u[n].length;o++)if(e===u[n][o])return f=n,h=o,void i()}),(0,s.on)(d,"mousemove",!1,function(e){(0,s.hasClass)(v,t.classNames.show)&&r(e)}),(0,s.on)(d,"mouseleave",!1,function(e){(0,l.default)(v).removeClass(t.classNames.show)})}};a.default.plugins=a.default.plugins||{},a.default.plugins.ctTip=d,e.default=d},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(58),a=i(o),s=n(4);n(126),n(127);var r=["line","bar","pie"],l={fullWidth:!0,axisX:{labelOffset:{x:-17,y:10},showGrid:!1},axisY:{onlyInteger:!0,offset:30,labelOffset:{x:-6,y:6}},chartPadding:{top:15,right:30,bottom:20,left:20},plugins:[a.default.plugins.Legend(),a.default.plugins.ctTip()]};e.default={props:{type:{type:String,default:"line",validator:function(t){return r.indexOf(t.toLowerCase())>-1}},stats:Object,options:{type:Object},legend:{type:Boolean,default:!0},responsiveOptions:{type:Array}},computed:{chartType:function(){return this.type[0].toUpperCase()+this.type.slice(1)},labels:function(){return this.stats.series.map(function(t){return{name:t.name,enabled:!0}})}},mounted:function(){this._chart=new a.default[this.chartType](this.$refs.chart,this.stats,(0,s.merge)({},l,this.options),this.responsiveOptions)},watch:{stats:function(t){var e=this;this.$nextTick(function(){e._chart.update(e.stats,(0,s.merge)({},l,e.options,e.responsiveOptions))})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{elPositionInPage:{left:0,top:0},offsetCache:{x:0,y:0},horizontalMax:[0,0],verticalMax:[0,0],bounds:null,mountedId:null,keyEventAttached:!1,keyMoveTimer:null,keyMoveTimestamp:null,keyMove:{x:0,y:0}}},methods:{actualMove:function(t){var e=function(t,e){var n=t<0?0:1;return[Math.max,Math.min][n](e[n],t)};return{x:e(t.x,this.horizontalMax),y:e(t.y,this.verticalMax)}},getAlignmentInfo:function(){var t=this.$el.getBoundingClientRect(),e=document.getElementById("content-area").getBoundingClientRect(),n=t.left-e.left,i=t.right-e.left,o=t.top-e.top,a=t.bottom-e.top,s=Math.round(n+t.width/2),r=Math.round(o+t.height/2),l={width:t.width,height:t.height,left:n,right:i,top:o,bottom:a,hcenter:s,vcenter:r};return l},movePrepare:function(){this.bounds=this.getAlignmentInfo(),this.keyEventAttached||(document.addEventListener("keydown",this.onKey,!1),this.keyEventAttached=!0);var t=window.getComputedStyle(this.$refs.box,null),e=function(e){return parseInt(t[e])};this.startPosLeft=e("left"),this.startPosTop=e("top");var n=this.$refs.box.getBoundingClientRect(),i=document.getElementById("content-area").getBoundingClientRect();this.horizontalMax=[i.left-n.left,i.right-n.right],this.verticalMax=[i.top-n.top,i.bottom-n.bottom],this.startTop=-50-this.$el.offsetTop}}}},function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),a=i(o),s=n(581),r=i(s),l=n(412),c=i(l),d=n(84),u=i(d),p=n(429),f=i(p),h=n(424),v=i(h),m=n(440),g=i(m),_=n(474),b=i(_),y=n(430),w=i(y),C=n(422),x=i(C),E=n(479),k=i(E),I=n(484),S=i(I),P=n(482),M=i(P),T=n(473),A=i(T),O=n(425),D=i(O),R=n(423),j=i(R),F=n(426),L=i(F);a.default.use(r.default);var N=new r.default({mode:"history",base:t,routes:[{path:"/login",name:"login",component:v.default,beforeEnter:function(t,e,n){u.default.getters.isLogin?n("/"):n()}},{path:"/logout",beforeEnter:function(t,e,n){u.default.dispatch("logout",function(){return n("/login")})}},{path:"/register",name:"register",component:D.default},{path:"/forgetpassword",name:"forgetpassword",component:j.default},{path:"/resetpassword/:token",name:"resetpassword",component:L.default},{path:"/editor/:pageId",name:"editor",component:g.default,meta:{requiresAuth:!0,preFetch:"editorInit"}},{path:"/editor/:pageId/:variationId",name:"variation",component:g.default,meta:{requiresAuth:!0,preFetch:"editorInit"}},{path:"/preview/:pageId/:variationId",name:"preview",component:b.default,meta:{requiresAuth:!0}},{path:"/template/:templateId",name:"template",component:M.default},{path:"/",component:f.default,meta:{requiresAuth:!0},children:[{path:"",name:"dashboard",component:w.default,meta:{preFetch:"dashboardInit"}},{path:"/account",name:"account",component:x.default},{path:"/leads/:pageId",name:"leads",component:A.default},{path:"/stats/:pageId/:module",name:"stats",component:k.default,meta:{preFetch:"statsInit"}},{path:"/templates/:tag",name:"templates",component:S.default}]}]});c.default.configure({showSpinner:!1}),N.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requiresAuth})&&!u.default.getters.isLogin?n({path:"/login",query:{redirect:t.fullPath}}):(c.default.start(),u.default.dispatch("loading"),t.meta.preFetch?u.default.dispatch(t.meta.preFetch,[t,function(){n()}]):n())}),N.afterEach(function(t,e,n){c.default.done(),u.default.dispatch("loadingDone")}),e.default=N}).call(e,"/")},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.duplicatePage=e.movePage=e.renamePage=e.removePage=e.createPage=e.renamePageGroup=e.setEditingPageGroup=e.removePageGroup=e.createPageGroup=e.quitProject=e.cancelInvite=e.removeMember=e.inviteMember=e.loadMembers=e.createProject=e.switchPageGroup=e.switchProject=e.dashboardInit=void 0;var a=n(35),s=o(a),r=n(11),l=o(r),c=n(85),d=o(c),u=n(15),p=i(u),f=n(4),h=(e.dashboardInit=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1],r=void 0!==a&&a;l.default.project.get().then(function(t){var e=t.data;n(p.LOAD_PROJECTS,{projects:e});var i=o.query.id||d.default.get("projectId"),a=(0,f.find)(e,function(t){return t.id===parseInt(i)})||(0,f.find)(e,function(t){return 1===t.is_default})||e[0];h({commit:n},[a,r])})},e.switchProject=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1],r=void 0!==a&&a;n(p.EMPTY_PAGEGROUPS),n(p.EMPTY_PAGES),n(p.SET_CURRENT_PROJECT,{project:o}),d.default.set("projectId",o.id,365),m({commit:n},o),l.default.pageGroup.get({projectId:o.id}).then(function(t){var e=t.data;n(p.LOAD_PAGEGROUPS,{pageGroups:e});var i=(0,f.find)(e,function(t){return 1===t.is_default})||e[0];v({commit:n},[i,r])})}),v=e.switchPageGroup=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1],r=void 0!==a&&a;n(p.SET_CURRENT_PAGEGROUP,{pageGroup:o}),l.default.page.get({group_id:o.id}).then(function(t){n(p.LOAD_PAGES,{pages:t.data}),r&&r()})},m=(e.createProject=function(t,e){var n=t.commit;l.default.project.save({},e).then(function(t){var e=t.data;n(p.CREATE_PROJECT,{project:e}),h({commit:n},[e])})},e.loadMembers=function(t,e){var n=t.commit;l.default.projectMember.get({projectId:e.id}).then(function(t){var e=t.data.users,i=t.data.invites;n(p.LOAD_MEMBERS,{members:e,invited:i})})});e.inviteMember=function(t,e){var n=t.commit,i=t.state;l.default.projectMember.save({projectId:i.dashboard.currentProject.id},e).then(function(t){m({commit:n},i.dashboard.currentProject)})},e.removeMember=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1];l.default.projectMember.delete({projectId:a.id,id:o.id}).then(function(t){n(p.REMOVE_MEMBER,{member:o})})},e.cancelInvite=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1];l.default.project.cancelInvite({id:a.id,inviteId:o.id}).then(function(t){n(p.CANCEL_INVITE,{inviteId:o.id})})},e.quitProject=function(t,e){t.commit},e.createPageGroup=function(t,e){var n=t.commit;l.default.pageGroup.save({projectId:e.projectId},e).then(function(t){var e=t.data;n(p.CREATE_PAGEGROUP,{pageGroup:e})})},e.removePageGroup=function(t,e){var n=t.commit,i=t.state;l.default.pageGroup.delete({projectId:i.dashboard.currentProject.id,id:e.id}).then(function(t){n(p.REMOVE_PAGEGROUP,{pageGroup:e})})},e.setEditingPageGroup=function(t,e){var n=t.commit;n(p.SET_EDITING_PAGEGROUP,{pageGroup:e})},e.renamePageGroup=function(t,e){var n=t.commit,i=t.state,o=i.dashboard.editingPageGroup;l.default.pageGroup.update({projectId:i.dashboard.currentProject.id,id:o.id},{name:e}).then(function(t){n(p.RENAME_PAGEGROUP,{pageGroup:o,newName:e})})},e.createPage=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1],r=void 0!==a&&a;l.default.page.save({},o).then(function(t){o=t.data,n(p.CREATE_PAGE,{page:o}),r&&r(o)})},e.removePage=function(t,e){var n=t.commit;l.default.page.delete({id:e.id}).then(function(t){n(p.REMOVE_PAGE,{page:e})})},e.renamePage=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1];l.default.page.update({id:o.id},{name:a}).then(function(t){n(p.RENAME_PAGE,{page:o,newName:a})})},e.movePage=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1];l.default.page.update({id:o.id},{name:o.name,group_id:a.id}).then(function(t){n(p.REMOVE_PAGE,{page:o})})},e.duplicatePage=function(t,e){var n=t.commit;l.default.page.duplicate({id:e.id},{}).then(function(t){n(p.CREATE_PAGE,{page:t.data})})}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.updateMultiMove=e.clearMultiSelect=e.doneMultiSelect=e.updateMultiSelect=e.clearAlign=e.updateAlign=e.duplicateElement=e.addElement=e.modifyElement=e.indexOfElements=e.indexElement=e.resizeElement=e.alignMoveElements=e.moveElements=e.moveElement=e.removeElements=e.removeElement=e.setActiveElementId=e.setColorSet=e.switchVersion=e.redo=e.undo=e.setCurrentSectionId=e.setActiveSectionId=e.removeSection=e.modifySection=e.moveSection=e.addSection=e.publishPage=e.setURL=e.saveVariation=e.saveSettings=e.removeVariation=e.renameVariation=e.duplicateVariation=e.createEmptyVariation=e.loadVariation=e.traficSplit=e.editorInit=void 0;var a=n(246),s=o(a),r=n(35),l=o(r),c=n(11),d=o(c),u=n(15),p=i(u),f=n(4),h=n(83),v=o(h),m=n(54),g=o(m),_=(e.editorInit=function(t,e){var n=t.commit,i=t.state,o=(0,l.default)(e,2),a=o[0],s=o[1],r=void 0!==s&&s,c=a.params.pageId;d.default.page.get({id:c}).then(function(t){var e=t.data;d.default.variation.get({pageId:e.id}).then(function(t){e.variations=t.data,n(p.LOAD_PAGE,{page:e});var o=a.params.variationId||e.variations[0].id,s=(0,f.find)(e.variations,function(t){return t.id===parseInt(o)});_({commit:n,state:i},[s,r])})})},e.traficSplit=function(t,e){var n=t.commit;n(p.TRAFIC_SPLIT,{traficWeights:e})},e.loadVariation=function(t,e){var n=t.commit,i=t.state,o=(0,l.default)(e,2),a=o[0],s=o[1],r=void 0!==s&&s;d.default.variation.get({pageId:i.editor.page.id,id:a.id}).then(function(t){var e=JSON.parse(t.data.html_json);n(p.LOAD_VARIATION,{variation:a,content:e}),r&&r()})}),b=(e.createEmptyVariation=function(t,e){var n=t.commit,i=(t.state,(0,l.default)(e,2)),o=i[0],a=i[1],s=void 0!==a&&a;d.default.variation.save({pageId:o},{}).then(function(t){var e=t.data;e.quota=1,n(p.CREATE_VARIATION,{variation:e}),s&&s(e)})},e.duplicateVariation=function(t,e){var n=t.commit,i=t.state;d.default.variation.duplicate({pageId:i.editor.page.id,id:e.id},{}).then(function(t){var e=t.data;e.quota=1,n(p.CREATE_VARIATION,{variation:e}),_({commit:n,state:i},[e])})},e.renameVariation=function(t,e){var n=t.commit,i=t.state,o=(0,l.default)(e,2),a=o[0],s=o[1];d.default.variation.update({pageId:i.editor.page.id,id:a.id},{name:s}).then(function(t){n(p.RENAME_VARIATION,{variation:a,newName:s})})},e.removeVariation=function(t,e){var n=t.commit,i=t.state;d.default.variation.delete({pageId:i.editor.page.id,id:e.id}).then(function(t){n(p.REMOVE_VARIATION,{variation:e}),e.id===i.editor.workspace.activeVariation.id&&_({commit:n,state:i},[i.editor.page.variations[0]])})},e.saveSettings=function(t,e){var n=t.commit;n(p.SAVE_SETTINGS,{settings:e})},e.saveVariation=function(t){var e=t.commit,n=t.state,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=(0,s.default)(n.editor.content);d.default.variation.update({pageId:n.editor.page.id,id:n.editor.workspace.activeVariation.id},{htmljson:o}).then(function(t){e(p.SAVE_VARIATION),i&&i()})},e.setURL=function(t,e){var n=(t.commit,t.state),i=(0,l.default)(e,3),o=i[0],a=i[1],s=i[2];d.default.page.update({id:n.editor.page.id},{url:o}).then(function(t){a(t.data)}).catch(function(t){s(t)})},e.publishPage=function(t,e){var n=(t.commit,t.state);d.default.page.publish({id:n.editor.page.id},{}).then(function(t){e(t.data)})},e.addSection=function(t){var e=t.commit,n=(0,f.merge)({},g.default);e(p.ADD_SECTION,{section:n}),e(p.SAVE_CONTENT_STATE)}),y=(e.moveSection=function(t,e){var n=t.commit,i=t.state,o=(0,l.default)(e,2),a=o[0],s=o[1],r=s,c=s;"down"===a&&s<i.editor.content.sections.length-1&&r++,"up"===a&&s>0&&r--,c!==r&&(n(p.MOVE_SECTION,{sourceId:c,targetId:r}),n(p.SAVE_CONTENT_STATE))},e.modifySection=function(t,e){var n=t.commit,i=(0,l.default)(e,2),o=i[0],a=i[1];n(p.MODIFY_SECTION,{sectionId:o,style:a}),n(p.SAVE_CONTENT_STATE)},e.removeSection=function(t,e){var n=t.commit;n(p.REMOVE_SECTION,{sectionId:e}),n(p.SAVE_CONTENT_STATE)},e.setActiveSectionId=function(t,e){var n=t.commit;n(p.SET_ACTIVE_SECTION_ID,{sectionId:e})},e.setCurrentSectionId=function(t,e){var n=t.commit;n(p.SET_CURRENT_SECTION_ID,{sectionId:e})},e.undo=function(t){var e=t.commit;return e(p.UNDO)},e.redo=function(t){var e=t.commit;return e(p.REDO)},e.switchVersion=function(t,e){var n=t.commit;n(p.SWITCH_VERSION,{version:e})},e.setColorSet=function(t,e){var n=t.commit,i=t.state;e!==i.editor.content.colorSet&&(n(p.SET_COLOR_SET,{colorSet:e}),n(p.SAVE_CONTENT_STATE))},e.setActiveElementId=function(t,e){var n=t.commit;n(p.SET_ACTIVE_ELEMENT_ID,{elementId:e})},e.removeElement=function(t,e){var n=t.commit,i=t.state,o=(0,l.default)(e,2),a=o[0],s=o[1],r=void 0===s||s,c=C(i,a);n(p.REMOVE_ELEMENT,{elementId:a,sectionIds:c}),r&&n(p.SAVE_CONTENT_STATE)},e.removeElements=function(t,e){for(var n=t.commit,i=t.state,o=e.length,a=0;a<o;a++){var s=e[a].id,r=C(i,s);n(p.REMOVE_ELEMENT,{elementId:s,sectionIds:r})}n(p.SAVE_CONTENT_STATE),n(p.MULTI_SELECT_CLEAR)},e.moveElement=function(t,e){var n=t.commit,i=t.state,o=(0,l.default)(e,4),a=o[0],s=o[1],r=o[2],c=o[3];y(n,i,{sectionId:a,id:s,positionInPage:r,rect:{height:c}}),n(p.SAVE_CONTENT_STATE)},e.moveElements=function(t,e){var n=t.commit,i=t.state,o=e.elements,a=o.length;if(a>0){for(var s=0;s<a;s++){var r=o[s];r.positionInPage.left+=e.move.x,r.positionInPage.top+=e.move.y,y(n,i,r)}n(p.SAVE_CONTENT_STATE)}},e.alignMoveElements=function(t,e){for(var n=t.commit,i=t.state,o=e.data,a=0,s=0;s<o.length;s++){var r=o[s];if(0!==r.move){var l=(0,f.cloneDeep)(r.element);y(n,i,l),a++}}a>0&&n(p.SAVE_CONTENT_STATE)},function(t,e,n){for(var i=n.sectionId,o=n.id,a=n.positionInPage,s=n.rect.height,r=0,l=0,c=a.top+s/2,d=-1;c>=r;)d++,l=parseInt(e.editor.content.sections[d].style[e.editor.workspace.version].height),r+=l;var u=(0,f.merge)({},e.editor.content.elements[o]);u.style[e.editor.workspace.version].top=a.top-(r-l)+"px",u.style[e.editor.workspace.version].left=a.left+"px",i!==d&&(n.sectionId=d),t(p.MOVE_ELEMENT,{elementId:o,newElement:u,sectionId:i,newSectionId:d})}),w=(e.resizeElement=function(t,e){var n=t.commit,i=t.state,o=(0,l.default)(e,2),a=o[0],s=o[1],r=(0,f.merge)({},i.editor.content.elements[a]),c=r.style[i.editor.workspace.version].height,d=c&&"auto"!==c?s.height+"px":"auto";r.style[i.editor.workspace.version].width=s.width+"px",r.style[i.editor.workspace.version].height=d,n(p.MODIFY_ELEMENT,{elementId:a,newElement:r}),n(p.SAVE_CONTENT_STATE)},e.indexElement=function(t,e){var n=t.commit,i=t.state,o=t.getters,a=(0,l.default)(e,2),s=a[0],r=a[1];w({commit:n,state:i,getters:o},[s,r]),n(p.SAVE_CONTENT_STATE)},e.indexOfElements=function(t,e){var n=t.commit,i=t.state,o=t.getters,a=(0,l.default)(e,2),s=a[0],r=a[1];s.length>0&&(s.forEach(function(t){w({commit:n,state:i,getters:o},[t.id,r])}),n(p.SAVE_CONTENT_STATE))},function(t,e){var n=t.commit,i=t.state,o=t.getters,a=(0,l.default)(e,2),s=a[0],r=a[1],c=(0,f.merge)({},i.editor.content.elements[s]);"top"===r?c.style[i.editor.workspace.version].zIndex=++o.elementsIndex[i.editor.workspace.version].max:c.style[i.editor.workspace.version].zIndex=--o.elementsIndex[i.editor.workspace.version].min,n(p.MODIFY_ELEMENT,{elementId:s,newElement:c})}),C=(e.modifyElement=function(t,e){var n=t.commit,i=t.state,o=(0,l.default)(e,3),a=o[0],s=o[1],r=o[2],c=void 0!==r&&r,d=c?(0,f.merge)({},s):(0,f.merge)({},i.editor.content.elements[a],s);n(p.MODIFY_ELEMENT,{elementId:a,newElement:d}),n(p.SAVE_CONTENT_STATE)},e.addElement=function(t,e){var n=t.commit,i=t.state,o=t.getters,a=(0,l.default)(e,2),s=a[0],r=a[1];0===i.editor.content.sections.length&&b({commit:n});var c=document.body.scrollTop||document.documentElement.scrollTop,d=(0,f.merge)({},v.default[s]),u=c+150,h=0,m=0,g=-1,_=i.editor.workspace.version,y="pc"===i.editor.workspace.version?"mobile":"pc",w=0;if(r){h=r.y;for(var C=0;h>=0;)g++,m=parseInt(i.editor.content.sections[g].style[_].height),C=h,h-=m;w=C}else{for(;h<u;)g++,m=parseInt(i.editor.content.sections[g].style[_].height),h+=m;w=u+m-h}d.style[_].top=w+"px",d.style[y].top="10px",d.style.pc.zIndex=o.elementsIndex.pc.max,d.style.mobile.zIndex=o.elementsIndex.mobile.max,n(p.ADD_ELEMENT,{sectionId:g,element:d}),"image"!==s&&n(p.SAVE_CONTENT_STATE)},e.duplicateElement=function(t,e){var n=t.commit,i=t.state,o=t.getters,a=C(i,e),s=(0,f.merge)({},i.editor.content.elements[e]);s.style.pc.zIndex=o.elementsIndex.pc.max+1,s.style.mobile.zIndex=o.elementsIndex.mobile.max+1;var r=parseInt(s.style.pc.left),l=parseInt(s.style.pc.width);r+l>i.editor.content.settings.style.width.pc-20?s.style.pc.left=(r-20>0?r-20:0)+"px":s.style.pc.left=r+20+"px";var c=parseInt(s.style.mobile.left),d=parseInt(s.style.mobile.width);c+d>i.editor.content.settings.style.width.mobile-20?s.style.mobile.left=(c-20>0?c-20:0)+"px":s.style.mobile.left=c+20+"px",s.style.pc.top=parseInt(s.style.pc.top)+20+"px",s.style.mobile.top=parseInt(s.style.mobile.top)+20+"px",n(p.DUPULICATE_ELEMENT,{newElement:s,sectionIds:a}),n(p.SAVE_CONTENT_STATE)},function(t,e){var n=null,i=null;return t.editor.content.sections.some(function(t,o){return t.elements.pc.indexOf(e)>=0&&(n=o),t.elements.mobile.indexOf(e)>=0&&(i=o),n&&i}),{pc:n,mobile:i}});e.updateAlign=function(t,e){var n=t.commit;t.state;n(p.ALIGN_UPDATE,e)},e.clearAlign=function(t){var e=t.commit;t.state;e(p.ALIGN_CLEAR)},e.updateMultiSelect=function(t,e){var n=t.commit;t.state;n(p.MULTI_SELECT_UPDATE,e)},e.doneMultiSelect=function(t){var e=t.commit;t.state;e(p.MULTI_SELECT_DONE)},e.clearMultiSelect=function(t){var e=t.commit;t.state;e(p.MULTI_SELECT_CLEAR)},e.updateMultiMove=function(t,e){var n=t.commit;t.state;n(p.UPDATE_MULTI_MOVE,e)}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.statsTraficSplit=e.statsInit=void 0;var a=n(35),s=o(a),r=n(11),l=o(r),c=n(15),d=i(c);e.statsInit=function(t,e){var n=t.commit,i=(t.state,(0,s.default)(e,2)),o=i[0],a=i[1],r=void 0!==a&&a;l.default.page.get({id:o.params.pageId}).then(function(t){var e=t.data;l.default.variation.get({pageId:e.id}).then(function(t){e.variations=t.data,n(d.LOAD_STATS_PAGE,{page:e}),r&&r()})})},e.statsTraficSplit=function(t,e){var n=t.commit;n(d.STATS_TRAFIC_SPLIT,{traficWeights:e})}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.loadingDone=e.loading=e.closeImageLibrary=e.getImage=e.getInput=e.confirm=e.warning=e.nextMessage=void 0;var a=n(35),s=o(a),r=n(15),l=i(r);e.nextMessage=function(t){var e=t.commit;e(l.NEXT_MESSAGE)},e.warning=function(t,e){var n=t.commit;n(l.WARNING,{msg:e})},e.confirm=function(t,e){var n=t.commit;n(l.CONFIRM,{msg:e})},e.getInput=function(t,e){var n=t.commit;n(l.GET_INPUT,{msg:e})},e.getImage=function(t,e){var n=t.commit,i=(0,s.default)(e,2),o=i[0],a=i[1],r=void 0!==a&&a;n(l.GET_IMAGE,{onSelect:o,onCancel:r})},e.closeImageLibrary=function(t){var e=t.commit;e(l.CLOSE_IMAGE_LIBRARY)},e.loading=function(t){var e=t.commit;e(l.LOADING)},e.loadingDone=function(t){var e=t.commit;e(l.LOAD_DONE)}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.editUser=e.activeEmail=e.resetPassword=e.forgetPassword=e.register=e.logout=e.login=e.requireLogin=e.loadUser=void 0;var a=n(35),s=o(a),r=n(15),l=i(r),c=n(11),d=o(c);e.loadUser=function(t,e){var n=t.commit;n(l.LOG_IN,{user:e})},e.requireLogin=function(t){t.commit},e.login=function(t,e){var n=t.commit,i=(0,s.default)(e,5),o=i[0],a=i[1],r=i[2],c=i[3],u=i[4];d.default.auth.save({},{email:o,password:a,remember:r}).then(function(t){var e=t.data;n(l.LOG_IN,{user:e}),c()},function(t){return u(t)})},e.logout=function(t,e){var n=t.commit;d.default.auth.delete().then(function(t){n(l.LOG_OUT),e()})},e.register=function(t,e){var n=t.commit,i=(0,s.default)(e,3),o=i[0],a=i[1],r=i[2];d.default.user.save({},o).then(function(t){var e=t.data;n(l.LOG_IN,{user:e}),a()},function(t){return r(t)})},e.forgetPassword=function(t,e){t.commit;return d.default.user.forgetPassword({},{email:e})},e.resetPassword=function(t,e){var n=(t.commit,(0,s.default)(e,2)),i=n[0],o=n[1];return d.default.user.resetPassword({},{token:i,password:o,password_confirmation:o})},e.activeEmail=function(t){t.commit},e.editUser=function(t,e){var n=t.commit;n(l.EDIT_USER,{userInfo:e})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updatedSection=e.multiMove=e.selectionArea=e.alignStatus=e.alignIds=e.alignLines=e.saveStatus=e.redoButton=e.undoButton=e.elementsIndex=e.editorHeight=e.editingPage=e.editorColorSet=e.editorFixedElements=e.editorElements=e.editorSections=e.editorSettings=e.editorWorkspace=e.imageLibrary=e.load=e.showMessage=e.message=e.editingPageGroup=e.defaultPageGroup=e.currentPageGroup=e.allPageGroups=e.projectMembersInvited=e.isProjectAdmin=e.projectAdmins=e.projectMembers=e.currentProject=e.allProjects=e.allPages=e.statsPage=e.isLogin=void 0;var i=n(4);e.isLogin=function(t){return!!t.user.current},e.statsPage=function(t){return t.stats.page},e.allPages=function(t){return t.dashboard.pages},e.allProjects=function(t){return t.dashboard.projects},e.currentProject=function(t){return t.dashboard.currentProject},e.projectMembers=function(t){return t.dashboard.projectMembers},e.projectAdmins=function(t){return t.dashboard.projectMembers.filter(function(t){return"admin"===t.pivot.role})},e.isProjectAdmin=function(t){return t.dashboard.projectMembers.some(function(e){return"admin"===e.pivot.role&&e.id===t.user.current.id})},e.projectMembersInvited=function(t){return t.dashboard.projectMembersInvited},e.allPageGroups=function(t){return t.dashboard.pageGroups.filter(function(t){return 1!==t.is_default})},e.currentPageGroup=function(t){return t.dashboard.currentPageGroup},e.defaultPageGroup=function(t){return t.dashboard.defaultPageGroup},e.editingPageGroup=function(t){return t.dashboard.editingPageGroup},e.message=function(t){return t.ui.messages[0]||{}},e.showMessage=function(t){return t.ui.messages.length>0},e.load=function(t){return t.ui.load},e.imageLibrary=function(t){return t.ui.imageLibrary},e.editorWorkspace=function(t){return t.editor.workspace},e.editorSettings=function(t){return t.editor.content.settings},e.editorSections=function(t){return t.editor.content.sections},e.editorElements=function(t){return t.editor.content.elements},e.editorFixedElements=function(t){var e=[],n=t.editor.content.elements;for(var i in n)n[i].fixed&&"none"!==n[i].fixed&&e.push(i);return e},e.editorColorSet=function(t){return t.editor.content.colorSet},e.editingPage=function(t){return t.editor.page},e.editorHeight=function(t){var e=0;return t.editor.content.sections&&t.editor.content.sections.forEach(function(n){e+=parseInt(n.style[t.editor.workspace.version].height)}),e},e.elementsIndex=function(t){var e={pc:{max:5e4,min:5e4},mobile:{max:5e4,min:5e4}},n=t.editor.content.elements;for(var i in n)e.pc.max=Math.max(n[i].style.pc.zIndex,e.pc.max),e.pc.min=Math.min(n[i].style.pc.zIndex,e.pc.min),e.mobile.max=Math.max(n[i].style.mobile.zIndex,e.mobile.max),e.mobile.min=Math.min(n[i].style.mobile.zIndex,e.mobile.min);return e},e.undoButton=function(t){return t.editor.history.index>0},e.redoButton=function(t){return t.editor.history.states.length>t.editor.history.index+1},e.saveStatus=function(t){return(0,i.isEqual)(t.editor.content,t.editor.history.saved)},e.alignLines=function(t){return t.editor.assist.align.lines},e.alignIds=function(t){return t.editor.assist.activeIds},e.alignStatus=function(t){return t.editor.assist.align.status},e.selectionArea=function(t){return t.editor.assist.selection},e.multiMove=function(t){return t.editor.assist.multi.move},e.updatedSection=function(t){return t.editor.assist.updatedSection}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(20),r=o(s),l=n(15),c=i(l),d=n(5),u=o(d),p=n(4),f={projects:[],currentProject:{},projectMembers:[],projectMembersInvited:[],pageGroups:[],currentPageGroup:{},defaultPageGroup:{},editingPageGroup:{},pages:[]},h=(a={},(0,r.default)(a,c.LOAD_PROJECTS,function(t,e){var n=e.projects;t.projects=n}),(0,r.default)(a,c.LOG_OUT,function(t){t.projects=[],t.pageGroups=[],t.pages=[]}),(0,r.default)(a,c.SET_CURRENT_PROJECT,function(t,e){var n=e.project;t.currentProject=n}),(0,r.default)(a,c.LOAD_MEMBERS,function(t,e){var n=e.members,i=e.invited;t.projectMembers=n,t.projectMembersInvited=i}),(0,r.default)(a,c.REMOVE_MEMBER,function(t,e){var n=e.member;t.projectMembers.splice(t.projectMembers.indexOf(n),1)}),(0,r.default)(a,c.CANCEL_INVITE,function(t,e){var n=e.inviteId;u.default.delete(t.projectMembersInvited,n)}),(0,r.default)(a,c.CREATE_PROJECT,function(t,e){var n=e.project;t.projects.push(n)}),(0,r.default)(a,c.LOAD_PAGEGROUPS,function(t,e){var n=e.pageGroups;t.pageGroups=n,t.defaultPageGroup=(0,p.find)(n,function(t){return 1===t.is_default})}),(0,r.default)(a,c.SET_CURRENT_PAGEGROUP,function(t,e){var n=e.pageGroup;t.currentPageGroup=n,t.pages=[]}),(0,r.default)(a,c.CREATE_PAGEGROUP,function(t,e){var n=e.pageGroup;t.pageGroups.push(n),t.editingPageGroup=n}),(0,r.default)(a,c.REMOVE_PAGEGROUP,function(t,e){var n=e.pageGroup;t.pageGroups.splice(t.pageGroups.indexOf(n),1)}),(0,r.default)(a,c.SET_EDITING_PAGEGROUP,function(t,e){var n=e.pageGroup;t.editingPageGroup=n}),(0,r.default)(a,c.RENAME_PAGEGROUP,function(t,e){var n=e.pageGroup,i=e.newName;n.name=i}),(0,r.default)(a,c.EMPTY_PAGEGROUPS,function(t){t.pageGroups=[]}),(0,r.default)(a,c.LOAD_PAGES,function(t,e){var n=e.pages;t.pages=n}),(0,r.default)(a,c.CREATE_PAGE,function(t,e){var n=e.page;t.pages.push(n)}),(0,r.default)(a,c.REMOVE_PAGE,function(t,e){var n=e.page;t.pages.splice(t.pages.indexOf(n),1)}),(0,r.default)(a,c.RENAME_PAGE,function(t,e){var n=e.page,i=e.newName;n.name=i}),(0,r.default)(a,c.EMPTY_PAGES,function(t){t.pages=[]}),a);e.default={state:f,mutations:h}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(20),r=o(s),l=n(5),c=o(l),d=n(15),u=i(d),p=n(4),f=n(149),h=o(f),v={workspace:{width:360,version:"mobile",activeSectionId:null,currentSectionId:0,activeElementId:"",activeVariation:null,saveStatus:"saved"},page:{},content:{},assist:{activeIds:[],elements:[],align:{lines:{vertical:[],horizontal:[]}},multi:{move:null},selection:{left:0,top:0,right:0,bottom:0,visible:!1},updatedSection:null},history:{states:[],index:0,saved:{}}},m=(a={},(0,r.default)(a,u.LOAD_PAGE,function(t,e){var n=e.page;t.page=(0,p.merge)({},n)}),(0,r.default)(a,u.LOAD_VARIATION,function(t,e){var n=e.variation,i=e.content,o={settings:{seo:{pageTitle:"",keywords:"",description:""},goals:[],code:{header:"",bodyIn:"",bodyOut:""},style:{width:{pc:960,mobile:360}}},colorSet:["#FCFFF5","#D1DBBD","#91AA9D","#3E606F","#193441"],sections:[],elements:{}};t.workspace.activeVariation=n,t.content=(0,p.merge)({},o,i),t.history.states=[(0,p.merge)({},t.content)],t.history.index=0,t.history.saved=(0,p.merge)({},t.content)}),(0,r.default)(a,u.SAVE_VARIATION,function(t){t.history.saved=(0,p.merge)({},t.content)}),(0,r.default)(a,u.CREATE_VARIATION,function(t,e){var n=e.variation;t.page.variations&&t.page.variations.push(n)}),(0,r.default)(a,u.REMOVE_VARIATION,function(t,e){var n=e.variation;t.page.variations.splice(t.page.variations.indexOf(n),1)}),(0,r.default)(a,u.RENAME_VARIATION,function(t,e){var n=e.variation,i=e.newName;n.name=i,t.workspace.activeVariation.id===n.id&&(t.workspace.activeVariation=n)}),(0,r.default)(a,u.TRAFIC_SPLIT,function(t,e){var n=e.traficWeights;t.page.variations.forEach(function(t){t.quota=n[t.id]})}),(0,r.default)(a,u.SAVE_SETTINGS,function(t,e){var n=e.settings;t.content.settings=n}),(0,r.default)(a,u.SAVE_CONTENT_STATE,function(t){t.history.index++,t.history.states=t.history.states.slice(0,t.history.index),t.history.states.push((0,p.merge)({},t.content)),t.workspace.undo=!0,t.workspace.redo=!1}),(0,r.default)(a,u.UNDO,function(t){t.history.index>=1&&(t.history.index--,t.content=(0,p.merge)({},t.history.states[t.history.index]),t.workspace.redo=!0,t.history.index<1&&(t.workspace.undo=!1)),t.assist.activeIds=[],t.assist.selection.visible=!1}),(0,r.default)(a,u.REDO,function(t){t.history.states.length>t.history.index+1&&(t.history.index++,t.content=(0,p.merge)({},t.history.states[t.history.index]),t.workspace.undo=!0,t.history.states.length===t.history.index+1&&(t.workspace.redo=!1)),t.assist.activeIds=[],t.assist.selection.visible=!1}),(0,r.default)(a,u.SWITCH_VERSION,function(t,e){var n=e.version;n!==t.workspace.version&&(t.workspace.version=n,t.workspace.width="pc"===t.workspace.version?960:360,t.assist.activeIds=[],t.assist.selection={left:0,top:0,right:0,bottom:0,visible:!1})}),(0,r.default)(a,u.SET_COLOR_SET,function(t,e){var n=e.colorSet;t.content.colorSet=n}),(0,r.default)(a,u.ADD_SECTION,function(t,e){var n=e.section;t.content.sections.push(n)}),(0,r.default)(a,u.MOVE_SECTION,function(t,e){var n=e.sourceId,i=e.targetId;t.content.sections[n]=t.content.sections.splice(i,1,t.content.sections[n])[0]}),(0,r.default)(a,u.REMOVE_SECTION,function(t,e){var n=e.sectionId;t.content.sections.splice(n,1)}),(0,r.default)(a,u.MODIFY_SECTION,function(t,e){var n=e.sectionId,i=e.style;t.content.sections[n].style=(0,p.merge)({},t.content.sections[n].style,i),t.assist.updatedSection={id:n}}),(0,r.default)(a,u.SET_ACTIVE_SECTION_ID,function(t,e){var n=e.sectionId;t.workspace.activeSectionId=n}),(0,r.default)(a,u.SET_CURRENT_SECTION_ID,function(t,e){
var n=e.sectionId;t.workspace.currentSectionId=n}),(0,r.default)(a,u.SET_ACTIVE_ELEMENT_ID,function(t,e){var n=e.elementId;t.workspace.activeElementId=n}),(0,r.default)(a,u.MODIFY_ELEMENT,function(t,e){var n=e.elementId,i=e.newElement;c.default.set(t.content.elements,n,(0,p.merge)({},i))}),(0,r.default)(a,u.ADD_ELEMENT,function(t,e){var n=e.sectionId,i=e.element,o=(0,h.default)(8);c.default.set(t.content.elements,o,i),t.content.sections[n].elements.pc.push(o),t.content.sections[n].elements.mobile.push(o),t.workspace.activeElementId=o}),(0,r.default)(a,u.DUPULICATE_ELEMENT,function(t,e){var n=e.newElement,i=e.sectionIds,o=(0,h.default)(8);c.default.set(t.content.elements,o,n),null!==i.pc&&t.content.sections[i.pc].elements.pc.push(o),null!==i.mobile&&t.content.sections[i.mobile].elements.mobile.push(o),t.workspace.activeElementId=o}),(0,r.default)(a,u.MOVE_ELEMENT,function(t,e){var n=e.elementId,i=e.newElement,o=e.sectionId,a=e.newSectionId;if(c.default.set(t.content.elements,n,(0,p.merge)({},i)),o!==a){var s=t.content.sections[o].elements[t.workspace.version],r=s.indexOf(n);s.splice(r,1);var l=t.content.sections[a].elements[t.workspace.version];l.push(n)}}),(0,r.default)(a,u.UPDATE_MULTI_MOVE,function(t,e){t.assist.multi.move=e}),(0,r.default)(a,u.REMOVE_ELEMENT,function(t,e){var n=e.elementId,i=e.sectionIds;null!==i.pc&&t.content.sections[i.pc].elements.pc.splice(t.content.sections[i.pc].elements.pc.indexOf(n),1),null!==i.mobile&&t.content.sections[i.mobile].elements.mobile.splice(t.content.sections[i.mobile].elements.mobile.indexOf(n),1),c.default.delete(t.content.elements,n)}),(0,r.default)(a,u.ALIGN_UPDATE,function(t,e){var n=function(t,e){return 0!==t.length||0!==e.length};n(t.assist.activeIds,e.ids)&&(t.assist.activeIds=e.ids),n(t.assist.align.lines.vertical,e.lines.vertical)&&(t.assist.align.lines.vertical=e.lines.vertical),n(t.assist.align.lines.horizontal,e.lines.horizontal)&&(t.assist.align.lines.horizontal=e.lines.horizontal)}),(0,r.default)(a,u.ALIGN_CLEAR,function(t){t.assist.align.lines={vertical:[],horizontal:[]},t.assist.activeIds=[]}),(0,r.default)(a,u.MULTI_SELECT_UPDATE,function(t,e){t.assist.activeIds=e.ids,t.assist.selection=e.selection}),(0,r.default)(a,u.MULTI_SELECT_DONE,function(t){var e=t.assist.activeIds,n=e.length>0;t.assist.selection.visible=n}),(0,r.default)(a,u.MULTI_SELECT_CLEAR,function(t){t.assist.activeIds=[];var e=(0,p.clone)(t.assist.selection);t.assist.selection=e,t.assist.selection.visible=!1}),a);e.default={state:v,mutations:m}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(20),r=o(s),l=n(15),c=i(l),d={page:{}},u=(a={},(0,r.default)(a,c.LOAD_STATS_PAGE,function(t,e){var n=e.page;t.page=n}),(0,r.default)(a,c.STATS_TRAFIC_SPLIT,function(t,e){var n=e.traficWeights;t.page.variations.forEach(function(t){t.quota=n[t.id]})}),a);e.default={state:d,mutations:u}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(20),r=o(s),l=n(15),c=i(l),d=n(4),u={messageBox:{onCancel:!1,onConfirm:!1,header:"",content:"",inputAddon:"",placeholder:"",hint:"",width:"400px",type:"warning"},load:{status:"done",failedInfo:"",retry:""},imageLibrary:{loading:"loading",show:!1,onSelect:!1,onCancel:!1,images:[]},messages:[]},p=(a={},(0,r.default)(a,c.WARNING,function(t,e){var n=e.msg,i=(0,d.merge)({},t.messageBox,n);i.type="warning",t.messages.push(i)}),(0,r.default)(a,c.CONFIRM,function(t,e){var n=e.msg,i=(0,d.merge)({},t.messageBox,n);i.type="confrim",t.messages.push(i)}),(0,r.default)(a,c.GET_INPUT,function(t,e){var n=e.msg,i=(0,d.merge)({},t.messageBox,n);i.type="input",t.messages.push(i)}),(0,r.default)(a,c.NEXT_MESSAGE,function(t){t.messages.shift()}),(0,r.default)(a,c.GET_IMAGE,function(t,e){var n=e.onSelect,i=e.onCancel;t.imageLibrary.onSelect=n,t.imageLibrary.onCancel=i,t.imageLibrary.show=!0}),(0,r.default)(a,c.CLOSE_IMAGE_LIBRARY,function(t){t.imageLibrary.onSelect=!1,t.imageLibrary.onCancel=!1,t.imageLibrary.show=!1}),(0,r.default)(a,c.LOAD_IMAGES,function(t,e){var n=e.images;t.imageLibrary.images=n}),(0,r.default)(a,c.LOADING,function(t){t.load.status="loading"}),(0,r.default)(a,c.LOAD_FAILED,function(t,e){var n=e.source,i=e.err,o=e.retry,a=void 0===o?null:o;switch(n){case"projects":t.load.status="failed",t.load.failedInfo="加载项目列表失败";break;case"pageGroups":t.load.status="failed",t.load.failedInfo="加载页面分组失败";break;case"members":break;case"pages":t.load.status="failed",t.load.failedInfo="加载页面列表失败"}t.load.retry=a||null,console.log(n,i)}),(0,r.default)(a,c.LOAD_DONE,function(t){t.load.status="done"}),a);e.default={state:u,mutations:p}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(20),r=o(s),l=n(15),c=i(l),d={current:null},u=(a={},(0,r.default)(a,c.LOG_IN,function(t,e){var n=e.user;t.current=n}),(0,r.default)(a,c.LOG_OUT,function(t){t.current=null}),(0,r.default)(a,c.EDIT_USER,function(t,e){var n=e.userInfo;t.current=n}),a);e.default={state:d,mutations:u}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="[-\\+]?\\d+%?",i="[-\\+]?\\d*\\.\\d+%?",o="(?:"+i+")|(?:"+n+")",a="[\\s|\\(]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")\\s*\\)?",s="[\\s|\\(]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")[,|\\s]+("+o+")\\s*\\)?",r={CSS_UNIT:new RegExp(o),rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};e.default=r},function(t,e,n){"use strict";function i(){var t=[];for(var e in a)a.hasOwnProperty(e)&&t.push(e);return t.sort().reverse(),new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+t.join("|")+"|.)","g")}Object.defineProperty(e,"__esModule",{value:!0}),e.formatters=void 0,e.buildFormattingRegExp=i;var o=n(28),a=e.formatters={M:function(t){return t.getMonth()+1},MM:function(t){return(0,o.addLeadingZeros)(t.getMonth()+1,2)},YYYY:function(t){return(0,o.addLeadingZeros)(t.getFullYear(),4)},D:function(t){return t.getDate()},DD:function(t){return(0,o.addLeadingZeros)(t.getDate(),2)},H:function(t){return t.getHours()},HH:function(t){return(0,o.addLeadingZeros)(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return(0,o.addLeadingZeros)(a.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return(0,o.addLeadingZeros)(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return(0,o.addLeadingZeros)(t.getSeconds(),2)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(87),a=i(o),s=n(33),r=i(s),l=n(34),c=i(l),d=n(4),u=n(146),p=[{sides:["left","right","hcenter"],value:"vcenter"},{sides:["top","bottom","vcenter"],value:"hcenter"}],f=3,h={x:0,y:0,offset:{x:0,y:0},status:{x:!1,y:!1}},v=function(){function t(e){(0,r.default)(this,t),this.dm=e,this.groupCache=new u.AlignGroup,this.currentElement=null,this.firstMove=!1,this.cache=(0,d.cloneDeep)(h)}return(0,c.default)(t,[{key:"alignBegin",value:function(t){this.firstMove=!0;var e=this.dm.indexOf(t);e<0||(this.currentElement=this.dm.get(e),this.groupCache.reinit(),this.alignFindAll())}},{key:"alignFindAll",value:function(){var t=this;if(null!==this.currentElement){var e=(0,d.cloneDeep)(this.currentElement);this.dm.loopAll(e,function(n){for(var i=0;i<2;i++)for(var o=p[i],a=o.sides,s=1===i,r=s?"y":"x",l=0;l<3;l++)for(var c=a[l],d=0;d<3;d++){var u=a[d],f=n.rect[u]-e.rect[c];t.groupCache.addKey(r,f),t.groupCache.addId(r,f,n.id),t.groupCache.addEl(r,c,f,n.rect[o.value])}})}}},{key:"hasNext",value:function(t){var e={x:this.cache.x!==t.x,y:this.cache.y!==t.y},n=this.groupCache.findX(t.x),i=this.groupCache.findY(t.y);return{state:n||i,hasMove:e}}},{key:"checkAlignBreak",value:function(){var t=Math.abs(this.cache.offset.x)>=f,e=Math.abs(this.cache.offset.y)>=f;return{x:t,y:e}}},{key:"alignNext",value:function(t){var e=t.move,n=t.offset,i=t.options.speed>=2,o=this.cache.status,a=e.x,s=e.y,r=!1,l=null;if(this.firstMove)r=!0,this.firstMove=!1,this.cache.offset.x=0,this.cache.offset.y=0,this.cache.x=a,this.cache.y=s;else if(this.cache.status.x&&(this.cache.offset.x+=n.x),this.cache.status.y&&(this.cache.offset.y+=n.y),!i){0===n.x,0===n.y;var c=this.groupCache.findX(e.x),u=this.groupCache.findY(e.y);if(c||u)r=!0,this.cache.x=a,this.cache.y=s;else if(r=!1,o.x||o.y){l={x:!1,y:!1};var p=this.checkAlignBreak();!p.x&&o.x?(a=this.cache.x,l.x=!0):this.cache.x=a,!p.y&&o.y?(s=this.cache.y,l.y=!0):this.cache.y=s}}var f=null;if(r&&!i||l&&(l.x||l.y))f=this.alignSearch({x:a,y:s});else{var h=this.cache.status,v={horizontal:[],vertical:[]};f={ids:[],status:h,lines:v}}return{x:a,y:s,alignData:f,offset:(0,d.clone)(this.cache.offset)}}},{key:"moveCurrent",value:function(t){var e=(0,d.cloneDeep)(this.currentElement),n=e.rect;if(t)for(var i=p[0].sides,o=p[1].sides,a=0;a<3;a++)n[i[a]]+=t.x,n[o[a]]+=t.y;return e}},{key:"alignSearch",value:function(t){if(null!==this.currentElement){console.log("search");var e=this.moveCurrent(t),n=this.groupCache.findX(t.x),i=this.groupCache.findY(t.y),o=[],a=[],s={x:!1,y:!1};n&&(o=n.ids,s.x=!0),i&&(a=i.ids,s.y=!0);var r=(0,u.mergeArr)(o,a),l={vertical:[],horizontal:[]};if(s.x||s.y){var c=this.toLines(n,e,!0),p=this.toLines(i,e,!1);l.vertical=c.lines,l.horizontal=p.lines}return s.x&&(this.cache.offset.x=0,this.cache.x=t.x),s.y&&(this.cache.offset.y=0,this.cache.y=t.y),this.cache.status=(0,d.clone)(s),{ids:r,lines:l,status:s}}}},{key:"toLines",value:function(t,e,n){var i=!1,o=[];if(t){var s=n?0:1,r=p[s],l=r.sides;l.forEach(function(s){var l=t[s];if(!(l.length<=0)){var c=e.rect[r.value],d=Math.min.apply(Math,(0,a.default)(l).concat([c])),u=Math.max.apply(Math,(0,a.default)(l).concat([c]));i=!0;var p={vertical:n,length:u-d,min:d,max:u,vAxis:e.rect[s],dots:[].concat((0,a.default)(l),[c])};o.push(p)}})}return{status:i,lines:o}}},{key:"convertLines",value:function(t,e,n){var i={x:!1,y:!1},o={vertical:[],horizontal:[]};if(null!==t)for(var s=function(n){var s=p[n],r=s.sides,l=0===n;r.forEach(function(n){var r=t[n];if(!(r.length<=0)){var c=e.rect[s.value],d=Math.min.apply(Math,(0,a.default)(r).concat([c])),u=Math.max.apply(Math,(0,a.default)(r).concat([c]));i[l?"x":"y"]=!0;var p={vertical:l,length:u-d,min:d,max:u,vAxis:e.rect[n],dots:[].concat((0,a.default)(r),[c])};o[l?"vertical":"horizontal"].push(p)}})},r=0;r<2;r++)s(r);return{status:i,lines:o}}},{key:"alignEnd",value:function(){this.cache=(0,d.cloneDeep)(h),this.firstMove=!0,this.currentElement=null}}]),t}();e.default=v},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){var i=t instanceof Array,o=e instanceof Array;if(i&&o){var a=t.concat(e);return n&&(a=(0,m.uniq)(a)),a}return i?t:o?e:[]}function a(t){var e={};return e=t?{top:[],bottom:[],vcenter:[]}:{left:[],right:[],hcenter:[]},e.ids=[],e}Object.defineProperty(e,"__esModule",{value:!0}),e.AlignGroup=void 0;var s=n(251),r=i(s),l=n(256),c=i(l),d=n(255),u=i(d),p=n(33),f=i(p),h=n(34),v=i(h);e.mergeArr=o;var m=n(4),g=function(){function t(){(0,f.default)(this,t),this.init()}return(0,v.default)(t,[{key:"init",value:function(){this.data={x:{},y:{}}}},{key:"reinit",value:function(){this.init()}}]),t}();e.AlignGroup=function(t){function e(){return(0,f.default)(this,e),(0,c.default)(this,(e.__proto__||(0,r.default)(e)).apply(this,arguments))}return(0,u.default)(e,t),(0,v.default)(e,[{key:"addKey",value:function(t,e){if(!this.data[t][e]){var n="y"===t;this.data[t][e]=a(n)}}},{key:"addId",value:function(t,e,n){this.data[t][e].ids.push(n)}},{key:"addEl",value:function(t,e,n,i){this.data[t][n][e].push(i)}},{key:"findX",value:function(t){return this.data.x[t]}},{key:"findY",value:function(t){return this.data.y[t]}},{key:"find",value:function(t){return{x:this.findX(t.x),y:this.findY(t.y)}}}]),e}(g)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(33),a=i(o),s=n(34),r=i(s),l=n(4),c=function(){function t(){(0,a.default)(this,t),this.data=[]}return(0,r.default)(t,[{key:"add",value:function(t){this.data.push(t)}},{key:"update",value:function(t){var e=(0,l.findIndex)(this.data,function(e){return e.id===t.id});e>=0?this.data[e]=t:this.data.push(t)}},{key:"moveElement",value:function(t,e){this.loop(function(n){n.id===t&&(n.rect.left+=e.x,n.rect.right+=e.x,n.rect.hcenter+=e.x,n.rect.top+=e.y,n.rect.bottom+=e.y,n.rect.vcenter+=e.y,n.positionInPage.left+=e.x,n.positionInPage.top+=e.y)})}},{key:"moveElements",value:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].id;this.moveElement(i,e)}}},{key:"updateResize",value:function(t,e){}},{key:"remove",value:function(t){this.data=this.data.filter(function(e){return t!==e.mid})}},{key:"indexOf",value:function(t){var e=(0,l.findIndex)(this.data,function(e){return e.id===t});return e}},{key:"get",value:function(t){return this.data[t]}},{key:"loop",value:function(t){for(var e=0;e<this.data.length;e++)t(this.data[e])}},{key:"loopAll",value:function(t,e){for(var n=0;n<this.data.length;n++){var i=this.data[n];t.id!==i.id&&e(i)}}}]),t}();e.default=c},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=!1,i=!1;return n=t.left>=e.left?t.left-e.left<=e.width:e.left-t.left<=t.width,i=t.top>=e.top?t.top-e.top<=e.height:e.top-t.top<=t.height,n&&i}Object.defineProperty(e,"__esModule",{value:!0});var a=n(33),s=i(a),r=n(34),l=i(r),c=n(4),d=1,u=2,p=3,f=function(){function t(e){(0,s.default)(this,t),this.dm=e,this.data=[],this.selection=null}return(0,l.default)(t,[{key:"select",value:function(t){var e=[],n=[],i=t.rect,a=(0,c.clone)(i),s=t.origin;a.left-=s.left;var r={};return this.dm.loop(function(t){o(t.rect,a)&&(e.length<=0?(r.left=t.rect.left,r.right=t.rect.right,r.top=t.rect.top,r.bottom=t.rect.bottom):(r.left=Math.min(r.left,t.rect.left),r.top=Math.min(r.top,t.rect.top),r.right=Math.max(r.right,t.rect.right),r.bottom=Math.max(r.bottom,t.rect.bottom)),e.push(t.id),n.push(t))}),this.data=n,this.selection=r,{ids:e,selection:r}}},{key:"get",value:function(){return this.data}},{key:"move",value:function(t){for(var e=0;e<t.length;e++)for(var n=t[e],i=0;i<this.data.length;i++){var o=t[i];o.id===n.id&&(n.sectionId=o.sectionId)}}},{key:"alignLeft",value:function(){return this.alignMove(d)}},{key:"alignCenter",value:function(){return this.alignMove(p)}},{key:"alignRight",value:function(){return this.alignMove(u)}},{key:"alignMove",value:function(t){var e=this.selection;if(null===e)return null;for(var n=[],i=0;i<this.data.length;i++){var o=this.data[i],a=e.left-o.rect.left;switch(t){case d:break;case p:a+=(e.right-e.left)/2-o.rect.width/2;break;case u:a+=e.right-e.left-o.rect.width}o.positionInPage.left+=a,o.rect.left+=a,o.rect.right+=a,o.rect.hcenter+=a,n.push({element:o,move:a})}return n}}]),t}();e.default=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){for(var e="0123456789abcdefghijklmnopqrstuvwxyz",n="",i=0;i<t;i++)n+=e.charAt(Math.ceil(1e8*Math.random())%e.length);return n};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};n.install=function(t,e){t.prototype.$ui={headerHeight:50,bodyScrollTop:function(){return document.body.scrollTop||document.documentElement.scrollTop},scrollTop:function(){var t=document.body.scrollTop||document.documentElement.scrollTop;return t-50}}},e.default=n},function(t,e){"use strict";function n(t){var e=new window.DOMParser,n=e.parseFromString(t,"text/html"),i=n.documentElement.querySelector("body"),o=null;if(i.children&&i.children.length>=1){var a=i.children[0],s=a.tagName;if("IFRAME"===s||"OBJECT"===s||"EMBED"===s)return o={},o.type=s,o.width=a.getAttribute("width"),o.height=a.getAttribute("height"),o.src=a.getAttribute("src"),o}return o}function i(t){return a(t)||r(t)}function o(t){return t.replace(/(\?.*)$/,"")}function a(t){return d.raw.test(o(t))}function s(t){return d.h5raw.test(o(t))}function r(t){return null!==n(t)}Object.defineProperty(e,"__esModule",{value:!0});var l=["mp4","webm","ogv","flv","mov"],c=["mp4","webm","ogv"],d={raw:new RegExp(".("+l.join("|")+")$"),h5raw:new RegExp(".("+c.join("|")+")$")};e.default={isValid:i,isRaw:a,isH5Raw:s,isEmbed:r,parseXML:n}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(107),a=(i(o),n(6)),s=(i(a),n(100)),r=i(s),l=n(485),c=i(l),d=n(486),u=i(d),p=n(5),f=i(p);f.default.use(r.default),e.default={name:"App",components:{MessageBox:c.default,Spinner:u.default}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(324),a=(i(o),n(312)),s=i(a),r=n(107),l=(i(r),n(100)),c=i(l),d=n(2),u=i(d),p=n(12),f=(i(p),n(6)),h=(i(f),n(10)),v=i(h),m=n(11),g=i(m),_=n(3);e.default={components:{Tooltip:v.default},data:function(){return{changePassword:!1,user:(0,u.default)({},this.$store.state.user.current),uploading:!1,messages:{avatarTooSmall:{type:"warning",content:"图片宽度和高度不能小于160像素"},fieldEmpty:function(t){return{type:"warning",content:t+"不能为空"}},passNotMatch:{type:"error",content:"两次输入的新密码不相同"},editSuccess:{type:"success",content:"用户信息已修改成功"},authFail:{type:"error",content:"用户验证失败"},avatarFail:{type:"error",content:"用户头像修改失败"}},oldPassword:"",newPassword:"",newPassword2:""}},computed:{avatarClip:function(){return this.user&&this.user.avatar?this.user.avatar+"?x-oss-process=image/resize,m_fill,h_120,w_120":null}},created:function(){document.title="我的账号 - 聚页"},methods:(0,u.default)({},(0,_.mapActions)(["editUser"]),{editDone:function(){this.editUser(this.user)},avatarSelect:function(){this.$refs.file.value=null,this.$refs.file.click()},avatarLoad:function(t){var e=this,n=this.$refs.file.files[0],i=document.createElement("img");i.onload=function(){var t=i.naturalWidth||i.width,o=i.naturalHeight||i.height;if(t<160||o<160)e.showMessage(e.messages.avatarTooSmall);else{var a=new window.FormData;a.append("avatar",n);var s=c.default.service({fullscreen:!1,text:"正在上传",target:e.$refs.avatar});g.default.user.edit(a).then(function(t){var n=t.body.avatar;n&&"string"==typeof n&&n.length>0&&(e.user.avatar=n,e.editDone())}).catch(function(){console.error("用户头像上传失败"),e.showMessage(e.messages.avatarFail)}).finally(function(){s.close()})}};var o=window.URL||window.webkitURL;i.src=o.createObjectURL(n)},showMessage:function(t){s.default[t.type]({message:t.content,showClose:!0})},save:function(){var t=this,e=function(t){return"string"==typeof t&&t.length<=0},n=new window.FormData,i=this.user.name;if(e(i))return void this.showMessage(this.messages.fieldEmpty("用户名"));if(this.changePassword){if(e(this.oldPassword))return void this.showMessage(this.messages.fieldEmpty("旧密码"));if(e(this.newPassword)||e(this.newPassword2))return void this.showMessage(this.messages.fieldEmpty("新密码"));if(this.newPassword!==this.newPassword2)return void this.showMessage(this.messages.passNotMatch);n.append("old_password",this.oldPassword),n.append("password",this.newPassword),n.append("password_confirmation",this.newPassword2)}n.append("name",i),g.default.user.edit(n).then(function(e){t.showMessage(t.messages.editSuccess),t.user=e.body,t.editDone()}).catch(function(e){401===e.status&&t.showMessage(t.messages.authFail)})}}),watch:{"$store.state.user.current":function(t){this.user=(0,u.default)({},t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(52),r=i(s),l=n(3),c=n(28);e.default={components:{Auth:r.default},data:function(){return{error:"",emailSent:!1}},methods:(0,a.default)({},(0,l.mapActions)(["forgetPassword","loading","loadingDone"]),{formSubmit:function(t){var e=this,n=t.target.email.value;return c.emailRE.test(n)?(this.loading(),void this.forgetPassword(n).then(function(){e.loadingDone(),e.emailSent=!0}).catch(function(t){404===t.status&&(e.error="您输入的邮箱尚未注册。"),e.loadingDone()})):void(this.error="请输入正确的邮箱地址")}}),mounted:function(){document.title="密码重设 - 聚页"}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(52),r=i(s),l=n(3);e.default={name:"Login",components:{Auth:r.default},data:function(){return{error:""}},methods:(0,a.default)({},(0,l.mapActions)(["login","loading","loadingDone"]),{formSubmit:function(t){var e=this,n=t.target.email.value,i=t.target.password.value,o=t.target.remember.checked;return n?i?(this.loading(),void this.login([n,i,o,function(){e.loadingDone(),e.$router.replace(e.$route.query.redirect||"/")},function(t){switch(e.loadingDone(),t.status){case 401:e.error="密码错误！";break;case 422:e.error="帐号错误！";break;default:e.error="登陆失败！"}}])):void(this.error="请输入您的密码"):void(this.error="请输入您的电子邮件")}}),mounted:function(){document.title="登陆 - 聚页"}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(52),r=i(s),l=n(3),c=n(28);e.default={components:{Auth:r.default},data:function(){return{error:"",token:this.$route.query.token||"",invitedEmail:this.$route.query.email||""}},methods:(0,a.default)({},(0,l.mapActions)(["register","loading","loadingDone"]),{formSubmit:function(t){var e=this,n=t.target.name.value,i=t.target.email.value,o=t.target.password.value;if(this.error="",!n)return void(this.error="请输入您的姓名！");if(n.length>20)return void(this.error="姓名长度不能超过20个字符");if(!c.emailRE.test(i))return void(this.error="邮箱地址格式不正确。");if(o.length<6)return void(this.error="密码长度至少要6位。");var a={name:n,email:i,password:o,i:this.token};this.loading(),this.register([a,function(){e.loadingDone(),e.$router.replace("/")},function(t){return e.loadingDone(),422===t.status?void(e.error="您输入的邮箱已经注册过了。"):void(e.error="注册失败，请稍后再试。")}])}}),mounted:function(){document.title="注册 - 聚页"}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(52),r=i(s),l=n(3);e.default={components:{Auth:r.default},data:function(){return{error:"",success:!1}},methods:(0,a.default)({},(0,l.mapActions)(["resetPassword","loading","loadingDone"]),{formSubmit:function(t){var e=this,n=t.target.new_password.value,i=t.target.password_confirmation.value,o=this.$route.params.token;return this.error="",n.length<6?void(this.error="密码长度至少要6位。"):n!==i?void(this.error="两次输入的密码不一致。"):(this.loading(),void this.resetPassword([o,n]).then(function(){e.loadingDone(),e.success=!0}).catch(function(t){e.loadingDone(),e.error=t.error}))}}),mounted:function(){document.title="修改密码 - 聚页"}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(87),a=i(o),s=n(2),r=i(s),l=n(81),c=i(l),d=n(11),u=i(d),p=n(3);e.default={name:"AbSplit",props:{show:{type:Boolean,required:!0},variations:{type:Array,required:!0},pageId:{type:Number,required:!0}},components:{Modal:c.default},data:function(){return{weights:[],error:""}},methods:(0,r.default)({},(0,p.mapActions)(["loading","loadingDone"]),{save:function(){var t=this,e={};this.variations.forEach(function(n,i){e[n.id]=t.weights[i]}),this.loading(),u.default.page.split({id:this.pageId},{quota:e}).then(function(n){t.$emit("update-split",e),t.$emit("close")}).catch(function(){t.error="保存失败，请稍后再试！"}).finally(function(){t.loadingDone()})},decrease:function(t){this.changeWeight(t,this.weights[t]-1)},increase:function(t){this.changeWeight(t,this.weights[t]+1)},changeWeight:function(t,e){var n=this;e=e<0?0:e,e=e>100?100:e;var i=this.weights,o=i[t]-e,s=t===i.length-1?0:t+1;i[t]=e,i[s]+=o,i[s]<0&&this.$nextTick(function(){n.changeWeight(s,0)}),this.weights=[].concat((0,a.default)(i))},inputWeight:function(t){this.changeWeight(parseInt(t.target.getAttribute("data-index")),parseInt(t.target.value)||0)}}),created:function(){var t=[],e=this.variations.reduce(function(t,e){return t+parseFloat(e.quota)},0),n=this.variations.reduce(function(n,i,o){return t[o]=parseInt(i.quota/e*100),n+t[o]},0);t[t.length-1]+=100-n,this.weights=[].concat(t)}}},function(t,e){"use strict"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(428),a=i(o),s=n(427),r=i(s);e.default={name:"Home",components:{AppHeader:a.default,AppFooter:r.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Previewer",props:{url:{type:String,required:!0},version:{type:String,default:"mobile"}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"VersionSwitcher",props:{showAll:{type:Boolean,default:!1},version:String},methods:{onSwitch:function(t){this.$emit("change",t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(436),a=i(o),s=n(434),r=i(s),l=n(435),c=i(l);e.default={name:"Dashboard",components:{Workspace:a.default,ProjectList:r.default,ProjectMembers:c.default},mounted:function(){document.title="控制面板 - 聚页"}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(12),r=(i(s),n(6)),l=(i(r),n(10)),c=i(l),d=n(27),u=i(d),p=n(3),f=n(28);e.default={name:"member",props:{member:{type:Object,required:!0}},components:{Tooltip:c.default},data:function(){return{show:!1}},computed:(0,a.default)({},(0,p.mapGetters)({isAdmin:"isProjectAdmin",project:"currentProject"}),{memberName:function(){var t=this.member.name||this.member.email,e=t.substr(t.length-2,2);return f.chineseRE.test(e)?e:t.substr(0,2).toUpperCase()},memberRole:function(){return this.member.pivot?this.member.pivot.role:"invited"}}),methods:(0,a.default)({},(0,p.mapActions)(["removeMember","cancelInvite","confirm"]),{toggle:function(){var t=this;if(this.show)this.show=!1,this._closeEvent&&this._closeEvent.remove();else{this.show=!0;var e=this.$el,n=this.$refs.tooltip;this._closeEvent=u.default.listen(window,"click",function(i){e.contains(i.target)||n.contains(i.target)||!t.show||t.toggle()})}},remove:function(){var t=this;this.confirm({header:"移除成员",content:"确定将"+this.member.name+"移除出此项目吗？",onConfirm:function(){"invited"===t.memberRole?t.cancelInvite([t.member,t.project]):t.removeMember([t.member,t.project])}})}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(3);e.default={props:{pageGroup:{type:Object}},computed:{editing:function(){return this.$store.getters.editingPageGroup===this.pageGroup}},methods:(0,a.default)({},(0,s.mapActions)(["removePageGroup","switchPageGroup","setEditingPageGroup","renamePageGroup"]),{rename:function(t){if(this.editing){var e=t.target.value;e&&e!==this.pageGroup.name&&this.renamePageGroup(e),this.setEditingPageGroup({})}},remove:function(){var t=this;this.$store.dispatch("confirm",{header:"确定删除？",content:"「 "+this.pageGroup.name+" 」内的所有页面将一并被删除。",onConfirm:function(){t.removePageGroup(t.pageGroup)}})},focusInput:function(){var t=this;this.$nextTick(function(){t.$refs.nameInput.focus(),t.$refs.nameInput.select()})}}),watch:{editing:function(t){t&&this.focusInput()}},mounted:function(){this.editing&&this.focusInput()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=i(o),s=n(3);e.default={props:{pageItem:{type:Object}},components:{Dropdown:a.default},data:function(){return{showMenu:!1,moving:!1}},computed:(0,s.mapGetters)({pageGroups:"allPageGroups",defaultPageGroup:"defaultPageGroup",currentPageGroup:"currentPageGroup"}),methods:{remove:function(){var t=this;this.showMenu=!1,this.$store.dispatch("confirm",{header:"确定删除"+this.pageItem.name+"?",content:"页面被删除后将不可恢复。",onConfirm:function(){t.$store.dispatch("removePage",t.pageItem)}})},rename:function(){var t=this;this.showMenu=!1,this.$store.dispatch("getInput",{header:"请输入新的页面名称",content:this.pageItem.name,onConfirm:function(e){e&&e!==t.pageItem.name&&t.$store.dispatch("renamePage",[t.pageItem,e])}})},duplicate:function(){this.$store.dispatch("duplicatePage",this.pageItem),this.showMenu=!1},move:function(){this.moving=!0},moveTo:function(t){t!==this.currentPageGroup&&this.$store.dispatch("movePage",[this.pageItem,t]),this.showMenu=!1}},watch:{
showMenu:function(t){this.moving=!1}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(8),r=i(s),l=n(3);e.default={name:"ProjectsList",components:{Dropdown:r.default},data:function(){return{show:!1}},computed:(0,a.default)({},(0,l.mapGetters)({projects:"allProjects",currentProject:"currentProject"})),methods:(0,a.default)({},(0,l.mapActions)(["getInput","createProject","switchProject"]),{newProject:function(){var t=this;this.getInput({header:"请输入新项目名称",onConfirm:function(e){var n={name:e||"未命名项目"};t.createProject(n)}})}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(12),r=(i(s),n(6)),l=(i(r),n(10)),c=i(l),d=n(431),u=i(d),p=n(3),f=n(28);e.default={components:{Member:u.default,Tooltip:c.default},computed:(0,a.default)({},(0,p.mapGetters)({members:"projectMembers",invited:"projectMembersInvited",isAdmin:"isProjectAdmin"})),methods:{invite:function(){var t=this;this.$store.dispatch("getInput",{header:"请输入新成员的邮箱地址",inputAddon:'<span class="glyphicon glyphicon-user"></span>',onConfirm:function(e){if(!f.emailRE.test(e))return"请输入正确的邮箱格式";var n={email:e};t.$store.dispatch("inviteMember",n)}})}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(433),r=i(s),l=n(432),c=i(l),d=n(3);e.default={components:{PageItem:r.default,PageGroup:c.default},computed:(0,d.mapGetters)({pages:"allPages",pageGroups:"allPageGroups",currentProject:"currentProject",currentPageGroup:"currentPageGroup",defaultPageGroup:"defaultPageGroup"}),methods:(0,a.default)({},(0,d.mapActions)(["createPage","switchPageGroup","createPageGroup","getInput"]),{newPageGroup:function(){var t={name:"新建文件夹",projectId:this.currentProject.id};this.createPageGroup(t)},goToDefault:function(){this.$store.dispatch("switchPageGroup",[this.defaultPageGroup])}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(12),r=(i(s),n(6)),l=(i(r),n(10)),c=i(l),d=n(8),u=i(d),p=n(3);e.default={components:{Dropdown:u.default,Tooltip:c.default},data:function(){return{show:!1}},methods:(0,a.default)({},(0,p.mapActions)(["duplicateVariation","removeVariation","renameVariation","getInput","confirm","warning"]),{rename:function(t){var e=this;this.getInput({header:"请输入新的版本名",content:t.name,onConfirm:function(n){e.renameVariation([t,n])}})},duplicate:function(t){this.duplicateVariation(t),this.show=!1},remove:function(t){var e=this;return 1===this.page.variations.length?void this.warning({header:"删除保护",content:"您不能删除唯一的版本，因为页面至少要保留一个版本。"}):void this.confirm({header:"确定删除？",content:"「"+t.name+"」将被删除，其流量配额将按比例分配给其他版本",onConfirm:function(){e.removeVariation(t),e.show=!1}})},switchVariation:function(t){this.$router.push({name:"variation",params:{pageId:this.$route.params.pageId,variationId:t.id}}),this.show=!1}}),computed:(0,a.default)({},(0,p.mapGetters)({page:"editingPage",workspace:"editorWorkspace"}))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(40),a=i(o),s=n(17),r=i(s),l=n(7),c=i(l),d=n(79),u=i(d);e.default={props:{value:{type:Object,required:!0},expand:{type:Boolean,default:!1}},components:{SidebarPart:a.default,ColorPicker:r.default,ImagePicker:u.default},mixins:[c.default],data:function(){return{positions:["left top","center top","right top","left center","center center","right center","left bottom","center bottom","right bottom"]}},computed:{background:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(40),a=i(o),s=n(438),r=i(s),l=n(17),c=i(l),d=n(7),u=i(d),p=n(8),f=i(p);e.default={props:{value:{type:Object,required:!0},expand:{type:Boolean,default:!1}},components:{SidebarPart:a.default,ColorPicker:c.default,BorderStyle:r.default,Dropdown:f.default},mixins:[u.default],data:function(){return{showQuickSelector:!1,presetBorders:[{width:"1px",style:"solid"},{width:"2px",style:"solid"},{width:"4px",style:"solid"},{width:"2px",style:"dotted"},{width:"2px",style:"dashed"},{width:"3px",style:"double"}]}},computed:{border:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},borderWidth:{get:function(){return parseInt(this.border.width)},set:function(t){this.border.width=t+"px"}}},methods:{pickPreset:function(t){this.border.width=t.width,this.border.style=t.style,this.showQuickSelector=!1}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=i(o);e.default={name:"BorderStyle",components:{Dropdown:a.default},props:{value:{required:!0,default:"solid"}},data:function(){return{show:!1,borderStyles:["solid","dotted","dashed","double"]}},methods:{setBorderStyle:function(t){this.$emit("input",t),this.show=!1}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),a=i(o),s=n(119),r=i(s);e.default={props:["show","value"],components:{Sidebar:a.default,FormButtonEditor:r.default}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{twoWay:!0},values:{default:function(){return[!1,!0]}},type:{type:String,default:"default"}},methods:{toggleValue:function(){var t=this.values[1]===this.value?this.values[0]:this.values[1];this.$emit("input",t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(326),a=(i(o),n(6)),s=(i(a),n(315)),r=i(s),l=n(7),c=i(l),d=n(8),u=i(d),p=n(5),f=i(p),h=n(472),v=i(h),m=n(3),g=n(55);f.default.use(r.default),e.default={name:"ColorPicker",mixins:[c.default],components:{Dropdown:u.default,ElPopover:r.default,ColorSelector:v.default},props:{value:{required:!0},position:{type:String,default:"left"}},data:function(){return{show:!1,color:this.value,hasFocus:!1}},computed:(0,m.mapGetters)({colorSet:"editorColorSet"}),methods:{setColor:function(t){this.color=t+"",this.$emit("input",this.color),this.show=!1},inputFocus:function(){this.hasFocus||(this.hasFocus=!0,this.$emit("inputFocus"))},inputBlur:function(){this.hasFocus=!1},inputColor:function(t){var e=t.target.value;(0,g.isValidColor)(e)&&(this.color=(0,g.getValidColor)(e),this.$emit("input",this.color,!0))},inputDone:function(){this.show=!1,this.$emit("input",this.color)},selectColor:function(t){this.color=(0,g.getValidColor)(t),this.inputDone()}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(441),r=i(s),l=n(443),c=i(l),d=n(444),u=i(d),p=n(3),f=n(5),h=i(f),v=n(27),m=i(v),g=n(150),_=i(g);h.default.use(_.default);var b="您对该页面所作修改尚未保存，现在离开导致您所作的修改丢失，确定吗?";e.default={name:"editor",components:{EditorHeader:r.default,EditorToolbar:c.default,EditorWorkspace:u.default},computed:(0,a.default)({},(0,p.mapGetters)({saveStatus:"saveStatus",page:"editingPage"})),methods:(0,a.default)({},(0,p.mapActions)(["setActiveElementId","confirm"]),{clearActiveElement:function(){this.setActiveElementId("")}}),mounted:function(){var t=this;document.title=this.$store.getters.editingPage.name+" - 编辑 - 聚页",this._unloadEvent=m.default.listen(window,"beforeunload",function(e){if(!t.saveStatus)return e.returnValue=b,b})},beforeDestroy:function(){this._unloadEvent.remove()},beforeRouteLeave:function(t,e,n){this.saveStatus?n():this.confirm({header:"页面未保存",content:b,onConfirm:function(){n()}})}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(12),r=(i(s),n(6)),l=(i(r),n(10)),c=i(l),d=n(123),u=i(d),p=n(442),f=i(p),h=n(437),v=i(h),m=n(110),g=i(m),_=n(53),b=i(_),y=n(3),w=n(28),C=n(57);e.default={components:{ColorSchemes:u.default,EditorSettings:f.default,AbTest:v.default,AbSplit:g.default,Tooltip:c.default,VersionSwitcher:b.default},data:function(){return{showSettings:!1,showSplit:!1}},computed:(0,y.mapGetters)({workspace:"editorWorkspace",undoButton:"undoButton",redoButton:"redoButton",saveStatus:"saveStatus",page:"editingPage",colorSet:"editorColorSet"}),methods:(0,a.default)({},(0,y.mapActions)(["undo","redo","switchVersion","saveVariation","confirm","getInput","warning","setURL","publishPage","traficSplit","setColorSet"]),{publish:function(){var t=this;this.saveNotice(function(){t.page.url?t.doPublish():t.getInput({header:"为您的页面选定一个URL地址",inputAddon:"http://www.juyepage.com/",placeholder:"自定义url",hint:"可由数字、英文字母组成，至少3位以上。",onConfirm:function(e){return w.urlKeyRE.test(e)?void t.setURL([e,function(){t.doPublish()},function(e){t.warning({header:"发布失败",content:e,onConfirm:function(){t.publish()}})}]):"自定义url地址不能少于3位，且只能包含数字和字母"}})})},doPublish:function(){var t=this;this.publishPage(function(){t.confirm({header:"页面发布成功！",content:"点击确定将返回主面板",onConfirm:function(){t.$router.push("/")}})})},saveNotice:function(t){var e=this;this.saveStatus?t():this.confirm({header:"是否先保存？",content:"您修改了页面，建议保存之后再发布。",onConfirm:function(){e.saveVariation(t)},onCancel:function(){t()}})},updateTraficSplit:function(t){this.traficSplit(t)},onKey:function(t){if(t.target){var e=t.target,n=e.tagName,i=e.isContentEditable;if("INPUT"===n||"TEXTAREA"===n||i)return}if(t.ctrlKey||t.metaKey){var o=!0,a=t.which||t.keyCode;83===a?this.saveVariation():90===a?t.shiftKey&&!C.isWindows?this.redo():this.undo():82===a&&C.isWindows?this.redo():o=!1,o&&(t.stopPropagation(),t.preventDefault())}}}),mounted:function(){document.removeEventListener("keydown",this.onKey),document.addEventListener("keydown",this.onKey)},destroyed:function(){document.removeEventListener("keydown",this.onKey)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(81),r=i(s),l=n(3),c=n(4);e.default={components:{Modal:r.default},props:{show:{type:Boolean,required:!0}},computed:(0,a.default)({},(0,l.mapGetters)({editorSettings:"editorSettings",elements:"editorElements"})),data:function(){return{currentTab:"seo",settings:(0,c.merge)({},this.$store.getters.editorSettings),goals:[]}},methods:(0,a.default)({},(0,l.mapActions)(["saveSettings"]),{save:function(){this.saveSettings(this.settings),this.$emit("close")}}),created:function(){var t=!1;for(var e in this.elements){var n=this.elements[e];if("form"===n.type&&(t=!0),n.link&&n.link.url&&this.goals.push(n.link.url),"text"===n.type)for(var i=/<a.+?href="(.*?)".*?>/g,o=void 0;null!==(o=i.exec(n.content));)this.goals.push(o[1])}t&&this.goals.push("form")}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(3),r=n(27),l=i(r),c=n(41),d=i(c);e.default={name:"editor-toolbar",mixins:[d.default],props:{page:Object},data:function(){var t=this,e=[{name:"图片",style:"picture",action:"image"},{name:"文字",style:"font",action:"text"},{name:"按钮",style:"hand-up",action:"button"},{name:"形状",style:"stop",action:function(){return t.showShapePicker()}},{name:"图标",style:"comment",action:"icon"}];return this.page.is_compat&&e.unshift({name:"版块",style:"modal-window",action:function(){t.addSection(),t.showShapes=!1}}),{basicTools:e,advancedTools:[{name:"表单",style:"edit",action:"form"},{name:"视频",style:"film",action:"video"},{name:"地图",style:"map-marker",action:"map"},{name:"轮播图",style:"transfer",action:"swiper"},{name:"倒计时",style:"time",action:function(){return t.comming("timer")}},{name:"HTML",style:"header",action:"html"}],showAdvanced:!1,showShapes:!1,dragAction:null}},computed:(0,s.mapGetters)({workspace:"editorWorkspace"}),methods:(0,a.default)({},(0,s.mapActions)(["addSection","addElement","warning"]),{clickTool:function(t){var e=t.action;"function"==typeof e?e():this.newElement([e])},newElement:function(t){this.addElement(t),this.showShapes=!1},showShapePicker:function(){this.showShapes=!this.showShapes},comming:function(){this.warning({content:"攻城狮们正在争分夺秒开发这个组件，等几天再来试试吧。"})},dragMenu:function(t){var e=t.currentTarget.getAttribute("data-action");this.dragAction=e,this.onDragBegin(t)},dragMove:function(t,e,n){if(null!==this.dragAction){var i={x:this.dragStartX+t.x,y:this.dragStartY+t.y},o=document.querySelector("#main-wrapper"),a=o.querySelector("#drag-thumbnail");a||(a=document.createElement("div"),a.id="drag-thumbnail",o.appendChild(a)),a.setAttribute("style","\n        left: "+(i.x-40)+"px;\n        top: "+(i.y+this.$ui.scrollTop()-40)+"px;\n        width: 80px;\n        height: 80px;")}},dragEnd:function(t,e,n){var i={x:this.dragStartX+t.x,y:this.dragStartY+t.y};i.y+=this.$ui.scrollTop(),this.dragAction&&this.addElement([this.dragAction,i]);var o=document.querySelector("#drag-thumbnail");o&&(o.style.display="none"),this.dragAction=null},getAction:function(t){return"function"==typeof t?null:t}}),mounted:function(){var t=this;l.default.listen(window,"click",function(e){t.showShapes=!1})}}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(20),s=o(a),r=n(2),l=o(r),c=n(461),d=o(c),u=n(452),p=o(u),f=n(462),h=o(f),v=n(458),m=o(v),g=n(3),_=n(41),b=o(_),y=n(78),w=o(y),C=n(460),x=o(C),E=n(56),k=i(E);e.default={mixins:[b.default],components:{PageSection:d.default,FixedContainer:p.default,SectionEditor:h.default,ImageLibrary:m.default,ElementCommon:w.default,MultiSelect:x.default},computed:(0,l.default)({},(0,g.mapGetters)({workspace:"editorWorkspace",height:"editorHeight",sections:"editorSections",alignLines:"alignLines",selectionArea:"selectionArea"})),data:function(){return{selectionVisible:!1,selection:{left:0,top:0,width:0,height:0}}},methods:(0,l.default)({},(0,g.mapActions)({updateSelect:"updateMultiSelect",doneSelect:"doneMultiSelect",clearSelect:"clearMultiSelect"}),{getStartPoint:function(){var t=this.$refs.contentArea.getBoundingClientRect();return{left:t.left,top:t.top}},dragBegin:function(){this.$el.style.cursor="default",this.selectionVisible=!0;var t=document.getElementById("main-wrapper").scrollTop,e=this.getStartPoint();this.selection.left=this.dragStartX,this.selection.top=t+this.dragStartY-e.top,this.clearSelect()},dragMove:function(t,e){var n=document.getElementById("main-wrapper").scrollTop,i=this.getStartPoint();this.selection={left:this.dragStartX+(t.x<0?t.x:0),top:this.dragStartY+(t.y<0?t.y:0)+n-i.top,width:Math.abs(t.x),height:Math.abs(t.y)},i.top-=n+this.dragStartY,0===e.x&&0===e.y||this.updateSelect(k.multiSelect({rect:this.selection,origin:i}))},dragRelease:function(){this.selectionVisible=!1},dragEnd:function(t){this.selection.width=0,this.selection.height=0,this.doneSelect()},lineStyle:function(t){return t?(0,s.default)({left:(t.vertical?t.vAxis-1:t.min)+"px",top:(t.vertical?t.min:t.vAxis-1)+"px"},t.vertical?"height":"width",t.length+"px"):null},dotStyle:function(t,e){var n;if(!t)return null;var i={main:e.vertical?"top":"left",sub:e.vertical?"left":"top"};return n={position:"absolute"},(0,s.default)(n,i.main,t-e.min-2+"px"),(0,s.default)(n,i.sub,"-2px"),(0,s.default)(n,"width","4px"),(0,s.default)(n,"height","4px"),(0,s.default)(n,"background","red"),n},selectionStyle:function(t){return{left:t.left+"px",top:t.top+"px",width:t.right-t.left+"px",height:t.bottom-t.top+"px"}}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(120),a=i(o),s=n(439),r=i(s),l=n(13),c=i(l),d=n(7),u=i(d),p=n(83),f=i(p),h=n(4);e.default={name:"element-button",mixins:[u.default,c.default],components:{LinkEditor:a.default,ButtonEditor:r.default},data:function(){return{localElement:(0,h.merge)({},f.default.button,this.element),linkObj:(0,h.merge)({},this.element.link)}},computed:{buttonStyles:function(){var t=this.localElement.props;return{borderRadius:t.borderRadius,border:this.elementBorder,boxShadow:this.elementShadow,overflow:"hidden",fontSize:t.fontSize,fontWeight:t.fontWeight,backgroundColor:this.getColor(t.backgroundColor),color:this.getColor(t.color)}}},methods:{edit:function(){this.editing=!0,this.buttonGroup="edit"},editDone:function(){this.editing=!1,this.buttonGroup="main",(0,h.isEqual)(this.element,this.localElement)||this.modifyElement([this.elementId,this.localElement])},editLink:function(){this.buttonGroup="link"},editLinkDone:function(t,e){if(t){this.linkObj=(0,h.merge)({},e);var n={link:e};this.modifyElement([this.elementId,n])}this.buttonGroup="main"},imageOnload:function(){this.$refs.element.updateAlignmentInfo()}},watch:{element:function(t){this.localElement=(0,h.merge)({},f.default.button,t)}}}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(248),s=o(a),r=n(2),l=o(r),c=n(12),d=(o(c),n(6)),u=(o(d),n(10)),p=o(u),f=n(3),h=n(41),v=o(h),m=n(125),g=o(m),_=n(453),b=o(_),y=n(27),w=o(y),C=n(56),x=i(C),E={id:null,mountedId:null};e.default={name:"element-common",mixins:[v.default],components:{resizer:g.default,FixedEditor:b.default,Tooltip:p.default},props:{element:{type:Object,required:!0},sectionId:{required:!0},elementId:{type:String,required:!0},buttonGroup:{type:String,default:"main"},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!1},resize:{type:Object},fixedEditable:{type:Boolean,default:!1},dimensionContraint:{type:Object}},data:function(){return{toolbarPosition:"top left",elPositionInPage:{left:0,top:0},clickOnThisElement:!1,resizeConfig:{handles:"e",aspectRatio:!1},updateTimer:null,dragging:!1,resizing:!1,startTop:0,startPosLeft:0,startPosTop:0,horizontalMax:[0,0],verticalMax:[0,0],widthMax:0,heightMax:0,fixedEditing:!1,documentScrollPx:0,mountedId:null,keyEventAttached:!1,keyMoveTimer:null,keyMoveTimestamp:null,keyMove:{x:0,y:0}}},computed:(0,l.default)({},(0,f.mapGetters)({workspace:"editorWorkspace",alignIds:"alignIds",multiMove:"multiMove",updatedSection:"updatedSection"}),{actived:function(){return this.alignIds.indexOf(this.elementId)>=0},isFixed:function(){return this.$emit("change-draggable",!this.element.fixed),!!this.element.fixed},sizeRange:function(){var t=this.dimensionContraint,e=function(e,n){return t&&t.hasOwnProperty(e)?t[e]:n?0:s.default};return{minWidth:e("minWidth",!0),minHeight:e("minHeight",!0),maxWidth:e("maxWidth",!1),maxHeight:e("maxHeight",!1)}}}),methods:(0,l.default)({},(0,f.mapActions)(["setActiveElementId","removeElement","moveElement","resizeElement","indexElement","duplicateElement","modifyElement","updateAlign","clearAlign","clearMultiSelect"]),{selectElement:function(){this.setActiveElementId(this.elementId)},onKey:function(t){var e=this;if(t&&t.target){var n=t.target.tagName,i=t.target.isContentEditable;if("INPUT"===n||"TEXTAREA"===n||i)return}var o=t.which||t.keyCode;if(8===o||46===o)this.removeElement([this.elementId]),t.stopPropagation(),t.preventDefault();else if(o>=37&&o<=40){if(t.stopPropagation(),t.preventDefault(),null===this.keyMoveTimer){if(!this.draggable)return;this.dragBegin(),this.keyMove={x:0,y:0}}else clearTimeout(this.keyMoveTimer);var a={x:0,y:0};this.dragging=!0;var s=o-37,r=s%2===0?"x":"y",l=s<2?-1:1;this.keyMove[r]+=l,a[r]=l,this.keyMoveTimer=setTimeout(function(){e.keyMoveTimer=null,e.keyMoveTimestamp=null,e.dragging=!1,e.dragEnd(e.keyMove,a)},800);var c=new Date;if(null!==this.keyMoveTimestamp&&c-this.keyMoveTimestamp<=100)return;this.keyMoveTimestamp=c,this.dragMove(this.keyMove,a,!0)}},showToolbar:function(){this.$emit("change-button-group","main");var t=k(this.$el)-document.documentElement.scrollTop,e=t<95?"bottom":"top",n=this.workspace.width-parseInt(this.element.style[this.workspace.version].left),i=n<0?"right":"left";this.toolbarPosition=e+" "+i},editFixed:function(){this.fixedEditing=!0,this.$emit("change-button-group","fixedEditing")},changFixed:function(t){t&&this.modifyElement([this.elementId,t]),this.fixedEditing=!1,this.$emit("change-button-group","main")},actualMove:function(t){var e=function(t,e){var n=t<0?0:1;return[Math.max,Math.min][n](e[n],t)};return{x:e(t.x,this.horizontalMax),y:e(t.y,this.verticalMax)}},getPosTop:function(){return k(this.$el)-50-this.$el.offsetTop},getStartPos:function(){var t=window.getComputedStyle(this.$el,null),e=function(e){return parseInt(t[e])};this.startPosLeft=e("left"),this.startPosTop=e("top")},dragBegin:function(){this.clearMultiSelect(),this.keyEventAttached||(document.addEventListener("keydown",this.onKey,!1),this.keyEventAttached=!0),E={id:this.elementId,mountedId:this.mountedId},this.getStartPos(),this.setActiveElementId(this.elementId),this.$emit("drag-start");var t=this.$el.getBoundingClientRect(),e=this.element.fixed?"fixed-container":"content-area",n=document.getElementById(e).getBoundingClientRect();this.horizontalMax=[n.left-t.left,n.right-t.right],this.verticalMax=[n.top-t.top,n.bottom-t.bottom],this.startTop=this.getPosTop(),x.alignBegin(this.elementId)},dragMove:function(t,e,n){if(0!==t.x||0!==t.y){"position"!==this.buttonGroup&&this.$emit("change-button-group","position");var i=this.actualMove(t),o=0;n.speed&&(o=Math.max(n.speed.x,n.speed.y));var a=x.alignNext({move:i,offset:e,options:{speed:o}}),s=a.x,r=a.y,l=this.startPosLeft+s;this.$el.style.left=l+"px",this.elPositionInPage.left=l;var c=this.startPosTop+r;this.$el.style.top=c+"px",this.elPositionInPage.top=this.startTop+c,null!==a.alignData&&this.updateAlign(a.alignData)}},dragEnd:function(t,e){t&&0===t.x&&0===t.y||(this.$emit("change-button-group","main"),this.elPositionInPage.left=parseInt(this.$el.style.left),this.elPositionInPage.top=parseInt(this.$el.style.top)+this.startTop,this.moveElement([this.sectionId,this.elementId,this.elPositionInPage,this.$el.offsetHeight]),this.updateDimen(),this.clearAlign(),x.alignEnd())},hasResizer:function(t){var e=void 0;return e=this.resize&&this.resize.handles?this.resize.handles:"e",e.indexOf(t)>-1},resizeStart:function(t){this.bounds=this.getDimen();var e=this.$el.getBoundingClientRect(),n=this.element.fixed?"fixed-container":"content-area",i=document.getElementById(n).getBoundingClientRect();"right"===t||"bottom"===t?(this.widthMax=i.right-e.left,this.heightMax=i.bottom-e.top):"left"!==t&&"top"!==t||(this.widthMax=e.right-i.left,this.heightMax=e.bottom-i.top),this.$emit("resize-start",t)},resizeAction:function(t,e,n){var i=parseInt(this.$el.style.width),o=parseInt(this.$el.style.height),a=void 0,s=void 0;"top"===t||"bottom"===t?(s=Math.min(this.heightMax,n),this.resize.aspectRatio&&(a=s*i/o,a>this.widthMax&&(a=this.widthMax,s=a*o/i),this.$el.style.width=a+"px"),this.$el.style.height=s+"px"):"left"!==t&&"right"!==t||(a=Math.min(this.widthMax,n),this.resize.aspectRatio&&(s=a*o/i,s>this.heightMax&&(s=this.heightMax,a=s*i/o),this.$el.style.height=s+"px"),this.$el.style.width=a+"px"),e?(this.resizing=!1,this.$emit("change-draggable",!0),this.resizeElement([this.elementId,{width:parseInt(this.$el.style.width),height:parseInt(this.$el.style.height)}]),this.$emit("resize-end"),this.updateDimen(),this.clearAlign()):(this.resizing=!0,this.$emit("change-draggable",!1),this.$emit("resizing",t,n))},resizeEnable:function(){},resizeDisable:function(){},getDimen:function(){var t=this.$refs.box.getBoundingClientRect(),e=document.getElementById("content-area").getBoundingClientRect(),n=t.left-e.left,i=t.right-e.left,o=t.top-e.top,a=t.bottom-e.top,s=Math.round((n+i)/2),r=Math.round((o+a)/2),l={width:t.width,height:t.height,left:n,hcenter:s,right:i,top:o,vcenter:r,bottom:a};return l},updateDimen:function(t){var e={top:parseInt(this.$el.style.top)+this.getPosTop(),left:parseInt(this.$el.style.left)},n={mid:this.mountedId,id:this.elementId,sectionId:this.sectionId,positionInPage:e,rect:this.getDimen()};t?x.elementAdd(n):x.elementUpdate(n)},updateDimenAsync:function(){var t=this;clearTimeout(this.updateTimer),this.updateTimer=setTimeout(function(){t.updateDimen()},800)},watchScroll:function(){var t=this;this.watchEvent=w.default.listen(window,"scroll",function(e){t.documentScrollPx=document.body.scrollTop})},removeWatchScroll:function(){this.watchEvent&&this.watchEvent.remove()}}),watch:{resizable:function(t){t?this.resizeEnable():this.resizeDisable()},isFixed:function(t){this.$emit("change-draggable",!t)},"workspace.activeElementId":function(t){this.elementId===t?this.showToolbar():(this.keyEventAttached&&(document.removeEventListener("keydown",this.onKey,!1),this.keyEventAttached=!1),null!==this.keyMoveTimer&&(clearTimeout(this.keyMoveTimer),this.keyMoveTimer=null,this.dragEnd(this.keyMove)))},"workspace.version":function(t){this.updateDimenAsync()},updatedSection:function(t){this.sectionId>t.id&&this.updateDimen()},"element.style":function(t){this.updateDimenAsync()},multiMove:function(t){if(this.actived&&null!==t&&(t.started&&this.getStartPos(),t.move)){var e=this.startPosLeft+t.move.x;this.$el.style.left=e+"px",this.elPositionInPage.left=e;var n=this.startPosTop+t.move.y;this.$el.style.top=n+"px",this.elPositionInPage.top=n}}},mounted:function(){this.mountedId=(new Date).getTime(),this.resizeDisable(),this.element.fixed&&this.element.fixedScrollPx>0&&this.watchScroll(),this.workspace.activeElementId===this.elementId&&(this.showToolbar(),this.resizeEnable()),E.id===this.elementId&&E.mountedId!==this.mountedId&&(document.addEventListener("keydown",this.onKey),this.keyEventAttached=!0),this.updateDimenAsync()},destroyed:function(){null!==this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null),null!==this.keyMoveTimer&&(clearTimeout(this.keyMoveTimer),this.keyMoveTimer=null),this.keyEventAttached&&document.removeEventListener("keydown",this.onKey,!1),x.elementRemove(this.mountedId),clearTimeout(this._updateAlignmentTimer)}};var k=function(t){for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(454),a=i(o),s=n(7),r=i(s),l=n(13),c=i(l),d=n(4);e.default={mixins:[r.default,c.default],components:{FormEditor:a.default},data:function(){return{localElement:(0,d.merge)({},this.element)}},computed:{fieldStyles:function(){return{backgroundColor:this.getColor(this.localElement.props.fieldColor),borderColor:this.getColor(this.localElement.props.borderColor),color:this.getColor(this.localElement.props.fontColor),boxShadow:this.localElement.props.boxShadow}},buttonStyles:function(){var t=this.localElement.button.props;return{borderRadius:t.borderRadius,border:this.parseBorderStyle(this.localElement.button.style.border),boxShadow:this.parseShadowStyle(this.localElement.button.style.shadow),overflow:"hidden",fontSize:t.fontSize,fontWeight:t.fontWeight,backgroundColor:this.getColor(t.backgroundColor),color:this.getColor(t.color)}}},methods:{edit:function(){this.editing=!0,this.buttonGroup="edit"},editDone:function(){this.editing=!1,this.buttonGroup="main",this.saveElement()},saveElement:function(){(0,d.isEqual)(this.element,this.localElement)||this.modifyElement([this.elementId,this.localElement,!0])}},watch:{element:function(t){this.localElement=(0,d.merge)({},t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),a=i(o);e.default={mixins:[a.default],data:function(){return{content:this.element.content,resize:{handles:"s,e"}}},computed:{draggable:function(){return!this.editing&&this.draggableFromChild}},methods:{edit:function(){this.editing=!0,this.buttonGroup="edit"},editDone:function(){this.editing=!1,this.buttonGroup="main",this.element.content!==this.content&&this.modifyElement([this.elementId,{content:this.content}])}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),a=i(o),s=n(457),r=i(s),l=n(13),c=i(l),d=n(7),u=i(d);e.default={mixins:[u.default,c.default],components:{ColorPicker:a.default,IconPicker:r.default},data:function(){return{resize:{handles:"s,e",aspectRatio:!0},editing:!1}},computed:{},methods:{edit:function(){this.buttonGroup="edit",this.editing=!0},editDone:function(){this.buttonGroup="main",this.editing=!1},changeColor:function(t){this.modifyElement([this.elementId,{data:{color:t}}])},changeIcon:function(t){this.modifyElement([this.elementId,{data:{icon:t}}])}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(3),r=n(120),l=i(r),c=n(13),d=i(c),u=n(4);e.default={mixins:[d.default],components:{LinkEditor:l.default},data:function(){return{imageObj:{},linkObj:(0,u.merge)({},this.element.link),resize:{}}},methods:(0,a.default)({},(0,s.mapActions)(["removeElement","getImage"]),{edit:function(){var t=this;this.getImage([function(e){t.imageObj=e}])},editLink:function(){this.buttonGroup="link"},editLinkDone:function(t,e){if(t){this.linkObj=(0,u.merge)({},e);var n={link:e};this.modifyElement([this.elementId,n])}this.buttonGroup="main"},onload:function(){this.$refs.element.updateDimen()}}),watch:{imageObj:function(t){var e={};if(e.src=t.url,!this.element.style.pc.width){var n=t.width>960?960:t.width,i=t.width>360?360:t.width,o=(960-n)/2,a=(360-i)/2;e.style={pc:{width:n+"px",left:o+"px"},mobile:{width:i+"px",left:a+"px"}}}this.modifyElement([this.elementId,e])}},mounted:function(){var t=this;this.element.src||this.getImage([function(e){t.imageObj=e},function(){t.removeElement([t.elementId,!1])}])}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),a=i(o),s=n(4);e.default={name:"element-map",mixins:[a.default],data:function(){return{resize:{handles:"e,s"},input:"",posList:[],showList:!1,editing:!1,map:null,marker:null}},computed:{center:function(){return null===this.localElement.data.position?[113.280637,23.125178]:this.localElement.data.position}},methods:{initMap:function(){var t=null!==this.localElement.data.position;if(null===this.map){var e={resizeEnable:!0,zoom:t?16:11,center:this.center},n=new window.AMap.ToolBar({visible:!0});this.map=new window.AMap.Map(this.$refs.mapContent,e),n.hideDirection(),n.hideRuler(),this.map.addControl(n)}else this.map.setCenter(this.center);null!==this.marker&&this.marker.setMap(null),t&&(this.marker=new window.AMap.Marker({position:this.localElement.data.position,title:this.localElement.data.name}),this.marker.setMap(this.map))},editDone:function(){this.editing=!1,this.buttonGroup="main",(0,s.isEqual)(this.element,this.localElement)||this.modifyElement([this.elementId,this.localElement])},edit:function(){var t=this;this.editing=!0,this.buttonGroup="address",setTimeout(function(){t.$refs.input&&t.$refs.input.focus()},50)},search:function(){var t=this.input,e=this;window.AMap.service("AMap.PlaceSearch",function(){var n=new window.AMap.PlaceSearch({pageSize:5,pageIndex:1,city:"010"});n.search(t,function(t,n){n.poiList.count>0&&(e.posList=n.poiList.pois,e.showList=!0)})})},selectAddress:function(t){var e=this.posList[t],n=e.location,i=[n.lng,n.lat];this.localElement.data.position=i,this.localElement.data.name=e.name,this.map.setCenter(i),this.map.setZoom(16),null!==this.marker&&this.marker.setMap(null),this.marker=new window.AMap.Marker({position:i,title:e.name}),this.marker.setMap(this.map),this.showList=!1,this.editDone();
}},watch:{element:function(t){(0,s.isEqual)(t,this.localElement)||(this.localElement=(0,s.merge)({},t),this.initMap())}},mounted:function(){if(window.GaodeMapScript)this.initMap();else{var t=document.createElement("script"),e=document.getElementsByTagName("script")[0];t.type="text/javascript",t.async=!0,t.defer=!0,t.src="//webapi.amap.com/maps?v=1.3&key=e3b78e84d1aedba49bc8a84c4e113e01&plugin=AMap.ToolBar",e.parentNode.insertBefore(t,e);var n=this;t.onload=function(){n.initMap()},window.GaodeMapScript=t}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(463),a=i(o),s=n(7),r=i(s),l=n(13),c=i(l),d=n(4);e.default={name:"element-shape",mixins:[r.default,c.default],components:{ShapeEditor:a.default},data:function(){return{resize:{handles:"line"===this.element.subType?"e":"vline"===this.element.subType?"s":"s,e",aspectRatio:"circle"===this.element.subType},constraints:{minHeight:6,minWidth:6}}},methods:{edit:function(){this.editing=!0,this.buttonGroup="edit"},editDone:function(){this.editing=!1,this.buttonGroup="main",(0,d.isEqual)(this.element,this.localElement)||this.modifyElement([this.elementId,this.localElement])}},computed:{elementCommonStyle:function(){return"line"===this.localElement.subType?{height:20+parseInt(this.localElement.style.border.width)+"px",marginTop:"-10px"}:"vline"===this.localElement.subType?{width:20+parseInt(this.localElement.style.border.width)+"px",marginRight:"-10px"}:{}},contentStyle:function(){return"line"===this.localElement.subType?{height:10+parseInt(this.localElement.style.border.width)+"px",width:"100%",borderBottom:this.elementBorder}:"vline"===this.localElement.subType?{width:10+parseInt(this.localElement.style.border.width)+"px",height:"100%",borderRight:this.elementBorder}:{}},isLine:function(){return"line"===this.localElement.subType||"vline"===this.localElement.subType}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),a=i(o),s=n(464),r=i(s),l=n(4);e.default={mixins:[a.default],components:{SwiperEditor:r.default},data:function(){return{resize:{handles:"s,e"},editing:!1,constraints:{minWidth:100,minHeight:80},activeIndex:null}},computed:{hasImages:function(){return this.localElement.data.images&&this.localElement.data.images.length>=1}},methods:{edit:function(){this.buttonGroup="edit",this.editing=!0},editDone:function(){this.buttonGroup="main",this.editing=!1,(0,l.isEqual)(this.localElement,this.element)||this.modifyElement([this.elementId,this.localElement,!0])},imagesChange:function(t){if(!(0,l.isEqual)(this.localElement.data.images,t)){t.length<=0&&(this.activeIndex=null);var e=this.localElement.data.images.length,n=t.length;n!==e&&(n>0?this.activeIndex=n-1:this.activeIndex=null),this.localElement.data.images=t}},isActive:function(t){return null!==this.activeIndex&&t===this.activeIndex},nextSlide:function(){var t=this.localElement.data.images.length;t<=0||(null===this.activeIndex?this.activeIndex=0:this.activeIndex=(this.activeIndex+1)%t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(){var t=document.getSelection();if(t.toString().length>0){var e;(e=document).execCommand.apply(e,arguments)}}function a(){if(window.getSelection){var t=window.getSelection();if(t.getRangeAt&&t.rangeCount){for(var e=[],n=0,i=t.rangeCount;n<i;++n)e.push(t.getRangeAt(n));return e}}else if(document.selection&&document.selection.createRange)return document.selection.createRange();return null}function s(t){if(t)if(window.getSelection){var e=window.getSelection();e.removeAllRanges();for(var n=0,i=t.length;n<i;++n)e.addRange(t[n])}else document.selection&&t.select&&t.select()}function r(){if(window.getSelection){var t=window.getSelection();t.removeAllRanges()}}function l(t){var e={link:!1,color:[]};if(window.getSelection){var n=window.getSelection();if(n.rangeCount>0){var i=n.getRangeAt(0),o=i.cloneContents().querySelectorAll("*");Array.prototype.forEach.call(o,function(t){if(e.link||"A"!==t.tagName||(e.link=!0),"FONT"===t.tagName){var n=t.getAttribute("color");n&&e.color.push(n)}})}}return e}Object.defineProperty(e,"__esModule",{value:!0});var c=n(13),d=i(c),u=n(7),p=i(u),f=n(17),h=i(f),v=n(118),m=i(v),g=n(459),_=i(g),b=n(465),y=i(b),w=n(4);e.default={mixins:[p.default,d.default],components:{ColorPicker:h.default,FontSize:m.default,LineHeight:_.default,TextAlign:y.default},data:function(){return{addingLink:!1,linkAddress:"",userSelection:null,linkSelected:!1,localColor:1}},computed:{draggable:function(){return!this.editing&&this.draggableFromChild}},methods:{edit:function(){var t=this;this.editing||(this.editing=!0,this.buttonGroup="edit",this.$nextTick(function(){var e=t.$refs.content;e.setAttribute("contenteditable",!0),e.focus();var n=window.getSelection();n.selectAllChildren(e),n.collapseToEnd()}))},editDone:function(){this.editing=!1,this.buttonGroup="main",this.localElement.content=this.$refs.content.innerHTML,(0,w.isEqual)(this.element,this.localElement)||this.modifyElement([this.elementId,this.localElement]),this.addingLink=!1,this.userSelection=null,r()},styleColor:function(t){o("styleWithCSS",!1,!0),o("foreColor",!1,t)},styleText:function(t){o(t,!1)},link:function(){var t=this;return this.linkAddress="",l(this.$el).link?(o("unlink",!1),void(this.linkSelected=!1)):(this.userSelection=a(),this.addingLink=!0,void setTimeout(function(){t.$refs.linkAddressInput.focus()},10))},addLink:function(){var t=this;this.addingLink=!1,setTimeout(function(){s(t.userSelection),t.userSelection=null,t.$refs.content.focus(),t.linkAddress&&(o("createLink",!1,t.linkAddress),t.linkSelected=!0)},10)},cancelLink:function(){var t=this;this.addingLink=!1,setTimeout(function(){s(t.userSelection),t.userSelection=null,t.$refs.content.focus()},10)},onPaste:function(t){t.preventDefault();var e=t.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,e)},contentDragStart:function(t){if("A"===t.target.nodeName.toUpperCase())return t.preventDefault(),!1},contentMouseUp:function(t){var e=l(this.$refs.content);this.linkSelected=e.link,1===e.color.length?this.localColor=this.getColor(e.color[0]):this.localColor=1},colorInputFocus:function(){this.userSelection=a()},colorInput:function(t,e){e||(this.userSelection&&(s(this.userSelection),this.userSelection=null),this.styleColor(this.getColor(t)))},merge:w.merge}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(78),r=i(s),l=n(466),c=i(l),d=n(7),u=i(d),p=n(13),f=i(p),h=n(3),v=n(4);e.default={name:"element-timer",props:["element","elementId","sectionId"],mixins:[u.default,f.default],components:{ElementCommon:r.default,TimerEditor:c.default},data:function(){return{timerElement:(0,v.merge)({},this.element),resize:{handles:"e"},editing:!1,buttonGroup:"main",constraints:{minWidth:210}}},computed:(0,a.default)({},(0,h.mapGetters)({workspace:"editorWorkspace"}),{resizable:function(){return!this.editing&&this.workspace.activeElementId===this.elementId},labelStyle:function(){return{color:this.color("labelColor")}},timerStyle:function(){return{color:this.color("numberColor"),backgroundColor:this.color("timerColor")}}}),methods:(0,a.default)({},(0,h.mapActions)(["modifyElement","setActiveElementId"]),{color:function(t){return this.getColor(this.timerElement.data[t])},edit:function(){this.editing=!0,this.buttonGroup="edit"},editDone:function(){this.editing=!1,this.buttonGroup="main",(0,v.isEqual)(this.element,this.timerElement)||this.modifyElement([this.elementId,this.timerElement])},editChange:function(){}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(13),r=i(s),l=n(467),c=i(l),d=n(151),u=i(d),p=n(4);e.default={name:"element-video",mixins:[r.default],components:{VideoEditor:c.default},data:function(){return{url:"",resize:{handles:"e"},urlError:!1,videoInfo:this.element.videoInfo?(0,p.merge)({},this.element.videoInfo):{},size:{width:null,height:null}}},created:function(){this.calculateSize()},computed:{resizable:function(){return"empty"!==this.videoType&&(!this.editing&&this.workspace.activeElementId===this.elementId)},videoType:function(){var t=this.localElement.content.source;return t&&this.isRaw(t)?"raw":"empty"},embedStyle:function(){var t={};return"raw"===this.videoType?t={width:"100%",height:"auto"}:"embed"===this.videoType&&this.size.width&&(t.width=this.size.width+"px",t.height=this.size.height+"px"),t}},methods:(0,a.default)({},u.default,{edit:function(){this.editing=!0,this.buttonGroup="edit"},editChange:function(t){var e=(0,p.merge)({},this.localElement);if(e.content.source=t,this.localElement=e,t.length<=0?this.urlError=!1:"empty"===this.videoType&&t.length>0&&(this.urlError=!0),"empty"!==this.videoType){var n=(0,p.merge)({},this.localElement.style);n.mobile.height=void 0,n.pc.height=void 0,this.localElement.style=n}if("embed"===this.videoType){var i=(0,p.merge)({},this.localElement.style);i.mobile.height=void 0}"empty"===this.videoType,this.$forceUpdate()},editDone:function(){this.editing=!1,this.buttonGroup="main",this.localElement.videoInfo=this.videoInfo,(0,p.isEqual)(this.element,this.localElement)||this.modifyElement([this.elementId,this.localElement,!0])},resizing:function(t,e){this.size.width=e,this.videoInfo&&this.videoInfo.height&&(this.size.height=Math.floor(e*this.videoInfo.height/this.videoInfo.width))},calculateSize:function(t){if(null!==this.videoInfo){var e=arguments.length<1?this.workspace.version:t,n={width:null,height:null},i=parseInt(this.element.style[e].width);i&&(n.width=i,this.videoInfo&&this.videoInfo.width&&(n.height=Math.floor(i*this.videoInfo.height/this.videoInfo.width))),this.size=n}}}),watch:{"workspace.version":function(t){this.calculateSize(t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(117),r=i(s),l=n(114),c=i(l),d=n(115),u=i(d),p=n(116),f=i(p),h=n(3);e.default={components:{ElementText:r.default,ElementButton:c.default,ElementImage:u.default,ElementShape:f.default},computed:(0,a.default)({},(0,h.mapGetters)({workspace:"editorWorkspace",fixedElements:"editorFixedElements",elements:"editorElements"}))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(19),r=i(s),l=n(4);e.default={components:{Sidebar:r.default},props:{value:{required:!0},show:{required:!0}},data:function(){return{element:{fixed:!!this.value.fixed,fixedPosition:this.value.fixedPosition?(0,a.default)({},this.value.fixedPosition):{top:"auto",bottom:"0",left:"0"},fixedScrollPx:this.value.fixedScrollPx||0}}},computed:{fixedTop:{get:function(){return"auto"===this.element.fixedPosition.top?"":parseInt(this.element.fixedPosition.top)},set:function(t){""===t?this.element.fixedPosition.top="auto":(this.element.fixedPosition.top=t+"px",this.element.fixedPosition.bottom="auto")}},fixedBottom:{get:function(){return"auto"===this.element.fixedPosition.bottom?"":parseInt(this.element.fixedPosition.bottom)},set:function(t){""===t?this.element.fixedPosition.bottom="auto":(this.element.fixedPosition.bottom=t+"px",this.element.fixedPosition.top="auto")}},fixedLeft:{get:function(){return"auto"===this.element.fixedPosition.left?"":parseInt(this.element.fixedPosition.left)},set:function(t){""===t?this.element.fixedPosition.left="auto":this.element.fixedPosition.left=t+"px"}}},methods:{editDone:function(){(0,l.isEqual)(this.originalElement,this.element)?this.$emit("input",!1):this.$emit("input",(0,l.merge)({},this.value,this.element))}},mounted:function(){this.originalElement=(0,l.merge)({},this.element)}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),a=(i(o),n(6)),s=(i(a),n(10)),r=i(s),l=n(8),c=i(l);e.default={components:{Dropdown:c.default,Tooltip:r.default},props:{value:{required:!0},position:{type:String,default:"left"}},computed:{fontSizeInt:{get:function(){return parseInt(this.value)},set:function(t){this.$emit("input",t+"px")}}},data:function(){return{show:!1,fontSizes:[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,40,44,48,56,64,72]}},methods:{setSize:function(t){this.fontSizeInt=t,this.show=!1}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(51),r=(i(s),n(6)),l=(i(r),n(48)),c=i(l),d=n(17),u=i(d),p=n(118),f=i(p),h=n(113),v=i(h),m=n(79),g=i(m),_=n(121),b=i(_),y=n(77),w=i(y),C=n(40),x=i(C),E=n(7),k=i(E),I=n(3);e.default={name:"FormButtonEditor",props:["show","value"],components:{ColorPicker:u.default,FontSize:f.default,CheckboxButton:v.default,ImagePicker:g.default,ShadowEditor:b.default,BorderEditor:w.default,SidebarPart:x.default,Slider:c.default},mixins:[k.default],data:function(){return{}},computed:{button:{get:function(){return this.value},set:function(t){this.emit("input",t)}},borderRadius:{set:function(t){this.button.props.borderRadius=t+"px"},get:function(){return parseInt(this.button.props.borderRadius)}}},methods:(0,a.default)({},(0,I.mapActions)(["getImage"]))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(19),r=i(s),l=n(455),c=i(l),d=n(456),u=i(d),p=n(119),f=i(p);e.default={props:["show","value"],components:{Sidebar:r.default,FormFieldsEditor:c.default,FormPropsEditor:u.default,FormButtonEditor:f.default},data:function(){return{currentTab:"fields"}},methods:{switchTab:function(t){this.currentTab=t,this.$emit("save")}},computed:{formElement:function(){return(0,a.default)({},this.value)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),a=i(o),s=n(8),r=i(s),l=n(7),c=i(l),d=n(5),u=i(d);e.default={props:["value"],components:{ColorPicker:a.default,Dropdown:r.default},mixins:[c.default],data:function(){return{formFields:this.value,fieldTypes:{text:"单行文本",textarea:"多行文本",radio:"单选框",checkbox:"复选框",dropdown:"下拉菜单",hidden:"隐藏项","china-state":"省市县(中国)"},showFieldsType:!1,currentField:null,editingField:null}},methods:{addField:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i={type:t,label:e,validator:n};"radio"!==t&&"checkbox"!==t&&"dropdown"!==t||(i.options=["选项1","选项2"]),"radio"!==t&&"checkbox"!==t||(i.hideLabel=!1,i.optionsInLine=!1),"hidden"===t&&(i.val="");var o=this.formFields.length;this.formFields.push(i),this.editingField=o,this.showFieldsType=!1},removeField:function(t){this.formFields.splice(t,1)},moveField:function(t,e){var n=e;"down"===t&&e<this.formFields.length-1&&n++,"up"===t&&e>0&&n--,n!==e&&(this.formFields[e]=this.formFields.splice(n,1,this.formFields[e])[0]),this.editingField=null},addOption:function(t){var e=this.formFields[t].options.length;this.formFields[t].options.push(""),this.$nextTick(function(){var n=document.getElementById("form-field-options");n.scrollTop=n.scrollHeight;var i=document.getElementById("field-option-"+t+"-"+e);i.focus()})},updateOption:function(t,e,n){u.default.set(this.formFields[t].options,e,n)},removeOption:function(t,e){this.formFields[t].options.splice(e,1)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(17),a=i(o),s=n(113),r=i(s),l=n(7),c=i(l);e.default={props:["show","value"],components:{ColorPicker:a.default,CheckboxButton:r.default},mixins:[c.default],data:function(){return{formProps:this.value}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),a=i(o);e.default={name:"IconPicker",props:["show","value"],components:{Sidebar:a.default},data:function(){return{icons:["asterisk","plus","euro","minus","cloud","envelope","pencil","glass","music","search","heart","star","star-empty","user","film","th-large","th","th-list","ok","remove","zoom-in","zoom-out","off","signal","cog","trash","home","file","time","road","download-alt","download","upload","inbox","play-circle","repeat","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","indent-left","indent-right","facetime-video","picture","map-marker","adjust","tint","edit","share","check","move","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-sign","minus-sign","remove-sign","ok-sign","question-sign","info-sign","screenshot","remove-circle","ok-circle","ban-circle","arrow-left","arrow-right","arrow-up","arrow-down","share-alt","resize-full","resize-small","exclamation-sign","gift","leaf","fire","eye-open","eye-close","warning-sign","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder-close","folder-open","resize-vertical","resize-horizontal","hdd","bullhorn","bell","certificate","thumbs-up","thumbs-down","hand-right","hand-left","hand-up","hand-down","circle-arrow-right","circle-arrow-left","circle-arrow-up","circle-arrow-down","globe","wrench","tasks","filter","briefcase","fullscreen","dashboard","paperclip","heart-empty","link","phone","pushpin","usd","gbp","sort","sort-by-alphabet","sort-by-alphabet-alt","sort-by-order","sort-by-order-alt","sort-by-attributes","sort-by-attributes-alt","unchecked","expand","collapse-down","collapse-up","log-in","flash","log-out","new-window","record","save","open","saved","import","export","send","floppy-disk","floppy-saved","floppy-remove","floppy-save","floppy-open","credit-card","transfer","cutlery","header","compressed","earphone","phone-alt","tower","stats","sd-video","hd-video","subtitles","sound-stereo","sound-dolby","sound-5-1","sound-6-1","sound-7-1","copyright-mark","registration-mark","cloud-download","cloud-upload","tree-conifer","tree-deciduous"]}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(12),r=(i(s),n(6)),l=(i(r),n(10)),c=i(l),d=n(81),u=i(d),p=n(11),f=i(p),h=n(3),v=n(4);e.default={name:"ImageLibrary",components:{Modal:u.default,Tooltip:c.default},data:function(){return{currentTab:"my",mainStatus:"loading",currentImageIndex:null,images:[],projectFolders:[],personalFolders:[],viewingImage:{},currentFolder:{},defaultFolder:{},uploading:[],projectId:0,imageUrlEditing:!1,imageUrl:"",freeImages:[{image:"16324.jpg",width:"1280",height:"854"},{image:"16330.jpg",width:"1280",height:"854"},{image:"16958.jpg",width:"1280",height:"854"},{image:"19368.jpg",width:"1280",height:"861"},{image:"19386.jpg",width:"1280",height:"854"},{image:"45530.jpg",width:"1280",height:"853"},{image:"45531.jpg",width:"1280",height:"855"},{image:"45532.jpg",width:"1280",height:"854"},{image:"51046.jpg",width:"1280",height:"854"},{image:"61109.jpg",width:"1280",height:"854"},{image:"66264.jpg",width:"1280",height:"854"},{image:"66529.jpg",width:"1280",height:"922"},{image:"66599.jpg",width:"1280",height:"854"},{image:"66609.jpg",width:"1280",height:"720"},{image:"66617.jpg",width:"1280",height:"845"},{image:"66698.jpg",width:"1280",height:"854"},{image:"66724.jpg",width:"1280",height:"854"},{image:"66794.jpg",width:"1280",height:"854"},{image:"66821.jpg",width:"1280",height:"854"},{image:"67203.jpg",width:"1280",height:"848"},{image:"67272.jpg",width:"1280",height:"849"},{image:"67281.jpg",width:"1280",height:"894"},{image:"67326.jpg",width:"1280",height:"779"},{image:"67332.jpg",width:"1280",height:"775"},{image:"67394.jpg",width:"1280",height:"854"},{image:"67396.jpg",width:"1280",height:"854"},{image:"67399.jpg",width:"1280",height:"854"},{image:"67407.jpg",width:"1280",height:"854"},{image:"67410.jpg",width:"1280",height:"853"},{image:"67414.jpg",width:"1280",height:"854"},{image:"67450.jpg",width:"1280",height:"854"},{image:"67455.jpg",width:"1280",height:"853"},{image:"67476.jpg",width:"1280",height:"854"},{image:"67566.jpg",width:"1280",height:"854"},{image:"67567.jpg",width:"1280",height:"645"},{image:"67572.jpg",width:"1280",height:"854"},{image:"67579.jpg",width:"1280",height:"841"},{image:"67583.jpg",width:"1280",height:"854"},{image:"67584.jpg",width:"1280",height:"854"},{image:"67588.jpg",width:"1280",height:"854"},{image:"67591.jpg",width:"1280",height:"854"},{image:"67603.jpg",width:"1280",height:"854"},{image:"67609.jpg",width:"1280",height:"854"},{image:"67614.jpg",width:"1280",height:"779"},{image:"67650.jpg",width:"1280",height:"854"},{image:"67663.jpg",width:"1280",height:"854"},{image:"67670.jpg",width:"1280",height:"854"},{image:"67672.jpg",width:"1280",height:"854"},{image:"67681.jpg",width:"1280",height:"857"},{image:"67686.jpg",width:"1280",height:"851"},{image:"67699.jpg",width:"1280",height:"854"},{image:"67701.jpg",width:"1280",height:"854"},{image:"67718.jpg",width:"1280",height:"854"},{image:"67720.jpg",width:"1280",height:"854"},{image:"67788.jpg",width:"1280",height:"960"},{image:"67795.jpg",width:"1280",height:"854"},{image:"67800.jpg",width:"1280",height:"854"},{image:"67832.jpg",width:"1280",height:"854"},{image:"67836.jpg",width:"1280",height:"853"},{image:"67840.jpg",width:"1280",height:"854"},{image:"67854.jpg",width:"1280",height:"854"},{image:"67855.jpg",width:"1280",height:"854"},{image:"67874.jpg",width:"1280",height:"848"},{image:"67875.jpg",width:"1280",height:"850"},{image:"67878.jpg",width:"1280",height:"722"},{image:"67889.jpg",width:"1280",height:"855"},{image:"67890.jpg",width:"1280",height:"854"},{image:"67896.jpg",width:"1280",height:"854"},{image:"67899.jpg",width:"1280",height:"854"},{image:"67903.jpg",width:"1280",height:"831"},{image:"67905.jpg",width:"1280",height:"854"},{image:"67930.jpg",width:"1280",height:"700"},{image:"67932.jpg",width:"1280",height:"853"},{image:"67934.jpg",width:"1280",height:"854"},{image:"67936.jpg",width:"1280",height:"707"},{image:"67937.jpg",width:"1280",height:"854"},{image:"67938.jpg",width:"1280",height:"864"},{image:"67946.jpg",width:"1280",height:"854"},{image:"67958.jpg",width:"1280",height:"854"},{image:"67984.jpg",width:"1280",height:"854"},{image:"67985.jpg",width:"1280",height:"721"},{image:"68041.jpg",width:"1280",height:"855"},{image:"68052.jpg",width:"1280",height:"724"},{image:"68053.jpg",width:"1280",height:"854"},{image:"68054.jpg",width:"1280",height:"854"},{image:"68061.jpg",width:"1280",height:"854"},{image:"68063.jpg",width:"1280",height:"854"},{image:"68073.jpg",width:"1280",height:"855"},{image:"68080.jpg",width:"1280",height:"855"},{image:"68092.jpg",width:"1280",height:"864"},{image:"68098.jpg",width:"1280",height:"853"},{image:"68108.jpg",width:"1280",height:"854"},{image:"68109.jpg",width:"1280",height:"854"},{image:"68111.jpg",width:"1280",height:"854"},{image:"68112.jpg",width:"1280",height:"854"},{image:"68114.jpg",width:"1280",height:"854"},{image:"68123.jpg",width:"1280",height:"854"},{image:"68128.jpg",width:"1280",height:"800"},{image:"68132.jpg",width:"1280",height:"854"}]}},computed:(0,a.default)({},(0,h.mapGetters)({imageLibrary:"imageLibrary",page:"editingPage"})),methods:(0,a.default)({},(0,h.mapActions)({closeImageLibrary:"closeImageLibrary",confirm:"confirm",getInput:"getInput",warning:"warning"}),{getThumbs:function(t){var e=t.split("."),n=e[e.length-1]||"jpg";return t+"@150w_150h."+n},close:function(){this.imageLibrary.onCancel&&this.imageLibrary.onCancel(),this.closeImageLibrary()},getFreeImages:function(){this.currentTab="free",this.currentImageIndex=null},getMyImages:function(){var t=this;this.currentTab="my",this.currentImageIndex=null,f.default.imageFolder.get({project_id:this.page.project_id}).then(function(e){t.projectFolders=e.data}),this.personalFolders.length>0||(this.mainStatus="loading",f.default.imageFolder.get({project_id:0}).then(function(e){t.personalFolders=e.data,t.defaultFolder=(0,v.find)(t.personalFolders,function(t){return 1===t.is_default})||t.personalFolders[0],t.currentFolder=t.defaultFolder,t.switchFolder(t.currentFolder)}))},switchFolder:function(t){var e=this;arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.currentFolder=t,this.viewingImage={},this.currentImageIndex=null,f.default.image.get({folder_id:t.id,page:1,page_size:9999}).then(function(t){e.images=t.data.images,e.mainStatus="imageList"},function(t){e.mainStatus="failed"})},addFolder:function(t){var e=this;this.getInput({header:"请输入新文件夹名",inputAddon:'<span class="glyphicon glyphicon-folder-close"></span>',onConfirm:function(n){var i={dirname:n,project_id:t};f.default.imageFolder.save({},i).then(function(n){var i=n.data;i.total_image=0,0===t?e.personalFolders.push(i):e.projectFolders.push(i),e.currentFolder=i,e.images=[]})}})},renameFolder:function(t){var e=this;this.getInput({header:"请输入新文件夹名",inputAddon:'<span class="glyphicon glyphicon-folder-close"></span>',content:t.dirname,onConfirm:function(n){f.default.imageFolder.update({id:t.id},{dirname:n}).then(function(e){t.dirname=n},function(t){422===t.status&&e.warning({content:"文件夹名称不合法"})})}})},removeFolder:function(t,e){var n=this;this.confirm({header:"确定删除？",content:"文件夹「"+t.dirname+"」内的图片也将同时被全部删除。",onConfirm:function(){f.default.imageFolder.delete({id:t.id}).then(function(i){0===e?n.personalFolders.splice(n.personalFolders.indexOf(t),1):n.projectFolders.splice(n.projectFolders.indexOf(t),1),n.currentFolder=n.defaultFolder})}})},uploadImage:function(t){var e=this,n=t.target.files;if(0!==n.length){var i=new window.FormData;i.append("file",n[0]),i.append("folder_id",this.currentFolder.id),i.append("project_id",this.projectId),this.uploading.push("1"),f.default.image.save({},i).then(function(t){e.uploading.pop(),e.images.push(t.data),e.currentFolder.total_image++},function(t){e.warning({header:"上传失败",content:"图片格式不对或超过了10M"}),e.uploading.pop()})}},editImageUrl:function(){var t=this;this.imageUrlEditing=!0,this.$nextTick(function(){t.$refs.imageUrl.focus()})},uploadImageFromUrl:function(){var t=this;if(this.imageUrl){var e=new window.FormData;e.append("url",this.imageUrl),e.append("folder_id",this.currentFolder.id),e.append("project_id",this.projectId),this.uploading.push("1"),f.default.image.save({},e).then(function(e){t.uploading.pop(),t.images.push(e.data),t.currentFolder.total_image++,t.imageUrl=""},function(e){t.warning({header:"上传失败",content:"图片地址不对或超过了10M"}),t.uploading.pop()})}this.imageUrlEditing=!1},pickImage:function(t){"free"===this.currentTab&&null!==t?(this.imageLibrary.onSelect({url:"//s1.ujustatic.com/freeimg/"+this.freeImages[t].image,width:this.freeImages[t].width,height:this.freeImages[t].height}),this.closeImageLibrary()):null!==t&&this.images[t]&&(this.imageLibrary.onSelect(this.images[t]),this.closeImageLibrary())},selectImage:function(t){this.currentImageIndex=t},viewImage:function(t){this.viewingImage=(0,v.merge)({},this.images[t]),this.mainStatus="view"},modifyImage:function(t){var e=this,n={folder_id:this.currentFolder.id,alt:t.target.alt.value,name:t.target.name.value};f.default.image.update({id:this.viewingImage.id},n).then(function(t){e.images[e.currentImageIndex]=(0,v.merge)(e.images[e.currentImageIndex],n)})},removeImage:function(){var t=this;this.confirm({header:"确定删除？",content:"图片删除后将不可恢复。",onConfirm:function(){var e=t.images[t.currentImageIndex].id;f.default.image.delete({id:e}).then(function(e){var n=t.currentImageIndex;t.currentImageIndex=null,t.images.splice(n,1),t.mainStatus="imageList",t.currentFolder.total_image--})}})}}),mounted:function(){this.getMyImages()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(3);e.default={name:"image-picker",props:{value:{required:!0}},computed:{image:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:(0,a.default)({},(0,s.mapActions)(["getImage"]),{selectImage:function(){var t=this;this.getImage([function(e){e&&t.image===e.url||(t.image=e.url)}]),this.$emit("image-changed",this.image)},deleteImage:function(){this.image="",this.$emit("image-removed",this.image)}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),a=(i(o),n(6)),s=(i(a),n(10)),r=i(s),l=n(8),c=i(l);e.default={components:{Dropdown:c.default,Tooltip:r.default},props:{value:{required:!0}},data:function(){return{show:!1,lineHeights:[1,1.2,1.4,1.6,1.8,2]}},methods:{setLineHeight:function(t){this.$emit("input",t),this.show=!1}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{linkObj:{type:Object,required:!0},linkEditing:{type:Boolean,required:!0}},data:function(){return{changed:!1,link:{type:this.linkObj.type||"",url:this.linkObj.url||"",isNewTab:this.linkObj.isNewTab||!1,isTrack:this.linkObj.isTrack||!1}}},methods:{editDone:function(){this.linkEditing&&(this.$emit("link-edit-done",this.changed,this.link),this.changed=!1)},removeLink:function(){this.link.type="",this.link.url="",this.changed=!0,this.editDone()}},watch:{link:{deep:!0,handler:function(t){this.link.type=this.link.url?"outlink":"",this.changed=!0}}},beforeDestroy:function(){this.editDone()}}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),s=o(a),r=n(12),l=(o(r),n(6)),c=(o(l),n(10)),d=o(c),u=n(41),p=o(u),f=n(129),h=o(f),v=n(3),m=n(56),g=i(m);e.default={name:"multi-select",mixins:[p.default,h.default],props:["wrapperStyle","innerStyle","visible"],components:{Tooltip:d.default},data:function(){return{toolbarPosition:"top left"}},methods:(0,s.default)({},(0,v.mapActions)(["updateMultiMove","clearMultiSelect","moveElements","removeElements","alignMoveElements","indexOfElements"]),{showToolbar:function(){this.$emit("change-button-group","main");var t=_(this.$el)-document.documentElement.scrollTop,e=t<95?"bottom":"top",n=this.workspace.width-parseInt(this.element.style[this.workspace.version].left),i=n<0?"right":"left";this.toolbarPosition=e+" "+i},dragBegin:function(){this.bounds=this.getAlignmentInfo(),this.keyEventAttached||(document.addEventListener("keydown",this.onKey,!1),this.keyEventAttached=!0);var t=window.getComputedStyle(this.$refs.box,null),e=function(e){return parseInt(t[e])};this.startPosLeft=e("left"),this.startPosTop=e("top");var n=this.$refs.box.getBoundingClientRect(),i=document.getElementById("content-area").getBoundingClientRect();this.horizontalMax=[i.left-n.left,i.right-n.right],this.verticalMax=[i.top-n.top,i.bottom-n.bottom],this.startTop=-50-this.$el.offsetTop,this.updateMultiMove({started:!0})},dragMove:function(t,e){if(!t||0!==t.x||0!==t.y){var n=this.actualMove(t);this.$refs.box.style.left=this.startPosLeft+n.x+"px",this.$refs.box.style.top=this.startPosTop+n.y+"px",this.updateMultiMove({move:n})}},dragEnd:function(t,e){if(0!==t.x||0!==t.y){this.$emit("change-button-group","main"),this.bounds=null,this.offsetCache={x:0,y:0};var n=this.actualMove(t);this.updateMultiMove({move:n,forward:e});var i=g.getMulti();this.moveElements({elements:i,move:n})}},copy:function(){},moveTop:function(){this.indexOfElements([g.getMulti(),"top"])},moveBottom:function(){this.indexOfElements([g.getMulti(),"bottom"])},alignLeft:function(){var t=g.selectionAlignLeft();this.alignMove(t)},alignCenter:function(){
var t=g.selectionAlignCenter();this.alignMove(t)},alignRight:function(){var t=g.selectionAlignRight();this.alignMove(t)},alignMove:function(t){null!==t&&this.alignMoveElements({data:t})},remove:function(){this.removeElements(g.getMulti())}})};var _=function(t){for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=document.getElementById("main-wrapper");null!==t&&(e.scrollTop=e.scrollTop+t)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(2),s=i(a),r=n(3),l=n(7),c=i(l),d=n(445),u=i(d),p=n(117),f=i(p),h=n(114),v=i(h),m=n(446),g=i(m),_=n(115),b=i(_),y=n(116),w=i(y),C=n(451),x=i(C),E=n(450),k=i(E),I=n(447),S=i(I),P=n(448),M=i(P),T=n(449),A=i(T),O=n(125),D=i(O),R=n(54),j=i(R),F=n(4);e.default={name:"PageSection",props:["sectionId","section"],mixins:[c.default],components:{ElementForm:u.default,ElementText:f.default,ElementButton:v.default,ElementHtml:g.default,ElementImage:b.default,ElementShape:w.default,ElementVideo:x.default,ElementTimer:k.default,ElementIcon:S.default,ElementMap:M.default,ElementSwiper:A.default,Resizer:D.default},data:function(){return{mouseHere:!1}},computed:(0,s.default)({},(0,r.mapGetters)({workspace:"editorWorkspace",elements:"editorElements"}),{localSection:function(){return(0,F.merge)({},j.default,this.section)},border:function(){var t=this.localSection.style[this.workspace.version];return(t.border.width||"0px")+" "+t.border.style+" "+this.getColor(t.border.color)},mainStyle:function(){var t=this.localSection.style[this.workspace.version];return{height:t.height,borderTop:this.border,borderBottom:this.border,width:t.background.stretch?"100%":this.workspace.width+2+"px",margin:t.background.stretch?"":"0 auto",backgroundColor:this.getColor(t.background.color),backgroundImage:'url("'+t.background.image+'")',backgroundRepeat:t.background.repeat,backgroundPosition:t.background.position,backgroundSize:t.background.size,backgroundAttachment:t.background.fixed?"fixed":"scroll"}},maskStyle:function(){var t=this.section.style[this.workspace.version].mask;return{backgroundColor:this.getColor(t.color),opacity:t.opacity/100}},editing:function(){return this.workspace.activeSectionId===this.sectionId},showButton:function(){return this.workspace.currentSectionId===this.sectionId&&null===this.workspace.activeSectionId||this.workspace.activeSectionId===this.sectionId},height:function t(){var t=this.section.style[this.workspace.version].height;return parseInt(t)}}),methods:(0,s.default)({},(0,r.mapActions)({moveSection:"moveSection",removeSection:"removeSection",setActiveSectionId:"setActiveSectionId",modifySection:"modifySection",setCurrentSectionId:"setCurrentSectionId"}),{resizeStart:function(t){this.$refs.ruler.classList.add("active")},resizeHeight:function(t,e,n,i){var a={};a[this.workspace.version]={height:n+"px"},e?(this.modifySection([this.sectionId,a]),this.$refs.ruler.classList.remove("active")):(this.$el.style.height=n+"px",o(i))}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(12),r=(i(s),n(10)),l=i(r),c=n(51),d=(i(c),n(6)),u=(i(d),n(48)),p=i(u),f=n(19),h=i(f),v=n(112),m=i(v),g=n(77),_=i(g),b=n(7),y=i(b),w=n(17),C=i(w),x=n(54),E=i(x),k=n(3),I=n(4);e.default={components:{Sidebar:h.default,BackgroundEditor:m.default,BorderEditor:_.default,ColorPicker:C.default,Slider:p.default,Tooltip:l.default},mixins:[y.default],data:function(){return{style:{},maskOpacity:0,sync:!0}},computed:(0,a.default)({},(0,k.mapGetters)({workspace:"editorWorkspace",sections:"editorSections",page:"editingPage"}),{show:function(){return null!==this.workspace.activeSectionId}}),methods:(0,a.default)({},(0,k.mapActions)(["setActiveSectionId","modifySection"]),{changeMaskOpacity:function(t){this.style.mask.opacity=t}}),watch:{"workspace.activeSectionId":function(t){null!==t?(this.style=(0,I.merge)({},E.default.style.mobile,this.sections[t].style[this.workspace.version]),this.maskOpacity=this.style.mask.opacity):this.style={}},style:{handler:function(t,e){if(e.height&&t.height){var n={};this.sync?(n.pc=(0,a.default)({},t),n.mobile=(0,a.default)({},t),delete n.pc.height,delete n.mobile.height):n[this.workspace.version]=(0,a.default)({},t),this.modifySection([this.workspace.activeSectionId,n])}},deep:!0},styleFromStore:function(t,e){(0,I.isEqual)(t,this.style)||null!==t&&(this.style=(0,I.merge)({},this.style,t))}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(51),a=(i(o),n(6)),s=(i(a),n(48)),r=i(s),l=n(40),c=i(l),d=n(17),u=i(d),p=n(7),f=i(p),h=n(8),v=i(h);e.default={components:{SidebarPart:c.default,ColorPicker:u.default,Slider:r.default,Dropdown:v.default},props:{value:{required:!0},expand:{type:Boolean,default:!1}},mixins:[f.default],data:function(){return{showQuickSelector:!1,presetShadows:[{x:0,y:0,blur:8,spread:0},{x:-2,y:2,blur:8,spread:0},{x:2,y:2,blur:8,spread:0},{x:0,y:0,blur:12,spread:0},{x:-4,y:4,blur:12,spread:2},{x:4,y:4,blur:12,spread:2}]}},computed:{shadow:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}},methods:{pickPreset:function(t){this.shadow.x=t.x,this.shadow.y=t.y,this.shadow.blur=t.blur,this.shadow.spread=t.spread,this.showQuickSelector=!1}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(51),r=(i(s),n(6)),l=(i(r),n(48)),c=i(l),d=n(19),u=i(d),p=n(40),f=i(p),h=n(7),v=i(h),m=n(77),g=i(m),_=n(121),b=i(_),y=n(112),w=i(y),C=n(3);e.default={props:["show","value"],components:{Slider:c.default,Sidebar:u.default,SidebarPart:f.default,BorderEditor:g.default,BackgroundEditor:w.default,ShadowEditor:b.default},mixins:[v.default],computed:{shape:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},borderRadius:{get:function(){return parseInt(this.shape.style.borderRadius)},set:function(t){this.shape.style.borderRadius=t+"px"}}},methods:(0,a.default)({},(0,C.mapActions)(["getImage"]))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(19),r=i(s),l=n(79),c=i(l),d=n(3);e.default={name:"swiper-editor",props:["id","images","value","show"],components:{Sidebar:r.default,ImagePicker:c.default},methods:(0,a.default)({},(0,d.mapActions)(["getImage"]),{selectImage:function(){var t=this;this.getImage([function(e){t.imageList.push(e.url)}])},imageRemoved:function(t){this.imageList.splice(t,1)}}),computed:{imageList:{get:function(){return this.images},set:function(t){this.$emit("images-change",t)}}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(12),a=(i(o),n(6)),s=(i(a),n(10)),r=i(s),l=n(8),c=i(l);e.default={components:{Dropdown:c.default,Tooltip:r.default},props:["value"],data:function(){return{show:!1,textPositions:["left","center","right"]}},methods:{setValue:function(t){this.$emit("input",t),this.show=!1}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),a=i(o),s=n(17),r=i(s);e.default={name:"timer-editor",props:["show","value"],components:{Sidebar:a.default,ColorPicker:r.default},data:function(){return{timestamp:null}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),a=i(o);e.default={name:"video-editor",components:{Sidebar:a.default},props:["show","value"],data:function(){return{video:this.value.source}},methods:{save:function(){this.video!==this.value.source&&this.$emit("edit-change",this.video)},clear:function(){this.video="",this.$emit("edit-change",this.video)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(122),a=i(o);e.default={name:"alpha",components:{ColorSlider:a.default},props:{color:Object},computed:{alphaBg:function(){var t=this.color.rgb,e=[t.r,t.g,t.b].join(",");return"linear-gradient(to right, rgba("+e+", 0) 0%, rgba("+e+", 1) 100%)"}},methods:{onChange:function(t){this.$emit("on-change",Math.round(100*t)/100)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"color-input",props:{label:String,value:Number,min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},filter:{type:Function,default:function(t){return t}},validator:{type:Function,default:function(t){return!isNaN(t)}}},computed:{shownValue:function(){return this.filter(this.value)}},methods:{handleChange:function(t){this.$emit("on-change",this.label,t)},onInput:function(t){var e=parseFloat(t.target.value);this.validator(e)&&this.handleChange(e)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{max:{type:Number,default:100},min:{type:Number,default:0},value:Number},computed:{pointerLeft:function(){return 100*this.value/(this.max-this.min)+"%"}},methods:{onChange:function(t){var e=this.$el,n=e.clientWidth,i=t.pageX-(e.getBoundingClientRect().left+window.pageXOffset),o=void 0,a=void 0;i<0?o=this.min:i>n?o=this.max:(a=100*i/n,o=(this.max-this.min)*a/100),this.value!==o&&this.$emit("on-change",o)},onMouseDown:function(t){this.onChange(t),window.addEventListener("mousemove",this.onChange),window.addEventListener("mouseup",this.onMouseUp)},onMouseUp:function(t){this.removeListeners()},removeListeners:function(){window.removeEventListener("mousemove",this.onChange),window.removeEventListener("mouseup",this.onMouseUp)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(122),a=i(o);e.default={name:"hue",components:{ColorSlider:a.default},props:{value:Number},methods:{onChange:function(t){this.$emit("on-change",Math.round(t))}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4);e.default={name:"saturation",props:{hsv:Object},computed:{bgColor:function(){return"hsl("+this.hsv.h+", 100%, 50%)"},pointerTop:function(){return 100-this.hsv.v+"%"},pointerLeft:function(){return this.hsv.s+"%"}},methods:{throttle:(0,i.throttle)(function(t,e){t(e)},50),handleChange:function(t){var e=this.$el,n=e.clientWidth,i=e.clientHeight,o=t.pageX-(e.getBoundingClientRect().left+window.pageXOffset),a=t.pageY-(e.getBoundingClientRect().top+window.pageYOffset);o<0?o=0:o>n?o=n:a<0?a=0:a>i&&(a=i);var s=100*o/n,r=-(100*a/i)+100;this.throttle(this.onChange,{h:this.hsv.h,s:s,v:r})},onChange:function(t){this.$emit("on-change",t)},onMouseDown:function(t){this.handleChange(t),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.onMouseUp)},onMouseUp:function(t){this.removeListeners()},removeListeners:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.onMouseUp)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(471),a=i(o),s=n(470),r=i(s),l=n(468),c=i(l),d=n(469),u=i(d),p=n(55),f=i(p);e.default={name:"color-picker",components:{Saturation:a.default,Hue:r.default,Alpha:c.default,ColorInput:u.default},props:{c:String},data:function(){return{color:(0,f.default)(this.c),showedField:0}},computed:{currentColor:function(){var t=this.color.rgb,e=t.r,n=t.g,i=t.b;return"rgba("+[e,n,i].join(",")+","+this.color.a+")"},showedAlpha:function(){var t=this.color.a;return t%1===0?t:t.toFixed(2)}},methods:{alphaFilter:function(t){return Math.floor(100*t)/100},percentFilter:function(t){return t+"%"},changeSaturation:function(t){this.color=(0,f.default)({hsv:t},this.color)},changeHue:function(t){var e=this.color.hsl;this.color=(0,f.default)({hsl:{h:t,s:e.s,l:e.l}},this.color)},changeAlpha:function(t){this.color.a=t},switchFields:function(){this.showedField=(this.showedField+1)%2},inputChange:function(t,e){if("rgb".indexOf(t)>-1){var n=this.color.rgb;n[t]=e,this.color=(0,f.default)({rgb:n},this.color)}else if("hsl".indexOf(t)>-1){var i=this.color.hsl;i[t]=e,this.color=(0,f.default)({hsl:i},this.color)}else"a"===t&&(this.color.a=e)},selected:function(){this.$emit("on-change",this.color)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(2),s=i(a),r=n(20),l=i(r),c=n(325),d=(i(c),n(6)),u=(i(d),n(314)),p=i(u),f=n(11),h=i(f),v=n(124),m=i(v),g=n(32),_=i(g),b=n(8),y=i(b);e.default={name:"Leads",components:(o={},(0,l.default)(o,p.default.name,p.default),(0,l.default)(o,"DateRangePicker",m.default),(0,l.default)(o,"Dropdown",y.default),o),data:function(){return{page:{name:""},loading:!0,leads:[],currentPage:1,leadsCount:0,pageSize:50,limitEndDate:(0,_.default)().format("YYYY-MM-DD"),hideFieldName:!1,fieldsDropdown:!1,utmsDropdown:!1,utmMap:{utm_source:{name:"来源",display:!0},utm_campaign:{name:"广告计划",display:!1},utm_medium:{name:"媒体",display:!1},utm_content:{name:"广告内容",display:!1},utm_term:{name:"关键词",display:!1}}}},computed:{utmDisplayAll:{get:function(){for(var t in this.utmMap)if(!this.utmMap[t].display)return!1;return!0},set:function(t){for(var e in this.utmMap)this.utmMap[e].display=t}},date:{get:function(){return{startDate:this.$route.query.sd||(0,_.default)().add(-7,"days").format("YYYY-MM-DD"),endDate:this.$route.query.ed||(0,_.default)().add(-1,"days").format("YYYY-MM-DD")}},set:function(t){var e=(0,s.default)({},this.$route.query,{sd:t.startDate,ed:t.endDate});this.$router.push({path:this.$route.path,query:e})}}},methods:{getLeads:function(){var t=this;this.loading=!0,h.default.page.leads({id:this.$route.params.pageId,current_page:this.currentPage,page_size:this.pageSize,start_date:this.date.startDate,end_date:this.date.endDate}).then(function(e){t.leadsCount=e.data.total_pageforms,t.leads=e.data.pageforms,t.loading=!1})},changeSize:function(t){this.pageSize=t,this.getLeads()},changeCurrentPage:function(t){this.currentPage=t,this.getLeads()},download:function(){window.location="/api/page/"+this.$route.params.pageId+"/leadscvs?start_date="+this.date.startDate+"&end_date="+this.date.endDate}},created:function(){var t=this;h.default.page.get({id:this.$route.params.pageId}).then(function(e){t.page=e.data,document.title=t.page.name+" - 商机 - 聚页"}),this.getLeads()},watch:{$route:function(){this.getLeads()}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(475),a=i(o),s=n(111),r=i(s),l=n(53),c=i(l),d=n(11),u=i(d),p=n(4);e.default={components:{PreviewHeader:a.default,VersionSwitcher:c.default,Previewer:r.default},data:function(){return{page:{},variations:[],currentVariation:null,loading:!0,version:"mobile"}},methods:{switchVersion:function(t){this.version=t}},watch:{"$route.params.variationId":function(t){this.currentVariation=(0,p.find)(this.variations,function(e){return e.id===parseInt(t)})}},computed:{url:function(){return"/api/pages/"+this.page.id+"/variations/"+this.currentVariation.id+"/preview"}},created:function(){var t=this;u.default.page.get({id:this.$route.params.pageId}).then(function(e){return t.page=e.data,document.title=t.page.name+" - 预览 - 聚页",u.default.variation.get({pageId:t.$route.params.pageId})}).then(function(e){t.variations=e.data,t.currentVariation=(0,p.find)(t.variations,function(e){return e.id===parseInt(t.$route.params.variationId)}),t.loading=!1})}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=i(o);e.default={components:{Dropdown:a.default},props:{variations:{type:Array,default:[]},currentVariation:{type:Object,defualt:{}}},data:function(){return{showVariations:!1}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(80),a=i(o);e.default={components:{StatsNav:a.default},props:["report"],filters:{percentage:function(t){return Math.round(10*t)/10+"%"}},computed:{goalData:function(){return this.report[1]},notGoalData:function(){return this.report[0]}}}},function(t,e){"use strict"},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(80),r=i(s),l=n(110),c=i(l),d=n(32),u=i(d),p=n(3),f=n(481),h=i(f),v=n(4);e.default={name:"StatsOverview",components:{StatsNav:r.default,Chart:h.default,AbSplit:c.default},props:["report","params"],filters:{percentage:function(t){return Math.round(1e3*t)/10+"%"}},data:function(){return{currentTab:"conversionRate",showSplit:!1}},computed:(0,a.default)({},(0,p.mapGetters)({page:"statsPage"}),{reportData:function(){for(var t=this,e=(0,u.default)(this.params.start_date),n=(0,u.default)(this.params.end_date),i={conversions:{},conversionRate:{},visitors:{}},o=function(){var n=(0,u.default)(e).add(a,"days").format("YYYY-MM-DD");if(i.conversions[n]={},i.conversionRate[n]={},i.visitors[n]={},t.report.variations){t.report.variations.forEach(function(t){var e=(0,v.find)(t.dates,function(t){return t.report_date===n});i.conversions[n][t.name]=e?e.total_conversions:0,i.conversionRate[n][t.name]=(Math.round(1e3*(e?e.cv:0))/10).toString()+"%",i.visitors[n][t.name]=e?e.total_visitors:0});var o=(0,v.find)(t.report.gather_date,function(t){return t.report_date===n});i.conversions[n].total=o?o.total_conversions:0,i.conversionRate[n].total=(Math.round(1e3*(o?o.cv:0))/10).toString()+"%",i.visitors[n].total=o?o.total_visitors:0}},a=0;a<=n.diff(e,"days");a++)o();return i},variations:function(){return this.report.variations?this.report.variations.map(function(t){return t.name}):[]},chartOptions:function(){var t=this;return{tooltipData:this.chartData,axisX:{labelInterpolationFnc:function(t,e,n){var i=n.length,o=i>16?Math.round(i/10):1;return e%o===0?(0,u.default)(t).format("MM-DD"):""}},axisY:{labelInterpolationFnc:function(e){return"conversionRate"===t.currentTab?e+"%":e}}}},dayLabels:function(){for(var t=(0,u.default)(this.params.start_date),e=(0,u.default)(this.params.end_date),n=[],i=0;i<=e.diff(t,"days");i++){var o=(0,u.default)(t).add(i,"days").format("YYYY-MM-DD");n.push(o)}return n},chartData:function(){var t=this,e={conversions:[],conversionRate:[],visitors:[]};return this.report.variations&&this.report.variations.forEach(function(n){var i=[],o=[],a=[];t.dayLabels.forEach(function(t){var e=(0,v.find)(n.dates,{report_date:t})||{total_conversions:0,cv:0,total_visitors:0};i.push(parseFloat(e.total_conversions)),o.push(parseFloat(Math.round(1e3*e.cv)/10)),a.push(parseFloat(e.total_visitors))}),e.conversions.push({name:n.name,data:i}),e.conversionRate.push({name:n.name,data:o}),e.visitors.push({name:n.name,data:a})}),e},stats:function(){return{labels:this.dayLabels,series:this.chartData[this.currentTab]}}}),methods:(0,a.default)({},(0,p.mapActions)(["statsTraficSplit"]),{updateTraficSplit:function(t){this.statsTraficSplit(t)}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(11),r=i(s),l=n(477),c=i(l),d=n(478),u=i(d),p=n(476),f=i(p),h=n(480),v=i(h),m=n(32),g=i(m);e.default={name:"Stats",components:{Navbar:c.default,Overview:u.default,Conversion:f.default,Traffic:v.default},data:function(){return{loading:!1,report:{}}},computed:{params:function(){return(0,a.default)({},this.$route.params,{ver:this.$route.query.ver||"",variation_id:this.$route.query.vid||0,start_date:this.$route.query.sd||(0,g.default)().add(-7,"days").format("YYYY-MM-DD"),end_date:this.$route.query.ed||(0,g.default)().add(-1,"days").format("YYYY-MM-DD")})}},methods:{getReportData:function(){var t=this;this.loading=!0,r.default.report.get(this.params).then(function(e){t.report=e.data,t.loading=!1})}},mounted:function(){this.getReportData(),document.title=this.$store.getters.statsPage.name+" - 分析 - 聚页"},watch:{$route:function(){this.getReportData()}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),a=i(o),s=n(2),r=i(s),l=n(53),c=i(l),d=n(124),u=i(d),p=n(8),f=i(p),h=n(32),v=i(h);e.default={props:["title"],components:{VersionSwitcher:c.default,DateRangePicker:u.default,Dropdown:f.default},data:function(){return{duration:"",limitEndDate:(0,v.default)().format("YYYY-MM-DD"),showVariations:!1,page:this.$store.getters.statsPage}},methods:{newQuery:function(t,e){return(0,r.default)({},this.$route.query,(0,a.default)({},t,e))},switchVersion:function(t){this.$router.push({path:this.$route.path,query:(0,r.default)({},this.$route.query,{ver:t})})},switchVariation:function(t){t=t||{id:0,name:"全部版本"},this.$router.push({path:this.$route.path,query:(0,r.default)({},this.$route.query,{vid:t.id})}),this.showVariations=!1}},computed:{variationName:function(){var t=this,e=this.page.variations.filter(function(e){return parseInt(e.id)===parseInt(t.$route.query.vid)})[0];return e?e.name:"全部版本"},date:{get:function(){return{startDate:this.$route.query.sd||(0,v.default)().add(-7,"days").format("YYYY-MM-DD"),endDate:this.$route.query.ed||(0,v.default)().add(-1,"days").format("YYYY-MM-DD")}},set:function(t){var e=(0,r.default)({},this.$route.query,{sd:t.startDate,ed:t.endDate});this.$router.push({path:this.$route.path,query:e})}}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(80),a=i(o);e.default={components:{StatsNav:a.default},props:["report"],filters:{percentage:function(t){return Math.round(1e3*t)/10+"%"}},data:function(){return{tabs:{utm_campaign:"广告系列",utm_source:"来源",utm_medium:"媒介",utm_content:"广告内容",utm_term:"关键词"},currentTab:"utm_campaign"}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(128),a=i(o);e.default={name:"chart-line",mixins:[a.default]}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(483),r=i(s),l=n(111),c=i(l),d=n(53),u=i(d),p=n(3),f=n(11),h=i(f);e.default={components:{TemplateHeader:r.default,VersionSwitcher:u.default,Previewer:c.default},data:function(){return{version:"mobile",colorSet:[]}},computed:{colors:function(){return encodeURIComponent(this.colorSet.toString())},url:function(){return"/api/hub/template/preview/"+this.$route.params.templateId+"?color="+this.colors}},methods:(0,a.default)({},(0,p.mapActions)(["getInput"]),{switchVersion:function(t){this.version=t},updateColors:function(t){this.colorSet=t},useTemplate:function(){var t=this,e=this.$route.params.templateId,n=this.$route.query.gid||null,i=this.$route.query.pid||null;if(n){var o={id:e,group_id:n};this.colors.length>0&&(o.color=this.colorSet.toString()),this.getInput({header:"请输入页面标题",inputAddon:'<span class="glyphicon glyphicon-file"></span>',onConfirm:function(e){o.page_name=e||"未命名页面",h.default.template.copy(o).then(function(e){t.$router.push("/editor/"+e.data.page_id+"/"+e.data.variation_id)})}})}else if(i){var a={id:e,page_id:i};this.colors.length>0&&(a.color=this.colorSet.toString()),h.default.template.copy(a).then(function(e){t.$router.push("/editor/"+e.data.page_id+"/"+e.data.variation_id)})}}})}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=i(o),s=n(123),r=i(s);e.default={components:{Dropdown:a.default,ColorSchemes:r.default},data:function(){return{}},methods:{updateColors:function(t){this.$emit("update-colors",t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(322),r=(i(s),n(6)),l=(i(r),n(307)),c=i(l),d=n(11),u=i(d),p=n(3);e.default={name:"TemplatesList",components:{ElCheckbox:c.default},data:function(){return{loading:!0,templates:[],pageGroupId:null,pageId:null,isCompat:!1}},methods:(0,a.default)({},(0,p.mapActions)(["getInput","createPage","createEmptyVariation"]),{getData:function(){var t=this;u.default.template.get({is_compat:Number(this.isCompat)}).then(function(e){t.templates=e.data,t.loading=!1},function(t){console.log(t)})},createEmptyPage:function(){var t=this;this.pageId?this.createEmptyVariation([this.pageId,function(e){t.$router.push("/editor/"+t.pageId+"/"+e.id)}]):this.pageGroupId&&this.getInput({header:"请输入页面名称",inputAddon:'<span class="glyphicon glyphicon-file"></span>',onConfirm:function(e){var n={name:e||"未命名页面",group_id:t.pageGroupId,is_compat:Number(t.isCompat)};t.createPage([n,function(e){t.$router.push("/editor/"+e.id)}])}})}}),mounted:function(){document.title="选择模板 - 聚页",this.pageGroupId=this.$route.query.gid||null,this.pageId=this.$route.query.pid||null,this.getData()}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a=i(o);e.default={components:{Dropdown:a.default},props:["colorSet"],data:function(){return{colorTypes:{grey:{colorGroup:["#999","#ccc"],colorSchemes:[["#FFFBFF","#E8ECED","#A4B7BB","#76A0B0","#35262D"],["#FFFBDC","#E5E2C6","#BFBCA5","#7F7D6E","#3F3E37"],["#FFFEFC","#E2E3DF","#515B5E","#CAF200","#2E3233"],["#FFFFFF","#DEDEDE","#8AA8B0","#F26101","#313732"],["#E1E7E8","#A3ABAF","#37646F","#B22E2F","#1B2B32"]]},red:{colorGroup:["#A20D1E","#F0788C"],colorSchemes:[["#FF1D23","#D40D12","#94090D","#5C0002","#450003"],["#FFC887","#FF8A00","#CC5400","#B31E00","#662222"],["#FF822E","#FF6517","#FA5B0F","#EF5411","#261822"],["#F6B1C3","#F0788C","#DE264C","#BC0D35","#820D1E"],["#FFF0A5","#FFB03B","#B64926","#468966","#8E2800"]]},yellow:{colorGroup:["#FFD34E","#FFFAD5"],colorSchemes:[["#FFF7EA","#E3D2B4","#B59D75","#332312","#140B04"],["#EFECCA","#E6E2AF","#A7A37E","#046380","#002F2F"],["#C8DBB6","#ECEBB7","#CCC68A","#B8B165","#827A5D"],["#FAD46B","#F0B650","#DB913C","#BA5B22","#013C4D"],["#FFF5A6","#FFEB57","#FFE30A","#807105","#242001"]]},blue:{colorGroup:["#3F5765","#BDD4DE"],colorSchemes:[["#E8F8FF","#B4DCED","#91C9E8","#67B8DE","#004499"],["#E1E6FA","#C4D7ED","#ABC8E2","#375D81","#183152"],["#EEEFF7","#92CDCF","#445878","#31353D","#1C1D21"],["#FCFFF5","#D1DBBD","#91AA9D","#3E606F","#193441"],["#FFFEF1","#70B85D","#2C5E2E","#54D0ED","#0C273D"]]},green:{colorGroup:["#79BD8F","#BEEB9F"],colorSchemes:[["#D9E5CD","#85EDB6","#49B8A8","#067778","#212629"],["#96ED89","#45BF55","#168039","#044D29","#00261C"],["#C8E8C7","#A4DEAB","#85CC9F","#499E8D","#00261C"],["#E1E6B9","#C4D7A4","#ABC8A4","#375D3B","#183128"],["#C6FFFA","#E2FFA8","#D6E055","#50B8B4","#2E95A3"]]},purple:{colorGroup:["#7E4985","#BBA1CB"],colorSchemes:[["#EBD0C4","#F1B0B0","#D68684","#735360","#3E3947"],["#9768D1","#7B52AB","#553285","#36175E","#25064D"],["#FFAA5C","#DA727E","#AC6C82","#685C79","#455C7B"],["#EDE0E6","#D188A8","#D369A4","#9D899D","#6F196F"],["#FFFF00","#59580B","#B256A1","#7F176B","#2E064C"]]}},mainColor:"grey",show:!1}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(323),a=(i(o),n(6)),s=(i(a),n(308)),r=i(s),l=n(32),c=i(l),d={shortcuts:[{text:"今天",onClick:function(t){var e=new Date;t.$emit("pick",[e,e])}},{text:"昨天",onClick:function(t){var e=new Date;e.setTime(e.getTime()-l.msOfDay),t.$emit("pick",[e,e])}},{text:"最近7天",onClick:function(t){var e=new Date,n=new Date;e.setTime(e.getTime()-7*l.msOfDay),n.setTime(n.getTime()-l.msOfDay),t.$emit("pick",[e,n])}},{text:"最近30天",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-30*l.msOfDay),e.setTime(e.getTime()-l.msOfDay),t.$emit("pick",[n,e])}},{text:"本月",onClick:function(t){var e=new Date,n=new Date;n.setDate(1),t.$emit("pick",[n,e])}},{text:"上月",onClick:function(t){var e=(0,c.default)().subtract(1,"M"),n=(0,c.default)().subtract(1,"M");t.$emit("pick",[e.startOf("month").value(),n.endOf("month").value()])}}],disabledDate:function(t){return(0,c.default)(t).isAfter()}};e.default={name:"DateRangePicker",components:{DatePicker:r.default},props:{value:Object,pickerOptions:{type:Object,default:function(){return d}}},computed:{dateRange:{get:function(){var t=this.value;return[(0,c.default)(t.startDate).value(),(0,c.default)(t.endDate).value()]},set:function(t){var e=(0,c.default)(t[0]).format("YYYY-MM-DD"),n=(0,c.default)(t[1]).format("YYYY-MM-DD");e===this.value.startDate&&n===this.value.endDate||this.$emit("input",{startDate:e,endDate:n})}},displayRange:function(){var t=this.value,e=t.startDate,n=t.endDate;return e===n?e:e+" 至 "+n}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),a=i(o);e.default={props:{show:Boolean,dir:{type:String,default:"down"}},methods:{toggleDropdown:function(t){t.preventDefault(),this.$emit("toggle")}},mounted:function(){var t=this,e=this.$el,n=e.querySelector('[data-toggle="dropdown"]');n&&n.addEventListener("click",this.toggleDropdown),this._closeEvent=a.default.listen(window,"click",function(n){e.contains(n.target)&&"a"!==n.target.nodeName.toLowerCase()||!t.show||t.toggleDropdown(n)})},beforeDestroy:function(){this._closeEvent&&this._closeEvent.remove()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);e.default={computed:(0,i.mapGetters)({msg:"message",show:"showMessage"}),data:function(){return{error:""}},methods:{cancel:function(){this.msg.onCancel&&this.msg.onCancel(),this.$store.dispatch("nextMessage")},ok:function(){if(this.msg.onConfirm)if("input"===this.msg.type){var t=this.$refs.msgInput.value;this.error=this.msg.onConfirm(t.trim())||""}else this.msg.onConfirm();!this.error&&this.$store.dispatch("nextMessage")}},watch:{show:function(t){var e=this;this.error="",t&&("input"===this.msg.type?this.$nextTick(function(){e.$refs.msgInput.focus()}):this.$nextTick(function(){e.$el.focus()}))}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(57),a=n(42),s=i(a);e.default={props:{show:{type:Boolean,required:!0},width:{type:String,default:"500px"},height:{type:String,default:"auto"}},data:function(){return{mouseOnBody:!1}},watch:{show:function(t){var e=(0,s.default)(document.body),n=(0,s.default)(".editor-header");this.$nextTick(function(){if(t){var i=(0,o.getScrollbarWidth)()+"px";e.addClass("no-scroll").css("padding-right",i),n.css("padding-right",i)}else e.css("padding-right","0px").removeClass("no-scroll"),n.css("padding-right","0px")})}}}},function(t,e){"use strict";function n(t){return t.toElement?t.toElement===document.querySelector("html"):!!t.target&&t.target===document}Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"oneside-resizer",props:{offset:{type:Number,default:0},extent:{type:Number,default:10},minSize:{type:Number,default:0},defaultSize:{type:Number,default:-1},maxSize:{type:Number,default:Number.MAX_VALUE},side:{type:String,default:"right"},size:{type:Number,required:!1},autoStyle:{type:Boolean,default:!0}},computed:{horizontal:function(){return"left"===this.side||"right"===this.side},cursor:function(){var t=this.style.cursor;return t?t:this.horizontal?"ew-resize":"ns-resize"},plus:function(){return"right"===this.side||"bottom"===this.side},style:function t(){if(!this.autoStyle)return{};var t;return t=this.horizontal?{width:this.extent+"px",height:"100%",top:"0",cursor:"ew-resize"}:{width:"100%",height:this.extent+"px",left:"0",cursor:"ns-resize"},t[this.side]=-this.offset+"px",t}},data:function(){return{extraOffset:0,prevPosition:0}},methods:{getSize:function(){if(!this.size){var t=window.getComputedStyle(this.$parent.$el);
return parseInt(this.horizontal?t.width:t.height)}return this.size},dragStart:function(t){t.defaultPrevented||(t.preventDefault(),this.startSize=this.getSize(),this.horizontal?this.startPos=t.clientX:this.startPos=t.clientY,this.oldCursor=document.body.style.cursor,document.body.style.cursor=this.cursor,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.dragEnd),this.$emit("resize-start",this.side))},drag:function(t){var e,i,o;t.preventDefault(),o=this.horizontal?t.clientX:t.clientY,e=o-this.startPos;var a=n(t);a&&(this.extraOffset+=2),e+=this.extraOffset,this.plus||(e=-e);var s=e-this.prevPosition;this.prevPosition=e,a?s+=2:s=0,i=this.startSize+e,i=Math.max(i,this.minSize),i=Math.min(i,this.maxSize),this.$emit("resizing",this.side,!1,i,s)},dragEnd:function(t){t.preventDefault();var e,n,i;return i=this.horizontal?t.clientX:t.clientY,e=i-this.startPos,e+=this.extraOffset,this.plus||(e=-e),n=this.startSize+e,n<this.minSize?n=this.minSize:n>this.maxSize&&(n=this.maxSize),this.prevPosition=0,this.extraOffset=0,document.body.style.cursor=this.oldCursor,document.removeEventListener("mousemove",this.drag),document.removeEventListener("mouseup",this.dragEnd),this.$emit("resize-end",this.side,!0,n),!0}},watch:{minSize:function(t){this.getSize()<t&&(this.size=t)},maxSize:function(t){this.getSize()>t&&(this.size=t)}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(27),a=i(o),s=n(57),r=n(42),l=i(r);e.default={props:{show:{type:Boolean,require:!0}},data:function(){return{bodyScrollable:!0}},mounted:function(){var t=this,e=this.$el;this._closeEvent=a.default.listen(window,"click",function(n){e.contains(n.target)||t.$emit("close")})},beforeDestroy:function(){this._closeEvent&&this._closeEvent.remove()},watch:{bodyScrollable:function(t){var e=(0,l.default)(document.body),n=(0,l.default)(".editor-header"),i=this.$refs.sidebarBody,o=(0,l.default)(this.$el);this.$nextTick(function(){if(t)e.css("padding-right","0px").removeClass("no-scroll"),n.css("padding-right","0px"),o.css("padding-right","0px");else if(i&&i.scrollHeight>i.clientHeight){var a=(0,s.getScrollbarWidth)()+"px";e.addClass("no-scroll").css("padding-right",a),n.css("padding-right",a),o.css("padding-right",a)}})}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SidebarPart",props:{title:{type:String,required:!0},expand:{type:Boolean,default:!1},quickSelector:{type:Boolean,default:!0}},data:function(){return{expanded:this.expand}}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(3);e.default={computed:(0,a.default)({},(0,s.mapGetters)({load:"load"}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,function(t,e,n){n(339),n(340);var i=n(1)(n(152),n(502),null,null);t.exports=i.exports},function(t,e,n){n(400);var i=n(1)(n(153),n(567),"data-v-bdd8f488",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(154),n(545),null,null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(155),n(533),null,null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(156),n(549),null,null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(157),n(528),null,null);t.exports=i.exports},function(t,e,n){n(401);var i=n(1)(null,n(568),"data-v-bde775d2",null);t.exports=i.exports},function(t,e,n){n(384);var i=n(1)(n(159),n(552),"data-v-7b82adee",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(160),n(525),null,null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(163),n(522),null,null);t.exports=i.exports},function(t,e,n){n(346);var i=n(1)(n(164),n(507),"data-v-2c4d9954",null);t.exports=i.exports},function(t,e,n){n(393);var i=n(1)(n(165),n(562),"data-v-9a33c934",null);t.exports=i.exports},function(t,e,n){n(410);var i=n(1)(n(166),n(578),"data-v-ff6aa708",null);t.exports=i.exports},function(t,e,n){n(405);var i=n(1)(n(167),n(572),"data-v-d7d8d2e6",null);t.exports=i.exports},function(t,e,n){n(341);var i=n(1)(n(168),n(503),null,null);t.exports=i.exports},function(t,e,n){n(376);var i=n(1)(n(169),n(542),"data-v-6bd5e84b",null);t.exports=i.exports},function(t,e,n){n(387);var i=n(1)(n(170),n(555),"data-v-82bc9bb4",null);t.exports=i.exports},function(t,e,n){n(380);var i=n(1)(n(173),n(547),"data-v-717b5522",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(174),n(497),null,null);t.exports=i.exports},function(t,e,n){n(364);var i=n(1)(n(177),n(527),null,null);t.exports=i.exports},function(t,e,n){n(356);var i=n(1)(n(178),n(518),"data-v-3ab13c6d",null);t.exports=i.exports},function(t,e,n){n(355);var i=n(1)(n(179),n(517),"data-v-3a960903",null);t.exports=i.exports},function(t,e,n){n(358),n(357);var i=n(1)(n(180),n(519),"data-v-43bd0bcb",null);t.exports=i.exports},function(t,e,n){n(398),n(397);var i=n(1)(n(181),n(565),"data-v-b9293c36",null);t.exports=i.exports},function(t,e,n){n(402);var i=n(1)(n(184),n(569),"data-v-c61ca6c6",null);t.exports=i.exports},function(t,e,n){n(377);var i=n(1)(n(185),n(543),null,null);t.exports=i.exports},function(t,e,n){n(366);var i=n(1)(n(186),n(530),"data-v-54b9f9d2",null);t.exports=i.exports},function(t,e,n){n(363);var i=n(1)(n(188),n(526),"data-v-4ebbee93",null);t.exports=i.exports},function(t,e,n){n(409);var i=n(1)(n(190),n(577),"data-v-f33cfbde",null);t.exports=i.exports},function(t,e,n){n(404);var i=n(1)(n(192),n(571),null,null);t.exports=i.exports},function(t,e,n){n(350);var i=n(1)(n(193),n(511),"data-v-310deb1c",null);t.exports=i.exports},function(t,e,n){n(332);var i=n(1)(n(194),n(493),"data-v-16808540",null);t.exports=i.exports},function(t,e,n){n(328);var i=n(1)(n(195),n(489),"data-v-05e1803e",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(198),n(557),null,null);t.exports=i.exports},function(t,e,n){n(390);var i=n(1)(n(199),n(559),"data-v-88046606",null);t.exports=i.exports},function(t,e,n){n(359);var i=n(1)(n(200),n(520),"data-v-444cf154",null);t.exports=i.exports},function(t,e,n){n(391);var i=n(1)(n(201),n(560),"data-v-8bf1ce8c",null);t.exports=i.exports},function(t,e,n){n(382);var i=n(1)(n(202),n(550),"data-v-75b405f3",null);t.exports=i.exports},function(t,e,n){n(371);var i=n(1)(n(204),n(536),null,null);t.exports=i.exports},function(t,e,n){n(353);var i=n(1)(n(206),n(515),null,null);t.exports=i.exports},function(t,e,n){n(351);var i=n(1)(n(207),n(513),null,null);t.exports=i.exports},function(t,e,n){n(329);var i=n(1)(n(208),n(490),null,null);t.exports=i.exports},function(t,e,n){n(349);var i=n(1)(n(210),n(510),null,null);t.exports=i.exports},function(t,e,n){n(372);var i=n(1)(n(211),n(537),"data-v-62548098",null);t.exports=i.exports},function(t,e,n){n(337);var i=n(1)(n(212),n(499),null,null);t.exports=i.exports},function(t,e,n){n(368);var i=n(1)(n(213),n(532),null,null);t.exports=i.exports},function(t,e,n){n(374);var i=n(1)(n(214),n(540),null,null);t.exports=i.exports},function(t,e,n){n(336);var i=n(1)(n(215),n(498),null,null);t.exports=i.exports},function(t,e,n){n(334);var i=n(1)(n(216),n(495),"data-v-1ab753db",null);t.exports=i.exports},function(t,e,n){n(407);var i=n(1)(n(218),n(575),null,null);t.exports=i.exports},function(t,e,n){n(385);var i=n(1)(n(219),n(553),null,null);t.exports=i.exports},function(t,e,n){n(367);var i=n(1)(n(220),n(531),null,null);t.exports=i.exports},function(t,e,n){n(327);var i=n(1)(n(221),n(488),"data-v-033f1510",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(222),n(501),null,null);t.exports=i.exports},function(t,e,n){n(396);var i=n(1)(n(223),n(564),"data-v-b90230c2",null);t.exports=i.exports},function(t,e,n){var i=n(1)(n(224),n(512),null,null);t.exports=i.exports},function(t,e,n){n(365);var i=n(1)(n(225),n(529),"data-v-53bfec5f",null);t.exports=i.exports},function(t,e,n){n(392);var i=n(1)(n(226),n(561),"data-v-970b60f0",null);t.exports=i.exports},function(t,e,n){n(379);var i=n(1)(n(227),n(546),null,null);t.exports=i.exports},function(t,e,n){n(361);var i=n(1)(n(229),n(523),null,null);t.exports=i.exports},function(t,e,n){n(386);var i=n(1)(n(230),n(554),null,null);t.exports=i.exports},function(t,e,n){n(378);var i=n(1)(n(231),n(544),null,null);t.exports=i.exports},function(t,e,n){n(373);var i=n(1)(n(232),n(538),"data-v-62da53e6",null);t.exports=i.exports},function(t,e,n){n(375);var i=n(1)(n(233),n(541),"data-v-6945ed9e",null);t.exports=i.exports},function(t,e,n){n(383);var i=n(1)(n(237),n(551),"data-v-7b61aee0",null);t.exports=i.exports},function(t,e,n){n(370);var i=n(1)(n(242),n(535),"data-v-5e9b68fd",null);t.exports=i.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-group"},[t.showAll?n("div",{staticClass:"btn btn-default",class:{active:!t.version},on:{click:function(e){t.onSwitch("")}}},[t._v("全部")]):t._e(),t._v(" "),n("div",{staticClass:"btn btn-default",class:{active:"pc"===t.version},on:{click:function(e){t.onSwitch("pc")}}},[t._v("\n    桌面版 "),n("span",{staticClass:"glyphicon glyphicon-blackboard"})]),t._v(" "),n("div",{staticClass:"btn btn-default",class:{active:"mobile"===t.version},on:{click:function(e){t.onSwitch("mobile")}}},[t._v("\n    移动版 "),n("span",{staticClass:"glyphicon glyphicon-phone"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content-header"},[n("h4",[t._v("商机列表 - "+t._s(t.page.name)+"   \n      "),n("div",{staticClass:"btn btn-default",on:{click:t.download}},[n("span",{staticClass:"glyphicon glyphicon-save"})])]),t._v(" "),n("date-range-picker",{staticStyle:{float:"right","margin-top":"10px"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-body"},[n("div",{staticClass:"leads"},[0===t.leads.length?n("p",[t._v("该页面暂无表单提交数据")]):t._e(),t._v(" "),t.leads.length>0?n("table",{staticClass:"table table-bordered table-striped table-hover"},[n("thead",[n("tr",[n("th",[t._v("表单数据\n              "),n("dropdown",{attrs:{show:t.fieldsDropdown},on:{toggle:function(e){t.fieldsDropdown=!t.fieldsDropdown}}},[n("div",{staticClass:"btn btn-sm btn-defualt dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[n("span",{staticClass:"glyphicon glyphicon-cog"})]),t._v(" "),n("div",{staticClass:"dropdown-menu",slot:"dropdown-menu"},[n("div",{staticClass:"dropdown-item",on:{click:function(e){t.hideFieldName=!t.hideFieldName}}},[n("span",{staticClass:"glyphicon",class:t.hideFieldName?"glyphicon-ok":"glyphicon-unchecked"}),t._v(" 隐藏字段名\n                  ")])])])],1),t._v(" "),n("th",{attrs:{width:"220px"}},[t._v("来源标记\n              "),n("dropdown",{attrs:{show:t.utmsDropdown},on:{toggle:function(e){t.utmsDropdown=!t.utmsDropdown}}},[n("div",{staticClass:"btn btn-sm btn-defualt dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[n("span",{staticClass:"glyphicon glyphicon-cog"})]),t._v(" "),n("ul",{staticClass:"dropdown-menu",slot:"dropdown-menu"},[n("li",{staticClass:"dropdown-item",on:{click:function(e){t.utmDisplayAll=!t.utmDisplayAll}}},[n("span",{staticClass:"glyphicon",class:t.utmDisplayAll?"glyphicon-ok":"glyphicon-unchecked"}),t._v(" 全部\n                  ")]),t._v(" "),n("li",{staticClass:"divider",attrs:{role:"presentation"}}),t._v(" "),t._l(t.utmMap,function(e,i){return n("li",{staticClass:"dropdown-item",on:{click:function(t){e.display=!e.display}}},[n("span",{staticClass:"glyphicon",class:e.display?"glyphicon-ok":"glyphicon-unchecked"}),t._v(" "+t._s(e.name)+"\n                  ")])})],2)])],1),t._v(" "),n("th",{attrs:{width:"100px"}},[t._v("版本")]),t._v(" "),n("th",{attrs:{width:"160px"}},[t._v("提交时间")])])]),t._v(" "),n("tbody",t._l(t.leads,function(e){return n("tr",[n("td",t._l(e.fields,function(e,i){return n("p",[t.hideFieldName?t._e():n("span",[t._v(t._s(i)+": ")]),t._v(t._s(e))])})),t._v(" "),n("td",t._l(e.utms,function(e,i){return t.utmMap[i].display?n("p",[t._v(t._s(t.utmMap[i].name)+": "+t._s(e))]):t._e()})),t._v(" "),n("td",[t._v(t._s(e.variation_name))]),t._v(" "),n("td",[t._v(t._s(e.created_at))])])}))]):t._e(),t._v(" "),n("el-pagination",{attrs:{layout:"total, sizes, prev, pager, next","page-sizes":[20,50,100],"page-size":t.pageSize,"current-page":t.currentPage,total:t.leadsCount},on:{"size-change":t.changeSize,"current-change":t.changeCurrentPage}})],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{attrs:{show:t.show},on:{close:t.editDone}},[n("div",{slot:"header"},[n("div",{staticClass:"btn btn-success",on:{click:t.editDone}},[t._v("完成")])]),t._v(" "),n("div",{slot:"body"},[n("div",{staticClass:"sidebar-block"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.fixed,expression:"element.fixed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.element.fixed)?t._i(t.element.fixed,null)>-1:t.element.fixed},on:{__c:function(e){var n=t.element.fixed,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.element.fixed=n.concat(a)):s>-1&&(t.element.fixed=n.slice(0,s).concat(n.slice(s+1)))}else t.element.fixed=o}}}),t._v(" 使用固定定位")]),t._v(" "),n("div",{staticClass:"fixed-hint"},[t._v("* 将该组件固定在浏览器窗口的指定位置上")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.element.fixed,expression:"element.fixed"}],staticClass:"sidebar-block"},[n("div",[t._v("浏览器窗口位置")]),t._v(" "),n("div",[n("div",[n("div",{staticClass:"input-group position-input"},[n("div",{staticClass:"input-group-addon"},[t._v("顶部")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fixedTop,expression:"fixedTop"}],staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"number",placeholder:"自动"},domProps:{value:t.fixedTop},on:{input:function(e){e.target.composing||(t.fixedTop=e.target.value)},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),n("div",[n("div",{staticClass:"input-group position-input"},[n("div",{staticClass:"input-group-addon"},[t._v("左边")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fixedLeft,expression:"fixedLeft"}],staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"number",placeholder:"自动"},domProps:{value:t.fixedLeft},on:{input:function(e){e.target.composing||(t.fixedLeft=e.target.value)},blur:function(e){t.$forceUpdate()}}})])]),t._v(" "),n("div",{staticClass:"input-group position-input"},[n("div",{staticClass:"input-group-addon"},[t._v("底部")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.fixedBottom,expression:"fixedBottom"}],staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"number",placeholder:"自动"},domProps:{value:t.fixedBottom},on:{input:function(e){e.target.composing||(t.fixedBottom=e.target.value)},blur:function(e){t.$forceUpdate()}}})])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.element.fixed,expression:"element.fixed"}],staticClass:"sidebar-block"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-addon"},[t._v("页面滚动超过")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.element.fixedScrollPx,expression:"element.fixedScrollPx"}],staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"number"},domProps:{value:t.element.fixedScrollPx},on:{input:function(e){e.target.composing||(t.element.fixedScrollPx=e.target.value)},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("div",{staticClass:"input-group-addon"},[t._v("像素时出现")])]),t._v(" "),n("div",{staticClass:"fixed-hint"},[t._v("* 设置为0则一直出现")])])])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{staticStyle:{"z-index":"1020"},attrs:{show:t.show},on:{close:function(e){t.setActiveSectionId(null)}}},[n("div",{slot:"header"},[n("div",{staticClass:"btn btn-success",on:{click:function(e){t.setActiveSectionId(null)}}},[t._v("完成")]),t._v(" "),t.page.is_compat?n("tooltip",{staticClass:"fr",attrs:{placement:"left",content:"同时修改桌面版和移动版"}},[n("h5",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.sync,expression:"sync"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.sync)?t._i(t.sync,null)>-1:t.sync},on:{__c:function(e){var n=t.sync,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.sync=n.concat(a)):s>-1&&(t.sync=n.slice(0,s).concat(n.slice(s+1)))}else t.sync=o}}}),t._v(" 同步修改")])])]):t._e()],1),t._v(" "),n("div",{slot:"body"},[n("border-editor",{model:{value:t.style.border,callback:function(e){t.style.border=e},expression:"style.border"}}),t._v(" "),n("background-editor",{model:{value:t.style.background,callback:function(e){t.style.background=e},expression:"style.background"}}),t._v(" "),n("div",{staticClass:"sidebar-block"},[n("div",[t.page.is_compat?n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.style.background.stretch,expression:"style.background.stretch"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.style.background.stretch)?t._i(t.style.background.stretch,null)>-1:t.style.background.stretch},on:{__c:function(e){var n=t.style.background.stretch,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.style.background.stretch=n.concat(a)):s>-1&&(t.style.background.stretch=n.slice(0,s).concat(n.slice(s+1)))}else t.style.background.stretch=o}}}),t._v(" 背景拉伸到边缘")]):t._e(),t._v("     \n        "),t.style.background.image?n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.style.background.fixed,expression:"style.background.fixed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.style.background.fixed)?t._i(t.style.background.fixed,null)>-1:t.style.background.fixed},on:{__c:function(e){var n=t.style.background.fixed,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.style.background.fixed=n.concat(a)):s>-1&&(t.style.background.fixed=n.slice(0,s).concat(n.slice(s+1)))}else t.style.background.fixed=o}}}),t._v(" 背景固定不滚动")]):t._e()])]),t._v(" "),t.style.background.image?n("div",{staticClass:"sidebar-block"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-addon"},[t._v("蒙版")]),t._v(" "),n("slider",{staticClass:"form-control",on:{change:t.changeMaskOpacity},model:{value:t.maskOpacity,callback:function(e){t.maskOpacity=e},expression:"maskOpacity"}}),t._v(" "),n("span",{staticClass:"input-group-btn"},[n("color-picker",{attrs:{position:"right"},model:{value:t.style.mask.color,callback:function(e){t.style.mask.color=e},expression:"style.mask.color"}},[n("div",{staticClass:"btn btn-defualt",style:{backgroundColor:t.getColor(t.style.mask.color)},attrs:{"data-toggle":"dropdown"}},[t._v("   ")])])],1)],1)]):t._e()],1)]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{show:t.show},on:{toggle:function(e){t.show=!t.show}}},[n("tooltip",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown",content:"字号",disabled:t.show}},[n("div",[t._v(t._s(t.fontSizeInt))])]),t._v(" "),n("div",{staticClass:"dropdown-menu",class:{"dropdown-menu-right":"right"===t.position},slot:"dropdown-menu"},[n("div",{staticClass:"font-size-wrapper"},t._l(t.fontSizes,function(e){return n("div",{staticClass:"font-size-item",class:{selected:t.fontSizeInt===e},on:{click:function(n){t.setSize(e)}}},[t._v(t._s(e))])}))])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"resize-handle",class:"resize-handle-"+t.side,style:t.style,on:{click:function(t){t.stopPropagation()},mousedown:function(e){e.stopPropagation(),t.dragStart(e)}}})},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{style:{width:t.workspace.width+"px",marginLeft:-t.workspace.width/2+"px"},attrs:{name:"fade",tag:"div",id:"fixed-container"}},t._l(t.fixedElements,function(e){return n("element-"+t.elements[e].type,{key:e,tag:"component",attrs:{element:t.elements[e],"section-id":"fixed","element-id":e}})}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sidebar-part",{attrs:{title:"投影",expand:t.expand}},[n("dropdown",{staticClass:"shadow-quick-selector",attrs:{show:t.showQuickSelector},on:{toggle:function(e){t.showQuickSelector=!t.showQuickSelector}},slot:"quick-selector"},[n("div",{staticClass:"shadow-wrapper",attrs:{"data-toggle":"dropdown"}},[n("div",{staticClass:"shadow-sample",style:{boxShadow:t.shadow.x+"px "+t.shadow.y+"px "+t.shadow.blur+"px "+t.shadow.spread+"px "+t.getColor(t.shadow.color)}})]),t._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right",slot:"dropdown-menu"},[t._l(t.presetShadows,function(e){return n("div",{staticClass:"preset-shadow",style:{boxShadow:e.x+"px "+e.y+"px "+e.blur+"px "+e.spread+"px "+t.getColor(t.shadow.color)},on:{click:function(n){t.pickPreset(e)}}})}),t._v(" "),n("div",{staticClass:"no-shadow",on:{click:function(e){t.pickPreset({x:0,y:0,blur:0,spread:0})}}},[t._v("无投影")])],2)]),t._v(" "),n("div",{slot:"content"},[n("color-picker",{model:{value:t.shadow.color,callback:function(e){t.shadow.color=e},expression:"shadow.color"}}),t._v(" "),n("div",{staticClass:"input-group position-slider"},[n("div",{staticClass:"input-group-addon"},[t._v(" 横向偏移 ")]),t._v(" "),n("slider",{staticClass:"form-control",attrs:{min:-30,max:30},model:{value:t.shadow.x,callback:function(e){t.shadow.x=e},expression:"shadow.x"}})],1),t._v(" "),n("div",{staticClass:"input-group position-slider"},[n("div",{staticClass:"input-group-addon"},[t._v(" 纵向偏移 ")]),t._v(" "),n("slider",{staticClass:"form-control",attrs:{min:-30,max:30},model:{value:t.shadow.y,callback:function(e){t.shadow.y=e},expression:"shadow.y"}})],1),t._v(" "),n("div",{staticClass:"input-group position-slider"},[n("div",{staticClass:"input-group-addon"},[t._v(" 模糊半径 ")]),t._v(" "),n("slider",{staticClass:"form-control",attrs:{max:50},model:{value:t.shadow.blur,callback:function(e){t.shadow.blur=e},expression:"shadow.blur"}})],1),t._v(" "),n("div",{staticClass:"input-group position-slider"},[n("div",{staticClass:"input-group-addon"},[t._v(" 扩展半径 ")]),t._v(" "),n("slider",{staticClass:"form-control",attrs:{min:-30,max:30},model:{value:t.shadow.spread,callback:function(e){t.shadow.spread=e},expression:"shadow.spread"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"field"},[n("input",{domProps:{value:t.shownValue},on:{input:t.onInput}}),t._v(" "),n("span",[t._v(t._s(t.label))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn-group",class:{open:t.show,dropup:"up"===t.dir}},[t._t("default"),t._v(" "),n("transition",{attrs:{name:"drop"+t.dir}},[t.show?t._t("dropdown-menu"):t._e()],2)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{attrs:{show:t.show},on:{close:function(e){t.$emit("edit-done")}}},[n("div",{slot:"header"},[n("div",{staticClass:"btn btn-success",on:{click:function(e){t.$emit("edit-done")}}},[t._v("完成")])]),t._v(" "),n("div",{slot:"body"},[n("form-button-editor",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("color-slider",{attrs:{max:1},on:{"on-change":t.onChange},model:{value:t.color.a,callback:function(e){t.color.a=e},expression:"color.a"}},[n("div",{staticClass:"color-alpha",style:{background:t.alphaBg}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{show:t.show},on:{toggle:function(e){t.show=!t.show}}},[n("tooltip",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown",content:"对齐",disabled:t.show}},[n("div",[n("span",{class:"glyphicon glyphicon-align-"+t.value}),t._v(" "),n("span",{staticClass:"caret"})])]),t._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-narrow",slot:"dropdown-menu"},t._l(t.textPositions,function(e){return n("li",{class:{selected:t.value==e},on:{click:function(n){t.setValue(e)}}},[n("span",{class:"glyphicon glyphicon-align-"+e})])}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal-mask",on:{mousedown:function(t){t.stopPropagation()}}},[n("div",{staticClass:"modal-wrapper",on:{click:function(e){e.stopPropagation(),t.$emit("close")}}},[n("div",{staticClass:"modal-container",style:{width:t.width,height:t.height},on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"modal-header"},[n("div",{staticClass:"close fr",attrs:{"aria-label":"Close"},on:{click:function(e){t.$emit("close")}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),t._t("header")],2),t._v(" "),n("div",{ref:"modalBody",staticClass:"modal-body container-fluid",on:{mouseenter:function(e){t.mouseOnBody=!0},mouseleave:function(e){t.mouseOnBody=!1}}},[t._t("body")],2),t._v(" "),n("div",{staticClass:"modal-footer"},[t._t("footer",[n("div",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){t.$emit("close")}}},[t._v("确定")])])],2)])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?t._e():n("preview-header",{attrs:{"current-variation":t.currentVariation,variations:t.variations}},[t.page.is_compat?n("version-switcher",{attrs:{version:t.version},on:{change:t.switchVersion},slot:"versionSwitcher"}):t._e()],1),t._v(" "),t.loading?t._e():n("previewer",{attrs:{version:t.version,url:t.url}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{staticClass:"page"})],1),t._v(" "),n("message-box"),t._v(" "),n("spinner")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{float:"right",margin:"10px 0"}},[t._l(t.members,function(e){return n("member",{key:t.members.id,staticClass:"avatar",attrs:{member:e}})}),t._v(" "),t._l(t.invited,function(t,e){return n("member",{key:e,staticClass:"avatar invited",attrs:{member:{id:e,email:t,name:t}}})}),t._v(" "),t.isAdmin?n("tooltip",{staticClass:"avatar invite-btn",attrs:{content:"邀请新成员"},nativeOn:{click:function(e){t.invite(e)}}},[n("div",[t._v("+")])]):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group shadow"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.link.url,expression:"link.url"}],staticClass:"form-control input-text-shadow link-input",attrs:{type:"text",placeholder:"输入您的链接"},domProps:{value:t.link.url},on:{input:function(e){e.target.composing||(t.link.url=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-addon link-input-option"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.link.isNewTab,expression:"link.isNewTab"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.link.isNewTab)?t._i(t.link.isNewTab,null)>-1:t.link.isNewTab},on:{__c:function(e){var n=t.link.isNewTab,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.link.isNewTab=n.concat(a)):s>-1&&(t.link.isNewTab=n.slice(0,s).concat(n.slice(s+1)))}else t.link.isNewTab=o}}}),t._v(" 新窗口")])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.linkObj.url,expression:"linkObj.url"}],staticClass:"input-group-addon link-input-option btn btn-danger",on:{click:t.removeLink}},[t._v("取消链接")]),t._v(" "),n("div",{staticClass:"input-group-btn"},[n("div",{staticClass:"btn btn-success",attrs:{title:"完成"},on:{click:t.editDone}},[t._v("完成")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"previewer"},["pc"===t.version?n("iframe",{staticClass:"pc-iframe",attrs:{src:t.url,frameborder:"0"}}):t._e(),t._v(" "),"mobile"===t.version?n("div",{staticClass:"mobile-preview"},[n("div",{staticClass:"marvel-device iphone6 silver"},[n("div",{staticClass:"top-bar"}),t._v(" "),n("div",{staticClass:"sleep"}),t._v(" "),n("div",{staticClass:"volume"}),t._v(" "),n("div",{staticClass:"camera"}),t._v(" "),n("div",{staticClass:"sensor"}),t._v(" "),n("div",{staticClass:"speaker"}),t._v(" "),n("div",{staticClass:"screen"}),t._v(" "),n("div",{staticClass:"home"}),t._v(" "),n("div",{staticClass:"bottom-bar"}),t._v(" "),n("iframe",{staticClass:"mobile-iframe",attrs:{src:t.url,frameborder:"0"}})],1)]):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar-part container-fluid"},[n("div",{staticClass:"part-header"},[n("div",{staticClass:"part-title",on:{click:function(e){t.expanded=!t.expanded}}},[n("span",{staticClass:"caret",class:{rotate:!t.expanded}}),t._v(" "+t._s(t.title)+"\n    ")]),t._v(" "),t.quickSelector?n("div",{staticClass:"quick-selector"},[t._t("quick-selector"),t._v(" "),t._m(0)],2):t._e(),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),t.expanded?t._t("content"):t._e()],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown-hint"},[n("span",{staticClass:"glyphicon glyphicon-chevron-down"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tooltip",{attrs:{"data-toggle":"dropdown",manual:!0,placement:"bottom"},nativeOn:{click:function(e){t.toggle(e)}},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",[t._v("\n    "+t._s(t.memberName)+"\n  ")]),t._v(" "),n("div",{
ref:"tooltip",staticClass:"tooltip-content",slot:"content"},["invited"===t.memberRole?n("p",[t._v("\n      "+t._s(t.member.email)),n("br"),t._v("\n      已邀请"),n("br")]):n("p",[t._v("\n      "+t._s(t.member.name)),n("br"),t._v("\n      "+t._s(t.member.email)),n("br"),t._v("\n      "+t._s("admin"===t.memberRole?"项目管理员":"项目成员")),n("br")]),t._v(" "),t.isAdmin&&"admin"!==t.memberRole?n("div",{staticClass:"btn btn-xs btn-danger",on:{click:t.remove}},[t._v("移除")]):t._e()])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content-header"},[n("h4",[t._v(t._s(t.title)+" - "+t._s(t.page.name))]),t._v(" "),n("ul",{staticClass:"nav nav-pills",staticStyle:{float:"right"}},[n("router-link",{attrs:{tag:"li","active-class":"active",to:{name:"stats",params:{pageId:t.$route.params.pageId,module:"overview"},query:t.$route.query}}},[n("a",[t._v("数据概览")])]),t._v(" "),n("router-link",{attrs:{tag:"li","active-class":"active",to:{name:"stats",params:{pageId:t.$route.params.pageId,module:"conversion"},query:t.$route.query}}},[n("a",[t._v("转化详情")])]),t._v(" "),n("router-link",{attrs:{tag:"li","active-class":"active",to:{name:"stats",params:{pageId:t.$route.params.pageId,module:"traffic"},query:t.$route.query}}},[n("a",[t._v("流量来源")])])],1)]),t._v(" "),n("div",{staticClass:"data-filter"},[t.page.is_compat?n("version-switcher",{attrs:{"show-all":!0,version:t.$route.query.ver},on:{change:t.switchVersion}}):t._e(),t._v(" "),n("dropdown",{attrs:{show:t.showVariations},on:{toggle:function(e){t.showVariations=!t.showVariations}}},[n("div",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[t._v("\n        "+t._s(t.variationName)+"\n          "),n("span",{staticClass:"glyphicon",class:t.showVariations?"glyphicon-menu-up":"glyphicon-menu-down"})]),t._v(" "),n("ul",{staticClass:"dropdown-menu",slot:"dropdown-menu"},[n("li",{class:{active:!t.$route.query.vid}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.switchVariation(null)}}},[t._v("全部版本")])]),t._v(" "),t._l(t.page.variations,function(e){return n("li",{class:{active:t.$route.query.vid===e.id}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){t.switchVariation(e)}}},[t._v(t._s(e.name))])])})],2)]),t._v(" "),n("date-range-picker",{model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"color-slider",on:{mousedown:t.onMouseDown}},[t._t("default"),t._v(" "),n("div",{staticClass:"pointer",style:{left:t.pointerLeft}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{attrs:{show:t.show},on:{close:function(e){t.$emit("edit-done")}}},[n("div",{slot:"header"},[n("div",{staticClass:"btn btn-success",on:{click:function(e){t.$emit("edit-done")}}},[t._v("完成")])]),t._v(" "),n("div",{slot:"body"},["square"===t.shape.subType||"circle"===t.shape.subType?n("background-editor",{model:{value:t.shape.style.background,callback:function(e){t.shape.style.background=e},expression:"shape.style.background"}}):t._e(),t._v(" "),n("border-editor",{model:{value:t.shape.style.border,callback:function(e){t.shape.style.border=e},expression:"shape.style.border"}}),t._v(" "),"square"===t.shape.subType||"circle"===t.shape.subType?n("shadow-editor",{model:{value:t.shape.style.shadow,callback:function(e){t.shape.style.shadow=e},expression:"shape.style.shadow"}}):t._e(),t._v(" "),"square"===t.shape.subType||"circle"===t.shape.subType?n("div",{staticClass:"sidebar-block"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-addon"},[t._v(" 透明 ")]),t._v(" "),n("slider",{staticClass:"form-control",model:{value:t.shape.style.opacity,callback:function(e){t.shape.style.opacity=e},expression:"shape.style.opacity"}})],1)]):t._e(),t._v(" "),"square"===t.shape.subType?n("div",{staticClass:"sidebar-block"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-addon"},[t._v(" 圆角 ")]),t._v(" "),n("slider",{staticClass:"form-control",model:{value:t.borderRadius,callback:function(e){t.borderRadius=e},expression:"borderRadius"}})],1)]):t._e()],1)]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,resizable:t.resizable,resize:t.resize},on:{"change-button-group":t.changeButtonGroup,resizing:t.resizing,"drag-start":t.editDone}},[n("div",{staticClass:"element-video",on:{dblclick:t.edit},slot:"content"},["empty"===t.videoType?n("div",{staticClass:"element-video-placeholder"},[n("div",[n("i",{staticClass:"glyphicon glyphicon-film"})]),t._v(" "),t.urlError?n("div",[t._v("地址解析错误")]):n("div",[t._v("添加视频")])]):t._e(),t._v(" "),"embed"===t.videoType?n("div",{staticClass:"element-video-embed"},[n("embed",{style:t.embedStyle,attrs:{src:t.videoInfo.src}}),n("embed")]):t._e(),t._v(" "),"raw"===t.videoType?n("div",{staticClass:"element-video-raw"},[n("video",{ref:"rawVideo",attrs:{controls:"",width:"100%",height:"auto"}},[n("source",{attrs:{src:t.localElement.content.source}})])]):t._e(),t._v(" "),"empty"!==t.videoType?n("div",{staticClass:"elmement-video-mask"}):t._e()]),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"编辑"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("编辑")])]),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup,expression:"buttonGroup === 'edit'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[n("div",{staticClass:"btn btn-success"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])]),t._v(" "),n("video-editor",{attrs:{show:t.editing},on:{"edit-done":t.editDone,"edit-change":t.editChange},slot:"sidebar",model:{value:t.localElement.content,callback:function(e){t.localElement.content=e},expression:"localElement.content"}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("stats-nav",{attrs:{title:"转化详情"}}),t._v(" "),n("div",{staticClass:"content-body"},[n("h4",[t._v("转化事件")]),t._v(" "),t.goalData&&t.goalData.length>0?n("table",{staticClass:"report table table-bordered table-hover"},[t._m(0),t._v(" "),n("tbody",t._l(t.goalData,function(e){return n("tr",[n("td",[t._v(t._s(e.goal_type))]),t._v(" "),n("td",[t._v(t._s(e.goal_desc))]),t._v(" "),n("td",[t._v(t._s(e.goals))]),t._v(" "),n("td",[t._v(t._s(t._f("percentage")(e.goals_percent)))])])}))]):n("p",{staticClass:"text-warning"},[t._v("报告期内没有转化数据。")]),t._v(" "),t.notGoalData&&t.notGoalData.length>0?[t._m(1),t._v(" "),n("table",{staticClass:"report table table-bordered table-hover"},[t._m(2),t._v(" "),n("tbody",t._l(t.notGoalData,function(e){return n("tr",[n("td",[t._v(t._s(e.goal_type))]),t._v(" "),n("td",[t._v(t._s(e.goal_desc))]),t._v(" "),n("td",[t._v(t._s(e.goals))]),t._v(" "),n("td",[t._v(t._s(t._f("percentage")(e.goals_percent)))])])}))])]:t._e()],2)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{width:"120px"}},[t._v("转化类型")]),t._v(" "),n("th",[t._v("转化目标")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("转化次数")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("转化率")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",[t._v("非转化事件"),n("span",{staticClass:"title-remark"},[t._v("(未被定义为转化的用户交互行为)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{width:"120px"}},[t._v("事件类型")]),t._v(" "),n("th",[t._v("事件描述")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("发生次数")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("发生率")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"section",style:t.mainStyle,on:{mouseover:function(e){t.setCurrentSectionId(t.sectionId)}}},[t.localSection.style[t.workspace.version].background.image?n("div",{staticClass:"section-mask",style:t.maskStyle}):t._e(),t._v(" "),n("div",{staticClass:"editable-area",style:{width:t.workspace.width+2+"px"}},[n("transition-group",{attrs:{name:"fade",tag:"div"}},t._l(t.section.elements[t.workspace.version],function(e){return t.elements[e].fixed?t._e():n("element-"+t.elements[e].type,{key:e,tag:"component",attrs:{element:t.elements[e],"section-id":t.sectionId,"element-id":e}})})),t._v(" "),n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showButton,expression:"showButton"}],staticClass:"btn-group-vertical page-section-operation",style:{left:t.workspace.width+5+"px"},on:{mousedown:function(t){t.stopPropagation()}}},[t.editing?[n("div",{staticClass:"btn btn-success",attrs:{title:"完成"}},[n("span",{staticClass:"glyphicon glyphicon-ok"})])]:t._e(),t._v(" "),t.editing?t._e():[n("div",{staticClass:"btn btn-primary",attrs:{title:"修改"},on:{click:function(e){e.stopPropagation(),t.setActiveSectionId(t.sectionId)}}},[n("span",{staticClass:"glyphicon glyphicon-pencil"})]),t._v(" "),n("div",{staticClass:"btn btn-default",attrs:{title:"上移"},on:{click:function(e){t.moveSection(["up",t.sectionId])}}},[n("span",{staticClass:"glyphicon glyphicon-chevron-up"})]),t._v(" "),n("div",{staticClass:"btn btn-default",attrs:{title:"下移"},on:{click:function(e){t.moveSection(["down",t.sectionId])}}},[n("span",{staticClass:"glyphicon glyphicon-chevron-down"})]),t._v(" "),n("div",{staticClass:"btn btn-default",attrs:{title:"删除"},on:{click:function(e){t.removeSection(t.sectionId)}}},[n("span",{staticClass:"glyphicon glyphicon-trash"})])]],2)])],1),t._v(" "),n("div",{ref:"ruler",staticClass:"section-line"}),t._v(" "),n("resizer",{attrs:{size:t.height,side:"bottom","min-size":60},on:{"resize-start":t.resizeStart,"resize-end":t.resizeHeight,resizing:t.resizeHeight}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{style:t.elementCommonStyle,attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,draggable:t.draggable,resize:t.resize,resizable:t.resizable,dimensionContraint:t.constraints,"fixed-editable":!0},on:{"change-button-group":t.changeButtonGroup,"change-draggable":t.changeDraggable,"drag-start":t.editDone}},[n("div",{staticClass:"element-shape",style:[t.elementBackground,{border:t.isLine?"":t.elementBorder,boxShadow:t.isLine?"":t.elementShadow,borderRadius:t.localElement.style.borderRadius,opacity:t.localElement.style.opacity/100}],on:{dblclick:t.edit},slot:"content"},[t.isLine?n("div",{style:t.contentStyle}):t._e()]),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"编辑"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("编辑")])]),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup,expression:"buttonGroup === 'edit'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[n("div",{staticClass:"btn btn-success"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])]),t._v(" "),n("shape-editor",{attrs:{show:t.editing},on:{"edit-done":t.editDone},slot:"sidebar",model:{value:t.localElement,callback:function(e){t.localElement=e},expression:"localElement"}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:t.wrapperStyle,attrs:{id:"multi-selection-wrapper"},on:{mousedown:function(t){t.preventDefault()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"box",staticClass:"select-disable",style:t.innerStyle,attrs:{id:"multiple-selection"},on:{mousedown:function(e){e.preventDefault(),e.stopPropagation(),t.onDragBegin(e)}}},[n("div",{staticStyle:{position:"relative"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"el-toolbar",class:t.toolbarPosition,on:{mousedown:function(t){t.stopPropagation()}}},[n("div",{staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[t._t("main-buttons-extend"),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"移到顶层"},nativeOn:{click:function(e){t.moveTop()}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-circle-arrow-up"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"移到底层"},nativeOn:{click:function(e){t.moveBottom()}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-circle-arrow-down"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"左对齐"},nativeOn:{click:function(e){t.alignLeft()}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-align-left"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"居中对齐"},nativeOn:{click:function(e){t.alignCenter()}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-align-center"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"右对齐"},nativeOn:{click:function(e){t.alignRight()}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-align-right"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"删除"},nativeOn:{click:function(e){t.remove()}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-trash"})])])],2)])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{show:t.show},on:{toggle:function(e){t.show=!t.show}}},[t._t("default",[n("div",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[t._v("配色 "),n("span",{staticClass:"glyphicon glyphicon-th-large"})])]),t._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right",slot:"dropdown-menu"},[n("div",{staticClass:"color-schemes-content"},[t._l(t.colorTypes,function(e,i){return n("div",{staticClass:"color-type",class:{selected:t.mainColor===i},on:{mouseover:function(e){t.mainColor=i}}},[n("div",{staticClass:"color-selector"},[n("div",{staticClass:"first-half",style:{backgroundColor:e.colorGroup[0]}}),t._v(" "),n("div",{staticClass:"second-half",style:{backgroundColor:e.colorGroup[1]}})])])}),t._v(" "),n("div",{staticClass:"color-schemes-wrapper"},t._l(t.colorTypes[t.mainColor].colorSchemes,function(e){return n("div",{on:{click:function(n){t.$emit("update-colors",e)}}},[n("ul",{staticClass:"list-inline color-schemes-group"},t._l(e,function(t){return n("li",{style:{background:t},attrs:{title:t}})}))])})),t._v(" "),t.colorSet?n("div",[n("div",{staticStyle:{"text-align":"center"}},[t._v("当前选择")]),t._v(" "),n("ul",{staticClass:"list-inline color-schemes-group"},t._l(t.colorSet,function(t){return n("li",{style:{background:t},attrs:{title:t}})}))]):t._e()],2)])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{show:t.show,width:"800px",height:"500px"},on:{close:function(e){t.$emit("close")}}},[n("div",{slot:"header"},[n("ul",{staticClass:"nav nav-pills"},[n("li",{class:{active:"seo"===t.currentTab}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.currentTab="seo"}}},[t._v("页面设置")])]),t._v(" "),n("li",{class:{active:"goal"===t.currentTab}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.currentTab="goal"}}},[t._v("转化目标")])]),t._v(" "),n("li",{class:{active:"code"===t.currentTab}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.currentTab="code"}}},[t._v("Javascript")])])])]),t._v(" "),n("div",{staticClass:"settings-body",slot:"body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"seo"===t.currentTab,expression:"currentTab === 'seo'"}]},[n("form",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"col-sm-2 control-label"},[t._v("网页标题")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.seo.pageTitle,expression:"settings.seo.pageTitle"}],staticClass:"form-control",attrs:{type:"text",placeholder:"网页标题"},domProps:{value:t.settings.seo.pageTitle},on:{input:function(e){e.target.composing||(t.settings.seo.pageTitle=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"col-sm-2 control-label"},[t._v("网页关键词")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.seo.keywords,expression:"settings.seo.keywords"}],staticClass:"form-control",attrs:{type:"text",placeholder:"多个关键词用英文逗号隔开"},domProps:{value:t.settings.seo.keywords},on:{input:function(e){e.target.composing||(t.settings.seo.keywords=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"col-sm-2 control-label"},[t._v("页面描述")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.seo.description,expression:"settings.seo.description"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.settings.seo.description},on:{input:function(e){e.target.composing||(t.settings.seo.description=e.target.value)}}})])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"goal"===t.currentTab,expression:"currentTab === 'goal'"}]},[n("form",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},t._l(t.goals,function(e,i){return n("div",{staticClass:"col-sm-offset-1 col-sm-10"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.goals,expression:"settings.goals"}],attrs:{type:"checkbox",id:"goal-"+i},domProps:{value:e,checked:Array.isArray(t.settings.goals)?t._i(t.settings.goals,e)>-1:t.settings.goals},on:{__c:function(n){var i=t.settings.goals,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s=e,r=t._i(i,s);a?r<0&&(t.settings.goals=i.concat(s)):r>-1&&(t.settings.goals=i.slice(0,r).concat(i.slice(r+1)))}else t.settings.goals=a}}}),t._v(" "),"form"===e?n("label",{attrs:{for:"goal-"+i}},[t._v("表单提交成功")]):t._e(),t._v(" "),"form"!==e?n("label",{attrs:{for:"goal-"+i}},[t._v("链接："+t._s(e))]):t._e()])}))])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"code"===t.currentTab,expression:"currentTab === 'code'"}]},[n("form",{staticClass:"form-horizontal"},[n("div",{staticClass:"form-group"},[n("label",{staticClass:"col-sm-2 control-label"},[t._v("<header>")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.code.header,expression:"settings.code.header"}],staticClass:"form-control",attrs:{rows:"4"},domProps:{value:t.settings.code.header},on:{input:function(e){e.target.composing||(t.settings.code.header=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"col-sm-2 control-label"},[t._v("<body>内")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.code.bodyIn,expression:"settings.code.bodyIn"}],staticClass:"form-control",attrs:{rows:"4"},domProps:{value:t.settings.code.bodyIn},on:{input:function(e){e.target.composing||(t.settings.code.bodyIn=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{staticClass:"col-sm-2 control-label"},[t._v("<body>外")]),t._v(" "),n("div",{staticClass:"col-sm-10"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.settings.code.bodyOut,expression:"settings.code.bodyOut"}],staticClass:"form-control",attrs:{rows:"4"},domProps:{value:t.settings.code.bodyOut},on:{input:function(e){e.target.composing||(t.settings.code.bodyOut=e.target.value)}}})])])])])]),t._v(" "),n("div",{slot:"footer"},[n("button",{staticClass:"btn btn-success btn-sm",on:{click:t.save}},[t._v("完成")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"editor-header"},[n("div",{staticClass:"home"},[n("router-link",{staticClass:"home-link",attrs:{to:"/"}},[n("span",{staticClass:"glyphicon glyphicon-home"})])],1),t._v(" "),n("ab-test",{on:{absplit:function(e){t.showSplit=!0}}}),t._v(" "),t.page.is_compat?n("version-switcher",{attrs:{version:t.workspace.version},on:{change:t.switchVersion}}):t._e(),t._v(" "),n("div",{staticClass:"btn-toolbar fr"},[n("div",{staticClass:"btn-group"},[n("tooltip",{staticClass:"btn btn-default",class:{disabled:!t.undoButton},attrs:{content:"撤销"},nativeOn:{click:function(e){t.undo(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-share-alt flipx"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",class:{disabled:!t.redoButton},attrs:{content:"重做"},nativeOn:{click:function(e){t.redo(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-share-alt"})])])],1),t._v(" "),n("color-schemes",{attrs:{"color-set":t.colorSet},on:{"update-colors":t.setColorSet}}),t._v(" "),n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn-default",on:{click:function(e){t.showSettings=!0}}},[t._v("设置 "),n("span",{staticClass:"glyphicon glyphicon-cog"})]),t._v(" "),n("div",{staticClass:"btn btn-default",class:{disabled:t.saveStatus},on:{click:function(e){t.saveVariation()}}},[t._v("保存 "),n("span",{staticClass:"glyphicon glyphicon-floppy-disk"})]),t._v(" "),n("router-link",{staticClass:"btn btn-default",attrs:{to:"/preview/"+t.page.id+"/"+t.workspace.activeVariation.id}},[t._v("预览 "),n("span",{staticClass:"glyphicon glyphicon-eye-open"})]),t._v(" "),n("div",{staticClass:"btn btn-primary",on:{click:t.publish}},[t._v("发布 "),n("span",{staticClass:"glyphicon glyphicon-send"})])],1)],1),t._v(" "),t.showSettings?n("editor-settings",{attrs:{show:t.showSettings},on:{close:function(e){t.showSettings=!1}}}):t._e(),t._v(" "),t.showSplit?n("ab-split",{attrs:{"page-id":t.page.id,variations:t.page.variations,show:t.showSplit},on:{"update-split":t.updateTraficSplit,close:function(e){t.showSplit=!1}}}):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toolbar shadow",style:{width:t.showAdvanced?"166px":"83px"}},[n("div",{staticClass:"toolbar-header"},[t._v("组件")]),t._v(" "),n("div",{staticClass:"toolbar-body"},[n("div",{staticClass:"tool-list"},[n("div",{staticClass:"basic-tools"},t._l(t.basicTools,function(e){return n("div",{staticClass:"tool shadow",attrs:{"data-action":t.getAction(e.action)},on:{click:function(n){n.stopPropagation(),t.clickTool(e)},mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragMenu(e)}}},[n("span",{staticClass:"glyphicon",class:"glyphicon-"+e.style}),t._v(" "),n("div",{staticClass:"tool-name"},[t._v(t._s(e.name))])])})),t._v(" "),n("div",{staticClass:"advanced-tools"},t._l(t.advancedTools,function(e){return n("div",{staticClass:"tool shadow",attrs:{"data-action":t.getAction(e.action)},on:{click:function(n){n.stopPropagation(),t.clickTool(e)},mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragMenu(e)}}},[n("span",{staticClass:"glyphicon",class:"glyphicon-"+e.style}),t._v(" "),n("div",{staticClass:"tool-name"},[t._v(t._s(e.name))])])}))]),t._v(" "),n("div",{staticClass:"show-advanced-btn",on:{click:function(e){t.showAdvanced=!t.showAdvanced}}},[t.showAdvanced?n("span",{staticClass:"glyphicon glyphicon-minus"}):n("span",{staticClass:"glyphicon glyphicon-th"})])]),t._v(" "),t.showShapes?n("div",{staticClass:"shape-picker"},[n("div",{staticClass:"shape-item",attrs:{"data-action":"square"},on:{click:function(e){e.stopPropagation(),t.clickTool({action:"square"})},mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragMenu(e)}}},[n("div",{staticClass:"shape shape-box"}),t._v(" "),n("div",{staticClass:"shape-name"},[t._v("方形")])]),t._v(" "),n("div",{staticClass:"shape-item",attrs:{"data-action":"circle"},on:{click:function(e){e.stopPropagation(),t.clickTool({action:"circle"})},mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragMenu(e)}}},[n("div",{staticClass:"shape shape-circle"}),t._v(" "),n("div",{staticClass:"shape-name"},[t._v("圆形")])]),t._v(" "),n("div",{staticClass:"shape-item",attrs:{"data-action":"line"},on:{click:function(e){e.stopPropagation(),t.clickTool({action:"line"})},mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragMenu(e)}}},[t._m(0),t._v(" "),n("div",{staticClass:"shape-name"},[t._v("横线")])]),t._v(" "),n("div",{staticClass:"shape-item",attrs:{"data-action":"vline"},on:{click:function(e){e.stopPropagation(),t.clickTool({action:"vline"})},mousedown:function(e){e.stopPropagation(),e.preventDefault(),t.dragMenu(e)}}},[t._m(1),t._v(" "),n("div",{staticClass:"shape-name"},[t._v("竖线")])])]):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shape"},[n("div",{staticClass:"shape-line"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shape"},[n("div",{staticClass:"shape-vline"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"sidebar-block color-groups"},[n("div",{staticClass:"float-color-picker"},[n("div",{staticClass:"float-color-block-text"},[t._v("背景")]),t._v(" "),n("color-picker",{model:{value:t.formProps.fieldColor,callback:function(e){t.formProps.fieldColor=e},expression:"formProps.fieldColor"}},[n("div",{staticClass:"float-color-block",style:{background:t.getColor(t.formProps.fieldColor)},attrs:{"data-toggle":"dropdown"}})])],1),t._v(" "),n("div",{staticClass:"float-color-picker"},[n("div",{staticClass:"float-color-block-text"},[t._v("文字")]),t._v(" "),n("color-picker",{model:{value:t.formProps.inputColor,callback:function(e){t.formProps.inputColor=e},expression:"formProps.inputColor"}},[n("div",{staticClass:"float-color-block",style:{background:t.getColor(t.formProps.inputColor)},attrs:{"data-toggle":"dropdown"}})])],1),t._v(" "),n("div",{staticClass:"float-color-picker"},[n("div",{staticClass:"float-color-block-text"},[t._v("标签")]),t._v(" "),n("color-picker",{attrs:{position:"right"},model:{value:t.formProps.labelColor,callback:function(e){t.formProps.labelColor=e},expression:"formProps.labelColor"}},[n("div",{staticClass:"float-color-block",style:{background:t.getColor(t.formProps.labelColor)},attrs:{"data-toggle":"dropdown"}})])],1),t._v(" "),n("div",{staticClass:"float-color-picker"},[n("div",{staticClass:"float-color-block-text"},[t._v("边框")]),t._v(" "),n("color-picker",{attrs:{position:"right"},model:{value:t.formProps.borderColor,callback:function(e){t.formProps.borderColor=e},expression:"formProps.borderColor"}},[n("div",{staticClass:"float-color-block",style:{background:t.getColor(t.formProps.borderColor)},attrs:{"data-toggle":"dropdown"}})])],1),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"sidebar-block",staticStyle:{"text-align":"center"}},[n("checkbox-button",{model:{value:t.formProps.labelInside,callback:function(e){t.formProps.labelInside=e},expression:"formProps.labelInside"}},[t._v("标签内置")]),t._v("   \n    "),n("checkbox-button",{attrs:{values:["","inset 0 1px 6px #ccc"]},model:{value:t.formProps.boxShadow,callback:function(e){t.formProps.boxShadow=e},expression:"formProps.boxShadow"}},[t._v("内阴影")]),t._v("   \n  ")],1),t._v(" "),n("div",{staticClass:"sidebar-block"},[n("p",[t._v("跳转至：")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.formProps.redirect,expression:"formProps.redirect"}],staticClass:"form-control input-text-shadow shadow",attrs:{type:"text",placeholder:"表单提交成功后的跳转URL"},domProps:{value:t.formProps.redirect},on:{input:function(e){e.target.composing||(t.formProps.redirect=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"sidebar-block"},[n("p",[t._v("感谢语：")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.formProps.thankyou,expression:"formProps.thankyou"}],staticClass:"form-control shadow",attrs:{rows:"3"},domProps:{value:t.formProps.thankyou},on:{input:function(e){e.target.composing||(t.formProps.thankyou=e.target.value)}}})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,draggable:t.draggable,resize:t.resize,resizable:t.resizable,fixedEditable:!0},on:{"change-button-group":t.changeButtonGroup,"change-draggable":t.changeDraggable}},[n("div",{ref:"content",staticClass:"element-text-content",style:t.merge({},t.localElement.fontStyle,{cursor:t.editing?"text":"pointer",color:t.getColor(t.localElement.fontStyle.color)}),attrs:{contenteditable:t.editing,spellcheck:"false"},domProps:{innerHTML:t._s(t.localElement.content)},on:{dblclick:t.edit,click:function(t){t.preventDefault()},dragstart:t.contentDragStart,mouseup:t.contentMouseUp,paste:t.onPaste},slot:"content"}),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"编辑"},on:{click:t.edit}},[t._v("编辑")])]),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup&&!t.addingLink,expression:"buttonGroup === 'edit' && !addingLink"}],staticClass:"btn-group el-btn-group",on:{mousedown:function(t){t.preventDefault()}}},[n("color-picker",{on:{inputFocus:t.colorInputFocus,input:t.colorInput},model:{value:t.localColor,callback:function(e){t.localColor=e},expression:"localColor"}},[n("tooltip",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown",content:"颜色"}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-text-color",style:{color:t.getColor(t.localColor)}})])])],1),t._v(" "),n("font-size",{model:{value:t.localElement.fontStyle.fontSize,callback:function(e){t.localElement.fontStyle.fontSize=e},expression:"localElement.fontStyle.fontSize"}}),t._v(" "),n("line-height",{model:{value:t.localElement.fontStyle.lineHeight,callback:function(e){t.localElement.fontStyle.lineHeight=e},expression:"localElement.fontStyle.lineHeight"}}),t._v(" "),n("text-align",{model:{value:t.localElement.fontStyle.textAlign,callback:function(e){t.localElement.fontStyle.textAlign=e},expression:"localElement.fontStyle.textAlign"}}),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"加粗"},nativeOn:{click:function(e){t.styleText("bold")}}},[n("div",[t._v("B")])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"斜体"},nativeOn:{click:function(e){t.styleText("italic")}}},[n("i",[t._v("I")])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"下划线"},nativeOn:{click:function(e){t.styleText("underline")}}},[n("u",[t._v("U")])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",class:{unlink:t.linkSelected},attrs:{content:"链接"},nativeOn:{click:function(e){t.link(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-link",class:{unlink:t.linkSelected}})])]),t._v(" "),n("div",{staticClass:"btn btn-success",attrs:{title:"完成编辑"},on:{click:t.editDone}},[t._v("完成")])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup&&t.addingLink,expression:"buttonGroup === 'edit' && addingLink"}],staticClass:"el-btn-group form-inline form-createlinks",on:{mousedown:function(t){t.preventDefault()}}},[n("div",{staticClass:"btn-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.linkAddress,expression:"linkAddress"}],ref:"linkAddressInput",staticClass:"form-control",attrs:{type:"text",placeholder:"所要添加的链接地址"},domProps:{value:t.linkAddress},on:{mousedown:function(t){t.stopPropagation()},input:function(e){e.target.composing||(t.linkAddress=e.target.value);
}}})]),t._v(" "),n("button",{staticClass:"btn btn-default",attrs:{type:"submit"},on:{click:function(e){e.stopPropagation(),t.cancelLink(e)}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(e){e.stopPropagation(),t.addLink(e)}}},[t._v("添加")])])])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content-header"},[n("h4",[n("project-list")],1),t._v(" "),n("project-members")],1),t._v(" "),n("workspace")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("stats-nav",{attrs:{title:"流量来源"}}),t._v(" "),n("div",{staticClass:"content-body"},[n("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},t._l(t.tabs,function(e,i){return n("li",{class:{active:i===t.currentTab}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.currentTab=i}}},[t._v(t._s(e))])])})),t._v(" "),n("div",{staticClass:"traffic-content"},[n("table",{staticClass:"report table table-bordered table-hover"},[n("thead",[n("tr",[n("th",[t._v(t._s(t.tabs[t.currentTab]))]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("转化率")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("转化次数")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("访客数")])])]),t._v(" "),n("tbody",t._l(t.report[t.currentTab],function(e){return n("tr",[n("td",[t._v(t._s(e.dimension_value||"未设置"))]),t._v(" "),n("td",[t._v(t._s(t._f("percentage")(e.conversion_percent)))]),t._v(" "),n("td",[t._v(t._s(e.conversions))]),t._v(" "),n("td",[t._v(t._s(e.visitors))])])}))])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image-picker",on:{click:t.selectImage}},[t.image?n("div",{staticClass:"image-wrapper"},[n("img",{staticClass:"image-thumbs",attrs:{src:t.image,alt:""}}),t._v(" "),n("div",{staticClass:"image-action"},[n("div",{on:{click:function(e){e.stopPropagation(),t.selectImage(e)}}},[t._v("更换")]),t._v(" "),n("div",{on:{click:function(e){e.stopPropagation(),t.deleteImage(e)}}},[t._v("删除")])])]):n("span",[t._v("点选图片")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("app-header"),t._v(" "),n("div",{staticClass:"main-wrapper"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{staticClass:"content"})],1)],1),t._v(" "),n("app-footer")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,resizable:t.resizable,resize:t.resize},on:{"change-button-group":t.changeButtonGroup,"drag-start":t.editDone}},[n("div",{staticClass:"element-map",on:{dblclick:function(e){e.stopPropagation(),t.edit(e)}},slot:"content"},[n("div",{ref:"mapContent",staticClass:"element-map-content"}),t._v(" "),n("div",{staticClass:"map-mask"})]),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"定位"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("定位")])]),t._v(" "),n("template",{slot:"button-groups"},["address"===t.buttonGroup?n("div",[n("div",{staticClass:"input-group search-form"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],ref:"input",staticClass:"form-control",attrs:{type:"text",placeholder:"输入地名，回车搜索"},domProps:{value:t.input},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.search(e):null},input:function(e){e.target.composing||(t.input=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-btn"},[n("div",{staticClass:"btn btn-primary",on:{click:function(e){e.stopPropagation(),t.search(e)}}},[t._v("搜索")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"search-result"},[n("ul",t._l(t.posList,function(e,i){return n("li",{on:{click:function(e){t.selectAddress(i)}}},[t._v(t._s(e.name))])}))])]):t._e()])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{on:{mousedown:t.clearActiveElement}},[n("editor-header"),t._v(" "),n("div",{attrs:{id:"main-wrapper"}},[n("editor-toolbar",{attrs:{page:t.page}}),t._v(" "),n("editor-workspace")],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("auth",[n("span",{slot:"title"},[t._v("修改密码")]),t._v(" "),n("div",{slot:"content"},[t.success?t._e():n("form",{attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.formSubmit(e)}}},[n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control input-lg",attrs:{type:"password",name:"new_password",placeholder:"新密码"}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control input-lg",attrs:{type:"password",name:"password_confirmation",placeholder:"确认新密码"}})]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!!t.error,expression:"!!error"}],staticClass:"auth-error bg-danger"},[t._v(t._s(t.error))]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"btn btn-primary btn-lg form-control input-lg",attrs:{type:"submit",value:"修改密码"}})])]),t._v(" "),t.success?n("p",{staticClass:"auth-info bg-info"},[t._v("\n      密码重设成功！请记住您的新密码，现在您可以"),n("a",{attrs:{href:"/"}},[t._v("登陆")]),t._v("。\n    ")]):t._e()]),t._v(" "),t.success?t._e():n("p",{slot:"extra"},[t._v("\n    已经有聚页账户？\n    "),n("router-link",{attrs:{to:"/login"}},[t._v("登陆")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("div",{staticClass:"list-group"},[n("router-link",{staticClass:"list-group-item",attrs:{"active-class":"active",to:{name:"stats",params:{pageId:t.$route.params.pageId,module:"overview"},query:t.$route.query}}},[t._v("概览")]),t._v(" "),n("router-link",{staticClass:"list-group-item",attrs:{"active-class":"active",to:{name:"stats",params:{pageId:t.$route.params.pageId,module:"conversion"},query:t.$route.query}}},[t._v("转化详情")]),t._v(" "),n("router-link",{staticClass:"list-group-item",attrs:{"active-class":"active",to:{name:"stats",params:{pageId:t.$route.params.pageId,module:"traffic"},query:t.$route.query}}},[t._v("流量来源")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,draggable:t.draggable,resize:t.resize,resizable:t.resizable},on:{"change-button-group":t.changeButtonGroup,"change-draggable":t.changeDraggable,"drag-start":t.editDone}},[n("span",{staticClass:"glyphicon element-icon",class:"glyphicon-"+t.localElement.data.icon,style:{fontSize:t.localElement.style[t.workspace.version].width,color:t.getColor(t.localElement.data.color)},on:{dblclick:t.edit},slot:"content"}),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"更换图标"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("更换图标")]),t._v(" "),n("color-picker",{on:{input:t.changeColor},model:{value:t.localElement.data.color,callback:function(e){t.localElement.data.color=e},expression:"localElement.data.color"}},[n("div",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[t._v("\n        颜色\n        "),n("span",{staticClass:"caret"})])])],1),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup,expression:"buttonGroup === 'edit'"}],staticClass:"btn-group el-btn-group"},[n("div",{staticClass:"btn btn-success",on:{click:t.editDone}},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])]),t._v(" "),n("icon-picker",{attrs:{show:t.editing},on:{"edit-done":t.editDone,input:t.changeIcon},slot:"sidebar",model:{value:t.localElement.data.icon,callback:function(e){t.localElement.data.icon=e},expression:"localElement.data.icon"}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"color-picker",on:{click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"saturation-wrap"},[n("saturation",{attrs:{hsv:t.color.hsv},on:{"on-change":t.changeSaturation}})],1),t._v(" "),n("div",{staticClass:"body"},[n("div",{staticClass:"controls-wrap"},[n("div",{staticClass:"current-color"},[n("div",{staticClass:"active-color",style:{background:t.currentColor}})]),t._v(" "),n("div",{staticClass:"controls"},[n("hue",{staticClass:"slider-hue",on:{"on-change":t.changeHue},model:{value:t.color.hsl.h,callback:function(e){t.color.hsl.h=e},expression:"color.hsl.h"}}),t._v(" "),n("alpha",{attrs:{color:t.color},on:{"on-change":t.changeAlpha}})],1)]),t._v(" "),n("div",{staticClass:"fields-wrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.showedField,expression:"showedField === 0"}],staticClass:"fields"},[n("color-input",{attrs:{label:"r"},on:{"on-change":t.inputChange},model:{value:t.color.rgb.r,callback:function(e){t.color.rgb.r=e},expression:"color.rgb.r"}}),t._v(" "),n("color-input",{attrs:{label:"g"},on:{"on-change":t.inputChange},model:{value:t.color.rgb.g,callback:function(e){t.color.rgb.g=e},expression:"color.rgb.g"}}),t._v(" "),n("color-input",{attrs:{label:"b"},on:{"on-change":t.inputChange},model:{value:t.color.rgb.b,callback:function(e){t.color.rgb.b=e},expression:"color.rgb.b"}}),t._v(" "),n("color-input",{attrs:{label:"a",filter:t.alphaFilter},on:{"on-change":t.inputChange},model:{value:t.color.a,callback:function(e){t.color.a=e},expression:"color.a"}})],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.showedField,expression:"showedField === 1"}],staticClass:"fields"},[n("color-input",{attrs:{label:"h"},on:{"on-change":t.inputChange},model:{value:t.color.hsl.h,callback:function(e){t.color.hsl.h=e},expression:"color.hsl.h"}}),t._v(" "),n("color-input",{attrs:{label:"s",filter:t.percentFilter},on:{"on-change":t.inputChange},model:{value:t.color.hsl.s,callback:function(e){t.color.hsl.s=e},expression:"color.hsl.s"}}),t._v(" "),n("color-input",{attrs:{label:"l",filter:t.percentFilter},on:{"on-change":t.inputChange},model:{value:t.color.hsl.l,callback:function(e){t.color.hsl.l=e},expression:"color.hsl.l"}}),t._v(" "),n("color-input",{attrs:{label:"a",filter:t.alphaFilter},on:{"on-change":t.inputChange},model:{value:t.color.a,callback:function(e){t.color.a=e},expression:"color.a"}})],1),t._v(" "),n("div",{staticClass:"toggle",on:{click:t.switchFields}})])]),t._v(" "),n("div",{staticClass:"footer"},[n("a",{staticClass:"picker-button",on:{click:t.selected}},[t._v("确定")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{attrs:{show:t.show},on:{close:function(e){t.$emit("edit-done")}}},[n("div",{staticClass:"timer-editor-header",slot:"header"},[n("div",{staticClass:"btn btn-success",on:{click:function(e){t.$emit("edit-done")}}},[t._v("完成")])]),t._v(" "),n("div",{staticClass:"timer-editor-body",slot:"body"},[n("div",{staticClass:"form-group form-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value.date,expression:"value.date"}],staticClass:"form-control",attrs:{type:"date"},domProps:{value:t.value.date},on:{input:function(e){e.target.composing||(t.value.date=e.target.value)}}}),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.value.time,expression:"value.time"}],staticClass:"form-control",attrs:{type:"time"},domProps:{value:t.value.time},on:{input:function(e){e.target.composing||(t.value.time=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("标签颜色")]),t._v(" "),n("color-picker",{model:{value:t.value.labelColor,callback:function(e){t.value.labelColor=e},expression:"value.labelColor"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("数字颜色")]),t._v(" "),n("color-picker",{model:{value:t.value.numberColor,callback:function(e){t.value.numberColor=e},expression:"value.numberColor"}})],1),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v("背景颜色")]),t._v(" "),n("color-picker",{model:{value:t.value.timerColor,callback:function(e){t.value.timerColor=e},expression:"value.timerColor"}})],1)])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("auth",[n("span",{slot:"title"},[t._v("登陆")]),t._v(" "),n("div",{slot:"content"},[n("form",{attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.formSubmit(e)}}},[n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control input-lg",attrs:{type:"text",name:"email",value:"",placeholder:"邮箱"}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control input-lg",attrs:{type:"password",name:"password",value:"",placeholder:"密码"}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[n("input",{attrs:{type:"checkbox",name:"remember",value:"1"}}),t._v(" 在本机保持我的登陆状态")])]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!!t.error,expression:"!!error"}],staticClass:"auth-error bg-danger"},[t._v(t._s(t.error))]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"btn btn-primary btn-lg form-control input-lg",attrs:{type:"submit",value:"登陆"}})])]),t._v(" "),n("div",[n("router-link",{attrs:{to:"/forgetpassword"}},[t._v("忘记密码？")])],1)]),t._v(" "),n("p",{slot:"extra"},[t._v("\n    还没有聚页账户？\n    "),n("router-link",{attrs:{to:"/register"}},[t._v("注册用户")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sidebar-part",{attrs:{title:"边框",expand:t.expand}},[n("dropdown",{staticClass:"border-quick-selector",attrs:{show:t.showQuickSelector},on:{toggle:function(e){t.showQuickSelector=!t.showQuickSelector}},slot:"quick-selector"},[n("div",{staticClass:"border-wrapper",attrs:{"data-toggle":"dropdown"}},[n("div",{staticClass:"border-btn",style:{borderBottomWidth:parseInt(t.border.width)<26?t.border.width:"26px",borderBottomStyle:t.border.style,borderBottomColor:t.getColor(t.border.color)}})]),t._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right",slot:"dropdown-menu"},[t._l(t.presetBorders,function(e){return n("div",{staticClass:"preset-border",style:{borderWidth:e.width,borderStyle:e.style,borderColor:"#333"},on:{click:function(n){t.pickPreset(e)}}})}),t._v(" "),n("div",{staticClass:"no-border",on:{click:function(e){t.pickPreset({width:0,style:"solid"})}}},[t._v("无边框")])],2)]),t._v(" "),n("div",{slot:"content"},[n("border-style",{staticClass:"col",staticStyle:{width:"38%"},model:{value:t.border.style,callback:function(e){t.border.style=e},expression:"border.style"}}),t._v(" "),n("div",{staticClass:"input-group col",staticStyle:{width:"40%"}},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.borderWidth,expression:"borderWidth",modifiers:{number:!0}}],staticClass:"form-control",staticStyle:{"text-align":"center"},attrs:{type:"number"},domProps:{value:t.borderWidth},on:{input:function(e){e.target.composing||(t.borderWidth=t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}}),t._v(" "),n("div",{staticClass:"input-group-addon"},[t._v("像素")])]),t._v(" "),n("color-picker",{staticClass:"col",staticStyle:{width:"20%","margin-right":"0"},attrs:{position:"right"},model:{value:t.border.color,callback:function(e){t.border.color=e},expression:"border.color"}},[n("div",{staticClass:"btn btn-default color-btn",style:{background:t.getColor(t.border.color)},attrs:{"data-toggle":"dropdown"}})])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"load-status"},[n("transition",{attrs:{name:"fade"}},["loading"===t.load.status?n("div",{staticClass:"loading"},[n("div",{staticClass:"loading-icon small"})]):t._e()]),t._v(" "),"failed"===t.load.status?n("div",[t._v(t._s(t.load.failedInfo))]):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{show:t.show},on:{toggle:function(e){t.show=!t.show}}},[n("tooltip",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown",content:"行高",disabled:t.show}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-text-height"})])]),t._v(" "),n("ul",{staticClass:"dropdown-menu dropdown-menu-narrow",slot:"dropdown-menu"},t._l(t.lineHeights,function(e){return n("li",{class:{selected:t.value==e},on:{click:function(n){t.setLineHeight(e)}}},[t._v(t._s(e))])}))],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{attrs:{show:t.show},on:{close:function(e){t.$emit("edit-done")}}},[n("div",{staticClass:"swiper-editor-header",slot:"header"},[n("div",{staticClass:"btn btn-success",on:{click:function(e){t.$emit("edit-done")}}},[t._v("完成")])]),t._v(" "),n("div",{staticClass:"swiper-editor-body",slot:"body"},[n("div",{staticClass:"swiper-property"},[n("div",{staticClass:"swiper-auto"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value.auto,expression:"value.auto"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.value.auto)?t._i(t.value.auto,null)>-1:t.value.auto},on:{__c:function(e){var n=t.value.auto,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.value.auto=n.concat(a)):s>-1&&(t.value.auto=n.slice(0,s).concat(n.slice(s+1)))}else t.value.auto=o}}}),t._v(" 自动播放")]),t._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value.button,expression:"value.button"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.value.button)?t._i(t.value.button,null)>-1:t.value.button},on:{__c:function(e){var n=t.value.button,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.value.button=n.concat(a)):s>-1&&(t.value.button=n.slice(0,s).concat(n.slice(s+1)))}else t.value.button=o}}}),t._v(" 翻页按钮")])])]),t._v(" "),n("div",{staticStyle:{"margin-bottom":"12px"}},[n("div",{staticClass:"btn btn-primary",on:{click:function(e){e.stopPropagation(),t.selectImage(e)}}},[t._v("+ 添加图片")])]),t._v(" "),n("div",[n("ul",{staticClass:"swiper-image-list"},t._l(t.imageList,function(e,i){return n("li",[n("image-picker",{on:{"image-removed":function(e){t.imageRemoved(i)}},model:{value:t.imageList[i],callback:function(e){var n=t.imageList,o=i;Array.isArray(n)?n.splice(o,1,e):t.imageList[i]=e},expression:"imageList[index]"}})],1)}))])])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"template-header"},[n("div",{staticClass:"home"},[n("router-link",{staticClass:"home-link",attrs:{tag:"div",to:{name:"templates",params:{tag:"all"},query:t.$route.query}}},[n("span",{staticClass:"glyphicon glyphicon-chevron-left"}),t._v(" 返回模板列表\n    ")])],1),t._v(" "),t._t("versionSwitcher"),t._v(" "),n("div",{staticClass:"btn-toolbar fr"},[n("color-schemes",{on:{"update-colors":t.updateColors}}),t._v(" "),n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn-primary",on:{click:function(e){t.$emit("use-template")}}},[t._v("\n        使用这个模板\n      ")])])],1)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{ref:"element",attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,draggable:t.draggable,resize:t.resize,resizable:t.resizable,fixedEditable:!0},on:{"change-button-group":t.changeButtonGroup,"change-draggable":t.changeDraggable}},[n("div",{on:{dblclick:t.edit,mousedown:function(t){t.preventDefault()}},slot:"content"},[n("img",{style:{width:"100%",height:"auto"},attrs:{src:t.element.src},on:{mousedown:function(t){t.preventDefault()},load:t.onload}})]),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"更换图片"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("更换图片")]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"链接"},nativeOn:{click:function(e){t.editLink(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-link"})])])],1),t._v(" "),n("template",{slot:"button-groups"},["link"===t.buttonGroup?n("link-editor",{attrs:{"link-editing":"link"===t.buttonGroup,"link-obj":t.linkObj},on:{"link-edit-done":t.editLinkDone}}):t._e()],1)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{attrs:{show:t.show},on:{close:function(e){t.$emit("edit-done")}}},[n("div",{staticClass:"video-editor-header",slot:"header"},[n("div",{staticClass:"btn btn-success",on:{click:function(e){t.$emit("edit-done")}}},[t._v("完成")])]),t._v(" "),n("div",{staticClass:"video-editor-body",slot:"body"},[n("div",{staticClass:"form-group"},[n("label",[t._v("视频播放地址")]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.video,expression:"video"}],staticClass:"form-control video-source",attrs:{placeholder:"请输入视频播放地址"},domProps:{value:t.video},on:{input:function(e){e.target.composing||(t.video=e.target.value)}}})]),t._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("button",{staticClass:"btn btn-danger",on:{click:function(e){e.stopPropagation(),t.clear(e)}}},[t._v("清除")]),t._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:function(e){e.stopPropagation(),t.save(e)}}},[t._v("确定")])]),t._v(" "),n("div",{staticClass:"video-compatibility"},[n("h4",[t._v("注意：")]),t._v(" "),n("p",[t._v("浏览器对HTML5视频支持的格式存在兼容性。推荐使用mp4格式的视频。")]),t._v("\n      以下是浏览器兼容性列表：\n      "),n("table",[n("thead",[n("th"),t._v(" "),n("th",[t._v("Chrome")]),t._v(" "),n("th",[t._v("Firefox")]),t._v(" "),n("th",[t._v("IE 9+")]),t._v(" "),n("th",[t._v("Opera")]),t._v(" "),n("th",[t._v("Safari")])]),t._v(" "),n("tbody",[n("tr",[n("td",{staticClass:"video-format"},[t._v("mp4")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("✓")])]),t._v(" "),n("tr",[n("td",{staticClass:"video-format"},[t._v("webm")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("部分")]),t._v(" "),n("td",[t._v("部分")]),t._v(" "),n("td",[t._v("部分")])]),t._v(" "),n("tr",[n("td",{staticClass:"video-format"},[t._v("ogg")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("✗")]),t._v(" "),n("td",[t._v("✓")]),t._v(" "),n("td",[t._v("✗")])])])])])])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content-header"},[n("h4",{staticClass:"title"},[t._v("选择模板")]),t._v(" "),n("el-checkbox",{on:{change:t.getData},model:{value:t.isCompat,callback:function(e){t.isCompat=e},expression:"isCompat"}},[t._v("兼容桌面端")])],1),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"content-body"},[n("p",{staticClass:"text-muted"},[t._v("所有的模板都是响应式的，同时支持PC和移动。每个模板都支持多达30种配色方案。")]),t._v(" "),n("div",[n("div",{staticClass:"template empty-page",on:{click:t.createEmptyPage}},[t._v("空白页")]),t._v(" "),t._l(t.templates,function(e){return n("router-link",{key:e.id,staticClass:"template",attrs:{tag:"div",to:{name:"template",params:{templateId:e.id},query:t.$route.query}}},[n("img",{attrs:{src:e.image_url+"@300w.png",alt:""}})])}),t._v(" "),n("div",{staticStyle:{clear:"both"}})],2)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-body",attrs:{id:"workspace"}},[n("div",{staticClass:"workspace-nav"},[n("router-link",{staticClass:"btn btn-primary",attrs:{to:"/templates/all?gid="+t.currentPageGroup.id}},[t._v("新建着陆页 "),n("span",{staticClass:"glyphicon glyphicon-file"})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:1===t.currentPageGroup.is_default,expression:"currentPageGroup.is_default === 1"}],staticClass:"btn btn-default",attrs:{title:"新建文件夹"},on:{click:function(e){e.stopPropagation(),t.newPageGroup(e)}}},[n("span",{staticClass:"glyphicon glyphicon-plus"}),t._v(" "),n("span",{staticClass:"glyphicon glyphicon-folder-open"})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"default"!==t.currentPageGroup.name,expression:"currentPageGroup.name !== 'default'"}],staticClass:"btn btn-default",on:{click:function(e){t.goToDefault()}}},[n("span",{staticClass:"glyphicon glyphicon-level-up"}),t._v(" 返回上层")])],1),t._v(" "),n("transition-group",{attrs:{name:"page-list",mode:"out-in",tag:"div"}},[1===t.currentPageGroup.is_default?t._l(t.pageGroups,function(t){return n("page-group",{key:"group"+t.id,staticClass:"page-list-item",attrs:{"page-group":t}})}):t._e(),t._v(" "),t._l(t.pages,function(t){return n("page-item",{key:"item"+t.id,staticClass:"page-list-item",attrs:{"page-item":t}})})],2),t._v(" "),n("div",{staticStyle:{clear:"both"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,draggable:t.draggable,resize:t.resize,resizable:t.resizable},on:{"change-button-group":t.changeButtonGroup,"change-draggable":t.changeDraggable,"drag-start":t.editDone}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.editing,expression:"!editing"}],staticClass:"element-html-wrapper",slot:"content"},[n("div",{staticClass:"element-html-text",on:{dblclick:t.edit}},[n("p",{staticClass:"element-html-title"},[t._v("<HTML>")]),n("p",[t._v("在预览模式中查看效果")])])]),t._v(" "),n("textarea",{directives:[{name:"show",rawName:"v-show",value:t.editing,expression:"editing"},{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"form-control",staticStyle:{height:"100%"},attrs:{spellcheck:"false"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}},slot:"content"}),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"编辑"},on:{click:t.edit}},[t._v("编辑")])]),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup,expression:"buttonGroup === 'edit'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[n("div",{staticClass:"btn btn-success",attrs:{title:"完成编辑"},on:{click:t.editDone}},[t._v("完成")])])])],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("template-header",{attrs:{version:t.version},on:{"switch-version":t.switchVersion,"update-colors":t.updateColors,"use-template":t.useTemplate}},[n("version-switcher",{attrs:{version:t.version},on:{change:t.switchVersion},slot:"versionSwitcher"})],1),t._v(" "),n("previewer",{attrs:{version:t.version,url:t.url}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("auth",[n("span",{slot:"title"},[t._v("密码重设")]),t._v(" "),n("div",{slot:"content"},[t.emailSent?t._e():n("form",{attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.formSubmit(e)}}},[n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control input-lg",attrs:{type:"text",name:"email",value:"",placeholder:"邮箱"}})]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!!t.error,expression:"!!error"}],staticClass:"auth-error bg-danger"},[t._v(t._s(t.error))]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"btn btn-primary btn-lg form-control input-lg",attrs:{type:"submit",value:"发送密码重设邮件"}})])]),t._v(" "),t.emailSent?n("p",{staticClass:"auth-info bg-info"},[t._v("\n      一封包含密码重置链接的验证邮件已经发送到您的注册邮箱，请按照邮件中的说明进行下一步的操作。\n    ")]):t._e()]),t._v(" "),n("p",{slot:"extra"},[t._v("\n    已经有聚页账户？\n    "),n("router-link",{attrs:{to:"/login"}},[t._v("登陆")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?n("div",[n("div",{staticClass:"loading"},[n("div",{staticClass:"loading-icon"})])]):t._e(),t._v(" "),t.loading?t._e():n(t.params.module,{tag:"component",attrs:{report:t.report,params:t.params}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{show:t.show},on:{toggle:function(e){t.show=!t.show}}},[n("div",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown",title:"边框样式"}},[n("div",{staticClass:"border-sample",style:{borderBottomStyle:t.value}})]),t._v(" "),n("ul",{staticClass:"dropdown-menu",slot:"dropdown-menu"},t._l(t.borderStyles,function(e){return n("li",{staticClass:"border-inline",class:{selected:t.value===e},on:{click:function(n){t.setBorderStyle(e)}}},[n("div",{staticClass:"border-sample",style:{borderBottomStyle:e}})])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"auth-container"},[n("div",{staticClass:"auth-header"},[t._t("title")],2),t._v(" "),n("div",{staticClass:"auth-content"},[t._t("content")],2)]),t._v(" "),n("div",{staticClass:"auth-extra"},[t._t("extra")],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("auth",[n("span",{slot:"title"},[t._v("注册")]),t._v(" "),n("div",{slot:"content"},[n("form",{attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.formSubmit(e)}}},[n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control input-lg",attrs:{type:"text",name:"name",placeholder:"姓名"}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control input-lg",attrs:{type:"text",name:"email",placeholder:"电子邮箱",disabled:!!t.invitedEmail},domProps:{value:t.invitedEmail}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"form-control input-lg",attrs:{type:"password",name:"password",placeholder:"密码"}})]),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:!!t.error,expression:"!!error"}],staticClass:"auth-error bg-danger"},[t._v(t._s(t.error))]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{staticClass:"btn btn-primary btn-lg form-control input-lg",attrs:{type:"submit",value:"注册"}})])])]),t._v(" "),n("p",{slot:"extra"},[t._v("\n    已经有聚页账户？\n    "),n("router-link",{attrs:{to:"/login"}},[t._v("登陆")])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{show:t.imageLibrary.show,width:"980px",height:"560px"},on:{close:t.close}},[n("div",{slot:"header"},[n("ul",{staticClass:"nav nav-pills"},[n("li",{class:{active:"my"===t.currentTab}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){e.preventDefault(),t.getMyImages(e)}}},[t._v("我的图片")])]),t._v(" "),n("li",{class:{active:"free"===t.currentTab}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){e.preventDefault(),t.getFreeImages(e)}}},[t._v("免费图库")])])])]),t._v(" "),"free"===t.currentTab?n("div",{staticClass:"images-wrapper",
staticStyle:{padding:"0 25px"},slot:"body"},t._l(t.freeImages,function(e,i){return n("div",{key:i,staticClass:"image-item",class:{selected:t.currentImageIndex===i},on:{click:function(e){t.selectImage(i)},dblclick:function(e){t.pickImage(i)}}},[n("div",{staticClass:"image-item-wrapper"},[n("img",{attrs:{src:"//s1.ujustatic.com/freeimg/"+e.image+"@150w_150h"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentImageIndex===i,expression:"currentImageIndex === index"}],staticClass:"image-item-operation"},[n("div",{staticClass:"btn btn-primary btn-sm fr",on:{click:function(e){t.pickImage(i)}}},[t._v("  选择  ")])])])])})):t._e(),t._v(" "),"my"===t.currentTab?n("div",{staticClass:"images-wrapper",slot:"body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.mainStatus,expression:"mainStatus === 'loading'"}],key:"loading",staticClass:"loading"},[n("div",{staticClass:"loading-icon"})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"imageList"===t.mainStatus,expression:"mainStatus === 'imageList'"}],key:"image-list",staticClass:"image-list"},[n("div",{staticClass:"images-sidebar"},[n("div",{staticClass:"list-group"},[n("div",{staticClass:"list-group-item block-title"},[t._v("个人文件夹\n            "),n("tooltip",{attrs:{placement:"right",content:"只有您自己可见"}},[n("span",{staticClass:"glyphicon glyphicon-question-sign"})])],1),t._v(" "),t._l(t.personalFolders,function(e,i){return n("a",{staticClass:"list-group-item",class:{active:e===t.currentFolder},attrs:{href:"javascript:;"},on:{click:function(n){t.switchFolder(e)}}},[t._v("\n             \n            "),n("span",{staticClass:"folder-name"},[n("span",{class:"glyphicon glyphicon-folder-"+(e===t.currentFolder?"open":"close")}),t._v("   "+t._s(e.dirname))]),t._v(" "),n("span",{staticClass:"badge"},[t._v(t._s(e.total_image))]),t._v(" "),0===e.is_default?n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn-default",attrs:{title:"重命名"},on:{click:function(n){t.renameFolder(e)}}},[n("span",{staticClass:"glyphicon glyphicon-pencil"})]),t._v(" "),n("div",{staticClass:"btn btn-danger",attrs:{title:"删除"},on:{click:function(n){t.removeFolder(e,0)}}},[n("span",{staticClass:"glyphicon glyphicon-trash"})])]):t._e()])}),t._v(" "),n("a",{staticClass:"list-group-item",staticStyle:{"text-align":"center"},attrs:{href:"javascript:;"},on:{click:function(e){t.addFolder(0)}}},[n("span",{staticClass:"glyphicon glyphicon-plus"})])],2),t._v(" "),n("div",{staticClass:"list-group"},[n("div",{staticClass:"list-group-item block-title"},[t._v("项目文件夹\n            "),n("tooltip",{attrs:{placement:"right",content:"参与协作的项目成员可见"}},[n("span",{staticClass:"glyphicon glyphicon-question-sign"})])],1),t._v(" "),t._l(t.projectFolders,function(e,i){return n("a",{staticClass:"list-group-item",class:{active:e===t.currentFolder},attrs:{href:"javascript:;"},on:{click:function(n){t.switchFolder(e,t.page.project_id)}}},[t._v("\n             \n            "),n("span",{staticClass:"folder-name"},[n("span",{class:"glyphicon glyphicon-folder-"+(e===t.currentFolder?"open":"close")}),t._v("   "+t._s(e.dirname))]),t._v(" "),n("span",{staticClass:"badge"},[t._v(t._s(e.total_image))]),t._v(" "),0===e.is_default?n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn-default",attrs:{title:"重命名"},on:{click:function(n){t.renameFolder(e)}}},[n("span",{staticClass:"glyphicon glyphicon-pencil"})]),t._v(" "),n("div",{staticClass:"btn btn-danger",attrs:{title:"删除"},on:{click:function(n){t.removeFolder(e,t.page.project_id)}}},[n("span",{staticClass:"glyphicon glyphicon-trash"})])]):t._e()])}),t._v(" "),n("a",{staticClass:"list-group-item",staticStyle:{"text-align":"center"},attrs:{href:"javascript:;"},on:{click:function(e){t.addFolder(t.page.project_id)}}},[n("span",{staticClass:"glyphicon glyphicon-plus"})])],2)]),t._v(" "),n("div",{staticClass:"images-content"},[t._l(t.images,function(e,i){return n("div",{key:i,staticClass:"image-item",class:{selected:t.currentImageIndex===i},on:{click:function(e){t.selectImage(i)},dblclick:function(e){t.pickImage(i)}}},[n("div",{staticClass:"image-item-wrapper"},[n("img",{attrs:{src:t.getThumbs(e.url),alt:e.alt}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentImageIndex===i,expression:"currentImageIndex === index"}],staticClass:"image-item-operation"},[n("div",{staticClass:"btn btn-default btn-sm fl",on:{click:function(e){t.viewImage(i)}}},[n("span",{staticClass:"glyphicon glyphicon-zoom-in"})]),t._v(" "),n("div",{staticClass:"btn btn-primary btn-sm fr",on:{click:function(e){t.pickImage(i)}}},[t._v("  选择  ")])])])])}),t._v(" "),t._l(t.uploading,function(e){return n("div",{key:"uploading"+e,staticClass:"image-uploading"},[n("div",{staticClass:"loading"},[n("div",{staticClass:"loading-icon small"})]),t._v(" "),n("div",[t._v("图片上传中")])])}),t._v(" "),0===t.images.length&&0===t.uploading.length?n("div",{key:"empty",staticStyle:{"line-height":"300px"}},[n("p",{staticClass:"text-muted"},[t._v("这个文件夹中暂时还没有图片。")])]):t._e()],2)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"view"===t.mainStatus,expression:"mainStatus === 'view'"}],key:"view",staticStyle:{height:"100%"}},[n("div",{staticClass:"images-sidebar"},[n("div",{staticClass:"btn btn-default btn-sm",on:{click:function(e){t.mainStatus="imageList"}}},[t._v("< 返回")]),t._v(" "),n("form",{attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),t.modifyImage(e)}}},[n("div",{staticClass:"modify-image-input"},[n("p",[t._v("名称")]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.viewingImage.name,expression:"viewingImage.name"}],staticClass:"form-control",attrs:{type:"text",name:"name"},domProps:{value:t.viewingImage.name},on:{input:function(e){e.target.composing||(t.viewingImage.name=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"modify-image-input"},[n("p",[t._v("Alt")]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.viewingImage.alt,expression:"viewingImage.alt"}],staticClass:"form-control",attrs:{type:"text",name:"alt"},domProps:{value:t.viewingImage.alt},on:{input:function(e){e.target.composing||(t.viewingImage.alt=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"modify-image-input"},[n("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v("保存修改")]),t._v("   \n            "),n("div",{staticClass:"btn btn-danger",on:{click:t.removeImage}},[t._v("删除图片")])])])]),t._v(" "),n("div",{staticClass:"images-content"},[n("img",{staticStyle:{"max-width":"610px"},attrs:{src:t.viewingImage.url}})])])]):t._e(),t._v(" "),"my"===t.currentTab?n("div",{slot:"footer"},[n("div",{staticClass:"btn btn-primary btn-sm image-upload-button"},[n("span",{staticClass:"glyphicon glyphicon-cloud-upload"}),t._v("\n      上传图片\n      "),n("input",{staticClass:"image-upload-input",attrs:{type:"file",name:"files[]",accept:"image/*"},on:{change:t.uploadImage}})]),t._v(" "),n("div",{staticClass:"fl"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.imageUrlEditing,expression:"!imageUrlEditing"}],staticClass:"btn btn-default btn-sm",on:{click:t.editImageUrl}},[n("span",{staticClass:"glyphicon glyphicon-link"}),t._v("\n        粘贴网址\n      ")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.imageUrlEditing,expression:"imageUrlEditing"}],staticClass:"input-group input-group-sm shadow image-url-input"},[n("div",{staticClass:"input-group-addon"},[t._v(" 图片网址 ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.imageUrl,expression:"imageUrl"}],ref:"imageUrl",staticClass:"form-control input-text-shadow",attrs:{type:"text"},domProps:{value:t.imageUrl},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.uploadImageFromUrl(e):null},input:function(e){e.target.composing||(t.imageUrl=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-btn"},[n("div",{staticClass:"btn btn-success",on:{click:t.uploadImageFromUrl}},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])])]),t._v(" "),null!==t.currentImageIndex?n("span",[t._v("\n      名称: "+t._s(t.images[t.currentImageIndex].name)+"  \n      尺寸: "+t._s(t.images[t.currentImageIndex].width)+" X "+t._s(t.images[t.currentImageIndex].height)+"  \n    ")]):t._e()]):t._e(),t._v(" "),"free"===t.currentTab?n("div",{slot:"footer"},[null!==t.currentImageIndex?n("span",[t._v("\n      尺寸: "+t._s(t.freeImages[t.currentImageIndex].width)+" X "+t._s(t.freeImages[t.currentImageIndex].height)+"  \n    ")]):t._e()]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.show?n("div",{staticClass:"msg-mask",attrs:{tabindex:"-1"},on:{click:function(t){t.stopPropagation()},keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.ok(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27)?void t.cancel(e):null}]}},[n("div",{staticClass:"msg-wrapper"},[n("div",{staticClass:"msg-container",style:{width:t.msg.width}},[n("div",{staticClass:"msg-header"},[n("span",{staticClass:"glyphicon glyphicon-exclamation-sign"}),t._v(" "+t._s(t.msg.header||"提示信息")+"\n        ")]),t._v(" "),n("div",{staticClass:"msg-body container-fluid"},["input"===t.msg.type?[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-addon",domProps:{innerHTML:t._s(t.msg.inputAddon)}}),t._v(" "),n("input",{ref:"msgInput",staticClass:"form-control",attrs:{type:"text",placeholder:t.msg.placeholder||t.msg.header},domProps:{value:t.msg.content}})]),t._v(" "),""!==t.msg.hint?n("p",{staticClass:"msg-hint"},[t._v(t._s(t.msg.hint))]):t._e(),t._v(" "),""!==t.error?n("p",{staticClass:"text-danger"},[t._v(t._s(t.error))]):t._e()]:n("span",[t._v(t._s(t.msg.content))])],2),t._v(" "),n("div",{staticClass:"msg-footer"},[t._t("footer",[n("button",{directives:[{name:"show",rawName:"v-show",value:"warning"!==t.msg.type,expression:"msg.type !== 'warning'"}],staticClass:"btn btn-default btn-sm",on:{click:t.cancel}},[t._v("取消")]),t._v("  \n            "),n("button",{staticClass:"btn btn-primary btn-sm",on:{click:t.ok}},[t._v("确定")])])],2)])])]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"header-wrapper"}},[n("div",{staticClass:"header"},[n("router-link",{staticClass:"logo",attrs:{to:"/"}}),t._v(" "),n("div",{staticClass:"btn-toolbar header-nav"},[n("router-link",{staticClass:"btn btn-default",attrs:{"active-class":"active",to:"/account"}},[t._v("\n        帐号 "),n("span",{staticClass:"glyphicon glyphicon-user"})]),t._v(" "),n("router-link",{staticClass:"btn btn-default",attrs:{"active-class":"active",to:"/logout"}},[t._v("\n        退出 "),n("span",{staticClass:"glyphicon glyphicon-log-out"})])],1)],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"color-saturation",style:{background:t.bgColor},on:{mousedown:t.onMouseDown}},[n("div",{staticClass:"pointer",style:{left:t.pointerLeft,top:t.pointerTop}})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chart-container"},[n("div",{ref:"chart",staticClass:"ct-chart ct-major-twelfth"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{show:t.show},on:{toggle:function(e){t.show=!t.show}}},[n("div",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[n("div",[t.page.variations&&t.page.variations.length>1?n("span",{staticClass:"current-variation-name"},[t._v(t._s(t.workspace.activeVariation.name))]):n("span",[t._v("A/B测试")]),t._v("\n         "),n("span",{staticClass:"caret"})])]),t._v(" "),n("ul",{staticClass:"dropdown-menu variations-menu",slot:"dropdown-menu"},[t._l(t.page.variations,function(e){return n("li",{class:{active:e.id===t.workspace.activeVariation.id}},[n("span",{staticClass:"variation-name",on:{click:function(n){t.switchVariation(e)}}},[t._v(t._s(e.name))]),t._v(" "),n("span",{staticClass:"caret-right"}),t._v(" "),n("div",{staticClass:"btn-group"},[n("tooltip",{staticClass:"btn btn-default",attrs:{content:"重命名"},nativeOn:{click:function(n){t.rename(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-pencil"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"复制"},nativeOn:{click:function(n){t.duplicate(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-duplicate"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-danger",attrs:{content:"删除"},nativeOn:{click:function(n){t.remove(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-trash"})])])],1)])}),t._v(" "),n("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),n("router-link",{attrs:{to:"/templates/all?pid="+t.page.id,tag:"li"}},[t._v("新建一个版本")]),t._v(" "),n("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),n("li",{on:{click:function(e){t.$emit("absplit")}}},[n("span",[t._v("版本流量分配")])])],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("sidebar-part",{attrs:{title:"背景",expand:t.expand}},[n("color-picker",{staticStyle:{width:"100%",height:"100%"},attrs:{position:"right"},slot:"quick-selector",model:{value:t.background.color,callback:function(e){t.background.color=e},expression:"background.color"}},[n("div",{staticClass:"color-btn",style:{backgroundColor:t.getColor(t.background.color),backgroundImage:"url("+t.background.image+")",backgroundRepeat:t.background.repeat,backgroundSize:"cover",backgroundPosition:"left top"},attrs:{"data-toggle":"dropdown"}})]),t._v(" "),n("div",{slot:"content"},[n("div",{staticClass:"col",staticStyle:{width:"34%"}},[n("image-picker",{model:{value:t.background.image,callback:function(e){t.background.image=e},expression:"background.image"}})],1),t._v(" "),t.background.image?n("div",{staticClass:"col",staticStyle:{width:"28%"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.background.repeat,expression:"background.repeat"}],attrs:{type:"radio",name:"background-repeat",value:"no-repeat"},domProps:{checked:t._q(t.background.repeat,"no-repeat")},on:{__c:function(e){t.background.repeat="no-repeat"}}}),t._v(" 正常")]),t._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.background.repeat,expression:"background.repeat"}],attrs:{type:"radio",name:"background-repeat",value:"repeat"},domProps:{checked:t._q(t.background.repeat,"repeat")},on:{__c:function(e){t.background.repeat="repeat"}}}),t._v(" 平铺")]),t._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.background.repeat,expression:"background.repeat"}],attrs:{type:"radio",name:"background-repeat",value:"repeat-x"},domProps:{checked:t._q(t.background.repeat,"repeat-x")},on:{__c:function(e){t.background.repeat="repeat-x"}}}),t._v(" 水平平铺")]),t._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.background.repeat,expression:"background.repeat"}],attrs:{type:"radio",name:"background-repeat",value:"repeat-y"},domProps:{checked:t._q(t.background.repeat,"repeat-y")},on:{__c:function(e){t.background.repeat="repeat-y"}}}),t._v(" 垂直平铺")]),t._v(" "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.background.size,expression:"background.size"}],attrs:{type:"checkbox",name:"background-size","true-value":"cover","false-value":"auto"},domProps:{checked:Array.isArray(t.background.size)?t._i(t.background.size,null)>-1:t._q(t.background.size,"cover")},on:{__c:function(e){var n=t.background.size,i=e.target,o=i.checked?"cover":"auto";if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.background.size=n.concat(a)):s>-1&&(t.background.size=n.slice(0,s).concat(n.slice(s+1)))}else t.background.size=o}}}),t._v(" 拉伸")])]):t._e(),t._v(" "),t.background.image?n("div",{staticClass:"col",staticStyle:{width:"32%","margin-right":"0"}},[n("p",[t._v("背景图位置")]),t._v(" "),n("ul",{staticClass:"bg-repeat"},t._l(t.positions,function(e,i){return n("li",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.background.position,expression:"background.position"}],attrs:{type:"radio",name:"bg-position",id:"bg-position-"+i},domProps:{value:e,checked:t._q(t.background.position,e)},on:{__c:function(n){t.background.position=e}}}),t._v(" "),n("label",{attrs:{for:"bg-position-"+i}},[n("i")])])}))]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{attrs:{show:t.show},on:{close:function(e){t.$emit("edit-done")}}},[n("div",{slot:"header"},[n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn-default",class:{active:"fields"===t.currentTab},on:{click:function(e){t.switchTab("fields")}}},[t._v("字段")]),t._v(" "),n("div",{staticClass:"btn btn-default",class:{active:"props"===t.currentTab},on:{click:function(e){t.switchTab("props")}}},[t._v("设置")]),t._v(" "),n("div",{staticClass:"btn btn-default",class:{active:"button"===t.currentTab},on:{click:function(e){t.switchTab("button")}}},[t._v("按钮")])]),t._v(" "),n("div",{staticClass:"btn btn-success",on:{click:function(e){t.$emit("edit-done")}}},[t._v("完成")])]),t._v(" "),n("div",{slot:"body"},[n("form-"+t.currentTab+"-editor",{tag:"component",model:{value:t.formElement[t.currentTab],callback:function(e){var n=t.formElement,i=t.currentTab;Array.isArray(n)?n.splice(i,1,e):t.formElement[t.currentTab]=e},expression:"formElement[currentTab]"}})],1)]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{show:t.show,width:"300px",height:"500px"},on:{close:function(e){t.$emit("close")}}},[n("h4",{slot:"header"},[t._v("版本流量分配")]),t._v(" "),n("div",{slot:"body"},t._l(t.variations,function(e,i){return n("div",{staticClass:"form-inline var-item"},[n("div",{staticClass:"form-group var-name"},[n("label",[t._v(t._s(e.name))])]),t._v(" "),n("div",{staticClass:"btn btn-default",on:{click:function(e){t.decrease(i)}}},[t._v(" - ")]),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-group var-input"},[n("input",{staticClass:"form-control",attrs:{type:"text","data-index":i},domProps:{value:t.weights[i]},on:{input:t.inputWeight}}),t._v(" "),n("span",{staticClass:"input-group-addon"},[t._v("%")])])]),t._v(" "),n("div",{staticClass:"btn btn-default",on:{click:function(e){t.increase(i)}}},[t._v(" + ")])])})),t._v(" "),n("div",{slot:"footer"},[n("p",{staticClass:"text-danger",staticStyle:{float:"left"}},[t._v(t._s(t.error))]),t._v(" "),n("div",{staticClass:"btn btn-success btn-sm",on:{click:t.save}},[t._v("保存")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"sidebar-block"},[n("dropdown",{attrs:{show:t.showFieldsType},on:{toggle:function(e){t.showFieldsType=!t.showFieldsType}}},[t._t("default",[n("div",[n("div",{staticClass:"btn btn-primary",attrs:{"data-toggle":"dropdown"}},[t._v("+ 字段")])])]),t._v(" "),n("div",{staticClass:"dropdown-menu dropdown-field-type-wrapper",slot:"dropdown-menu"},[n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("text")}}},[t._v("单行文本")]),t._v(" "),n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("textarea")}}},[t._v("多行文本")]),t._v(" "),n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("radio")}}},[t._v("单选框")]),t._v(" "),n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("checkbox")}}},[t._v("复选框")]),t._v(" "),n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("dropdown")}}},[t._v("下拉菜单")]),t._v(" "),n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("hidden")}}},[t._v("隐藏项")]),t._v(" "),n("h5",{staticClass:"dropdown-field-type-preset"},[t._v("预设字段")]),t._v(" "),n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("text","姓名",["required"])}}},[t._v("姓名")]),t._v(" "),n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("text","电子邮件",["required","email"])}}},[t._v("电子邮件")]),t._v(" "),n("div",{staticClass:"dropdown-field-type",on:{click:function(e){t.addField("text","手机号码",["required","mobile"])}}},[t._v("手机号码")])])],2)],1),t._v(" "),n("div",{staticClass:"sidebar-block"},t._l(t.formFields,function(e,i){return n("div",{staticClass:"form-field-label-wrapper",style:{background:t.editingField===i?"#fff":""},on:{mouseenter:function(e){t.currentField=i},mouseleave:function(e){t.currentField=null},click:function(t){t.stopPropagation()}}},[n("div",{staticClass:"form-field-label"},[t._v("\n        "+t._s(e.label)+"\n      ")]),t._v(" "),n("span",{staticClass:"form-field-type"},[t._v(t._s(t.fieldTypes[e.type]))]),t._v(" "),n("div",{staticStyle:{clear:"both"}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentField===i,expression:"currentField === fieldId"}],staticClass:"btn-group btn-group-sm form-field-operation"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"修改"},on:{click:function(e){t.editingField=i}}},[n("span",{staticClass:"glyphicon glyphicon-pencil"})]),t._v(" "),n("div",{staticClass:"btn btn-default",attrs:{title:"上移"},on:{click:function(e){t.moveField("up",i)}}},[n("span",{staticClass:"glyphicon glyphicon-chevron-up"})]),t._v(" "),n("div",{staticClass:"btn btn-default",attrs:{title:"下移"},on:{click:function(e){t.moveField("down",i)}}},[n("span",{staticClass:"glyphicon glyphicon-chevron-down"})]),t._v(" "),n("div",{staticClass:"btn btn-default",attrs:{title:"删除"},on:{click:function(e){t.removeField(i)}}},[n("span",{staticClass:"glyphicon glyphicon-trash"})])]),t._v(" "),t.editingField===i?n("div",{staticClass:"field-edit-form"},[n("div",{staticClass:"input-group shadow"},[n("div",{staticClass:"input-group-addon"},[t._v(" 标签 ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"field.label"}],staticClass:"form-control input-text-shadow",attrs:{type:"text",placeholder:"新建表单字段",id:"field-label-"+i},domProps:{value:e.label},on:{input:function(t){t.target.composing||(e.label=t.target.value)}}})]),t._v(" "),"text"===e.type||"textarea"===e.type?n("div",{staticClass:"form-field-configs"},[n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.validator,expression:"field.validator"}],attrs:{type:"checkbox",value:"required"},domProps:{checked:Array.isArray(e.validator)?t._i(e.validator,"required")>-1:e.validator},on:{__c:function(n){var i=e.validator,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s="required",r=t._i(i,s);a?r<0&&(e.validator=i.concat(s)):r>-1&&(e.validator=i.slice(0,r).concat(i.slice(r+1)))}else e.validator=a}}}),t._v(" 必填项")])]),t._v(" "),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.validator,expression:"field.validator"}],attrs:{type:"checkbox",value:"mobile"},domProps:{checked:Array.isArray(e.validator)?t._i(e.validator,"mobile")>-1:e.validator},on:{__c:function(n){var i=e.validator,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s="mobile",r=t._i(i,s);a?r<0&&(e.validator=i.concat(s)):r>-1&&(e.validator=i.slice(0,r).concat(i.slice(r+1)))}else e.validator=a}}}),t._v(" 校验为手机号码")])]),t._v(" "),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.validator,expression:"field.validator"}],attrs:{type:"checkbox",value:"email"},domProps:{checked:Array.isArray(e.validator)?t._i(e.validator,"email")>-1:e.validator},on:{__c:function(n){var i=e.validator,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s="email",r=t._i(i,s);a?r<0&&(e.validator=i.concat(s)):r>-1&&(e.validator=i.slice(0,r).concat(i.slice(r+1)))}else e.validator=a}}}),t._v(" 校验为Email")])]),t._v(" "),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.validator,expression:"field.validator"}],attrs:{type:"checkbox",value:"number"},domProps:{checked:Array.isArray(e.validator)?t._i(e.validator,"number")>-1:e.validator},on:{__c:function(n){var i=e.validator,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s="number",r=t._i(i,s);a?r<0&&(e.validator=i.concat(s)):r>-1&&(e.validator=i.slice(0,r).concat(i.slice(r+1)))}else e.validator=a}}}),t._v(" 校验为数字")])])]):t._e(),t._v(" "),"radio"===e.type||"checkbox"===e.type?n("div",{staticClass:"form-field-configs"},[n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.validator,expression:"field.validator"}],attrs:{type:"checkbox",value:"required"},domProps:{checked:Array.isArray(e.validator)?t._i(e.validator,"required")>-1:e.validator},on:{__c:function(n){var i=e.validator,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s="required",r=t._i(i,s);a?r<0&&(e.validator=i.concat(s)):r>-1&&(e.validator=i.slice(0,r).concat(i.slice(r+1)))}else e.validator=a}}}),t._v(" 必填项")])]),t._v(" "),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.hideLabel,expression:"field.hideLabel"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hideLabel)?t._i(e.hideLabel,null)>-1:e.hideLabel},on:{__c:function(n){var i=e.hideLabel,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s=null,r=t._i(i,s);a?r<0&&(e.hideLabel=i.concat(s)):r>-1&&(e.hideLabel=i.slice(0,r).concat(i.slice(r+1)))}else e.hideLabel=a}}}),t._v(" 隐藏标签")])]),t._v(" "),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.optionsInLine,expression:"field.optionsInLine"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.optionsInLine)?t._i(e.optionsInLine,null)>-1:e.optionsInLine},on:{__c:function(n){var i=e.optionsInLine,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s=null,r=t._i(i,s);a?r<0&&(e.optionsInLine=i.concat(s)):r>-1&&(e.optionsInLine=i.slice(0,r).concat(i.slice(r+1)))}else e.optionsInLine=a}}}),t._v(" 单行排列选项")])])]):t._e(),t._v(" "),"dropdown"===e.type?n("div",{staticClass:"form-field-configs"},[n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.validator,expression:"field.validator"}],attrs:{type:"checkbox",value:"required"},domProps:{checked:Array.isArray(e.validator)?t._i(e.validator,"required")>-1:e.validator},on:{__c:function(n){var i=e.validator,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s="required",r=t._i(i,s);a?r<0&&(e.validator=i.concat(s)):r>-1&&(e.validator=i.slice(0,r).concat(i.slice(r+1)))}else e.validator=a}}}),t._v(" 必填项")])])]):t._e(),t._v(" "),"hidden"===e.type?n("div",{staticClass:"form-field-configs"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.val,expression:"field.val"}],staticClass:"form-control input-text-shadow",attrs:{type:"text",placeholder:"取值"},domProps:{value:e.val},on:{input:function(t){t.target.composing||(e.val=t.target.value)}}})]):t._e(),t._v(" "),"china-state"===e.type?n("div",{staticClass:"form-field-configs"},[n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.validator,expression:"field.validator"}],attrs:{type:"checkbox",value:"required"},domProps:{checked:Array.isArray(e.validator)?t._i(e.validator,"required")>-1:e.validator},on:{__c:function(n){var i=e.validator,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s="required",r=t._i(i,s);a?r<0&&(e.validator=i.concat(s)):r>-1&&(e.validator=i.slice(0,r).concat(i.slice(r+1)))}else e.validator=a}}}),t._v(" 必填项")])]),t._v(" "),n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.hideLabel,expression:"field.hideLabel"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.hideLabel)?t._i(e.hideLabel,null)>-1:e.hideLabel},on:{__c:function(n){var i=e.hideLabel,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s=null,r=t._i(i,s);a?r<0&&(e.hideLabel=i.concat(s)):r>-1&&(e.hideLabel=i.slice(0,r).concat(i.slice(r+1)))}else e.hideLabel=a}}}),t._v(" 隐藏标签")])])]):t._e(),t._v(" "),["radio","checkbox","dropdown"].indexOf(e.type)>-1?n("div",[n("div",{staticClass:"form-field-options",attrs:{id:"form-field-options"}},t._l(e.options,function(e,o){return n("div",{staticClass:"form-field-option"},[n("input",{staticClass:"form-control",attrs:{type:"text",id:"field-option-"+i+"-"+o,placeholder:"新选项"},domProps:{value:e},on:{input:function(e){t.updateOption(i,o,e.target.value)}}}),t._v(" "),n("span",{staticClass:"glyphicon glyphicon-remove form-field-option-remove",on:{click:function(e){t.removeOption(i,o)}}})])})),t._v(" "),n("div",{staticClass:"form-field-addoption"},[n("div",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){t.addOption(i)}}},[t._v("+ 添加选项")])])]):t._e(),t._v(" "),n("div",{staticClass:"btn btn-success btn-sm fr",on:{click:function(e){t.editingField=null}}},[n("span",{staticClass:"glyphicon glyphicon-ok"})]),t._v(" "),n("div",{staticStyle:{clear:"both"}})]):t._e()])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("sidebar",{attrs:{show:t.show},on:{close:function(e){t.$emit("edit-done")}}},[n("div",{staticClass:"swiper-editor-header",slot:"header"},[n("div",{staticClass:"btn btn-success",on:{click:function(e){t.$emit("edit-done")}}},[t._v("完成")])]),t._v(" "),n("div",{slot:"body"},[n("ul",{staticClass:"icons"},t._l(t.icons,function(e){return n("li",{on:{click:function(n){t.$emit("input",e)}}},[n("span",{staticClass:"glyphicon",class:"glyphicon-"+e})])}))])]):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("stats-nav",{attrs:{title:"数据概览"}}),t._v(" "),n("div",{staticClass:"content-body"},[n("table",{staticClass:"report table table-bordered table-hover"},[t._m(0),t._v(" "),n("tbody",t._l(t.report.variations,function(e){return n("tr",[n("td",[t._v(t._s(e.name))]),t._v(" "),n("td",[n("strong",[t._v(t._s(t._f("percentage")(e.cv)))])]),t._v(" "),n("td",[t._v(t._s(e.total_visitors))]),t._v(" "),n("td",[t._v(t._s(e.total_conversions))])])}))]),t._v(" "),n("p",[n("a",{attrs:{href:"javascript:;"},on:{click:function(e){t.showSplit=!0}}},[t._v("版本流量分配")])]),t._v(" "),n("ab-split",{attrs:{"page-id":t.page.id,variations:t.page.variations,show:t.showSplit},on:{"update-split":t.updateTraficSplit,close:function(e){t.showSplit=!1}}}),t._v(" "),n("div",{staticClass:"data-tab"},[n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn-default",class:{active:"conversionRate"===t.currentTab},on:{click:function(e){t.currentTab="conversionRate"}}},[t._v("转化率")]),t._v(" "),n("div",{staticClass:"btn btn-default",class:{active:"conversions"===t.currentTab},on:{click:function(e){t.currentTab="conversions"}}},[t._v("转化次数")]),t._v(" "),n("div",{staticClass:"btn btn-default",class:{active:"visitors"===t.currentTab},on:{click:function(e){t.currentTab="visitors"}}},[t._v("访客数")])])]),t._v(" "),n("chart",{attrs:{type:"line",stats:t.stats,options:t.chartOptions}})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("版本")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("转化率")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("访客数")]),t._v(" "),n("th",{attrs:{width:"120px"}},[t._v("转化次数")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-group",on:{click:function(e){t.switchPageGroup([t.pageGroup])}}},[n("div",{staticClass:"page-group-header"},[n("div",{staticClass:"page-group-name"},[t.editing?n("div",{staticClass:"input-group",on:{click:function(t){t.stopPropagation()}}},[n("input",{ref:"nameInput",staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.pageGroup.name},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13)?void t.rename(e):null},blur:t.rename
}}),t._v(" "),t._m(0)]):n("span",[t._v(t._s(t.pageGroup.name))])])]),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"page-group-footer"},[n("div",{staticClass:"btn-group fr"},[n("div",{staticClass:"btn btn-default btn-sm",on:{click:function(e){e.stopPropagation(),t.setEditingPageGroup(t.pageGroup)}}},[t._v("改名 "),n("span",{staticClass:"glyphicon glyphicon-pencil"})]),t._v(" "),n("div",{staticClass:"btn btn-default btn-sm",on:{click:function(e){e.stopPropagation(),t.remove(e)}}},[t._v("删除 "),n("span",{staticClass:"glyphicon glyphicon-trash"})])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group-btn"},[n("div",{staticClass:"btn btn-success"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-group-body"},[n("span",{staticClass:"glyphicon glyphicon-folder-open"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"box",staticClass:"element",class:{"active-highlighted":t.actived},style:{display:t.element.fixed&&t.documentScrollPx<t.element.fixedScrollPx?"none":"block",left:t.element.fixed?t.element.fixedPosition.left:t.element.style[t.workspace.version].left,top:t.element.fixed?t.element.fixedPosition.top:t.element.style[t.workspace.version].top,bottom:t.element.fixed?t.element.fixedPosition.bottom:"",right:t.element.fixed?t.element.fixedPosition.right:"",width:t.element.style[t.workspace.version].width,height:t.element.style[t.workspace.version].height||"auto",transition:t.actived||t.resizing||t.dragging?"none":"all .3s"},on:{click:t.selectElement,mousedown:function(e){e.stopPropagation(),t.onDragBegin(e)}}},[n("div",{staticClass:"el-content",class:{outline:t.workspace.activeElementId===t.elementId},style:{zIndex:t.element.style[t.workspace.version].zIndex},attrs:{id:"element-"+t.elementId}},[t._t("content")],2),t._v(" "),t.resizable?t._l({n:"top",e:"right",s:"bottom",w:"left"},function(e,i){return t.hasResizer(i)?n("resizer",{key:i,class:"resizable-"+i,attrs:{autoStyle:!1,side:e,minSize:t.sizeRange.minHeight},on:{"resize-start":t.resizeStart,"resize-end":t.resizeAction,resizing:t.resizeAction}}):t._e()}):t._e(),t._v(" "),t.workspace.activeElementId===t.elementId?n("div",{staticClass:"el-toolbar",class:t.toolbarPosition,on:{mousedown:function(t){t.stopPropagation()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"main"===t.buttonGroup,expression:"buttonGroup === 'main'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[t._t("main-buttons-extend"),t._v(" "),t.fixedEditable?n("tooltip",{staticClass:"btn btn-default",attrs:{content:"固定位置"},nativeOn:{click:function(e){e.stopPropagation(),t.editFixed(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-pushpin"})])]):t._e(),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"复制一个"},nativeOn:{click:function(e){e.stopPropagation(),t.duplicateElement(t.elementId)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-duplicate"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"移到顶层"},nativeOn:{click:function(e){t.indexElement([t.elementId,"top"])}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-circle-arrow-up"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"移到底层"},nativeOn:{click:function(e){t.indexElement([t.elementId,"bottom"])}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-circle-arrow-down"})])]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"删除"},nativeOn:{click:function(e){t.removeElement([t.elementId])}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-trash"})])])],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"fixedEditing"===t.buttonGroup,expression:"buttonGroup === 'fixedEditing'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[t._m(0)]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"position"===t.buttonGroup,expression:"buttonGroup === 'position'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[n("div",{staticClass:"btn btn-success"},[t._v("X: "+t._s(t.elPositionInPage.left)+"   Y: "+t._s(t.elPositionInPage.top))])]),t._v(" "),t._t("button-groups")],2):t._e(),t._v(" "),t.fixedEditable?n("fixed-editor",{attrs:{show:t.fixedEditing,value:t.element},on:{input:t.changFixed}}):t._e(),t._v(" "),t._t("sidebar")],2)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn btn-success"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preview-header"},[n("div",{staticClass:"home"},[n("router-link",{staticClass:"home-link",attrs:{to:"/editor/"+t.$route.params.pageId+"/"+t.$route.params.variationId}},[n("span",{staticClass:"glyphicon glyphicon-chevron-left"})])],1),t._v(" "),n("dropdown",{attrs:{show:t.showVariations},on:{toggle:function(e){t.showVariations=!t.showVariations}}},[n("div",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[n("div",[n("span",[t._v(t._s(t.currentVariation.name))]),t._v("  "),n("span",{staticClass:"caret"})])]),t._v(" "),n("ul",{staticClass:"dropdown-menu variations-menu",slot:"dropdown-menu"},t._l(t.variations,function(e){return n("li",{class:{active:e.id===t.currentVariation.id}},[n("router-link",{attrs:{to:"/preview/"+t.$route.params.pageId+"/"+e.id}},[t._v(t._s(e.name))])],1)}))]),t._v(" "),t._t("versionSwitcher"),t._v(" "),n("div",{staticClass:"btn-toolbar fr"})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"workspace",on:{mousedown:function(e){e.preventDefault(),t.onDragBegin(e)}}},[n("div",{ref:"contentArea",style:{height:t.height+"px",width:t.workspace.width+"px",marginLeft:-t.workspace.width/2+"px"},attrs:{id:"content-area"}},[n("div",{attrs:{id:"alignment-lines"}},t._l(["vertical","horizontal"],function(e){return n("div",{staticClass:"lines-group"},t._l([1,2,3],function(i){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.alignLines[e].length>=i,expression:"alignLines[i].length >= j"}],staticClass:"align-line",class:"align-line-"+e,style:t.lineStyle(t.alignLines[e][i-1])},[t.alignLines[e][i-1]?n("div",{staticStyle:{position:"relative",width:"100%",height:"100%"}},t._l(t.alignLines[e][i-1].dots,function(o){return n("div",{staticClass:"dot",style:t.dotStyle(o,t.alignLines[e][i-1])})})):t._e()])}))}))]),t._v(" "),n("fixed-container"),t._v(" "),n("div",{staticClass:"section-wrapper"},t._l(t.sections,function(t,e){return n("page-section",{key:e,attrs:{"section-id":e,section:t}})})),t._v(" "),n("section-editor"),t._v(" "),n("image-library"),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.selectionVisible,expression:"selectionVisible"}],ref:"selection",style:{left:t.selection.left+"px",top:t.selection.top+"px",width:t.selection.width+"px",height:t.selection.height+"px"},attrs:{id:"multi-selection"}}),t._v(" "),n("multi-select",{attrs:{wrapperStyle:{height:t.height+"px",width:t.workspace.width+"px",marginLeft:-t.workspace.width/2+"px"},visible:t.selectionArea.visible,innerStyle:t.selectionStyle(t.selectionArea)}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"sidebar"}},[t.show?n("div",{staticClass:"sidebar",on:{mousedown:function(t){t.stopPropagation()}}},[n("div",{staticClass:"sidebar-header"},[t._t("header")],2),t._v(" "),n("div",{ref:"sidebarBody",staticClass:"sidebar-body",on:{mouseenter:function(e){t.bodyScrollable=!1},mouseleave:function(e){t.bodyScrollable=!0}}},[t._t("body")],2)]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),t._v(" "),n("div",{staticClass:"content-body container-fluid"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-2"},[n("div",{ref:"avatar",staticClass:"avatar-wrapper",on:{click:t.avatarSelect}},[n("tooltip",{staticClass:"avatar",attrs:{content:"设置头像"}},[t.avatarClip?n("img",{attrs:{src:t.avatarClip}}):n("span",{staticClass:"glyphicon glyphicon-user"})]),t._v(" "),n("form",{staticClass:"hidden",attrs:{hidden:"",enctype:"multipart/form-data"}},[n("input",{ref:"file",attrs:{type:"file",accept:"image/x-png,image/jpg,image/jpeg"},on:{change:t.avatarLoad}})])],1)]),t._v(" "),n("div",{staticClass:"col-md-4"}),t._v(" "),n("div",{staticClass:"col-md-3"},[n("form",{attrs:{role:"form"},on:{submit:function(t){t.preventDefault()}}},[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"name-input"}},[t._v("名字")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name-input",name:"username"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||(t.user.name=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"login-email"}},[t._v("登陆邮箱")]),t._v(" "),n("input",{staticClass:"form-control",attrs:{type:"email",id:"login-email",disabled:""},domProps:{value:t.user.email}})]),t._v(" "),n("div",{staticClass:"checkbox"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.changePassword,expression:"changePassword"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.changePassword)?t._i(t.changePassword,null)>-1:t.changePassword},on:{__c:function(e){var n=t.changePassword,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);o?s<0&&(t.changePassword=n.concat(a)):s>-1&&(t.changePassword=n.slice(0,s).concat(n.slice(s+1)))}else t.changePassword=o}}}),t._v(" 修改密码\n            ")])]),t._v(" "),t.changePassword?[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.oldPassword,expression:"oldPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"旧密码",name:"old-password"},domProps:{value:t.oldPassword},on:{input:function(e){e.target.composing||(t.oldPassword=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],staticClass:"form-control",attrs:{type:"password",placeholder:"新密码",name:"new-password"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword2,expression:"newPassword2"}],staticClass:"form-control",attrs:{type:"password",placeholder:"再次输入新密码",name:"confirm-password"},domProps:{value:t.newPassword2},on:{input:function(e){e.target.composing||(t.newPassword2=e.target.value)}}})])]:t._e(),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"submit"},on:{click:function(e){e.stopPropagation(),t.save(e)}}},[t._v("保存")])],2)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-header"},[n("h4",[t._v("我的帐号")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-footer"},[n("span",[t._v("© 2017 优矩广告")]),t._v(" "),n("div",{staticClass:"footer-nav"},[t._v("\n    需要帮助请发邮件至："),n("a",{attrs:{href:"mailto:support@ujupage.com"}},[t._v("support@ujupage.com")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,draggable:t.draggable,resize:t.resize,resizable:t.resizable},on:{"change-button-group":t.changeButtonGroup,"change-draggable":t.changeDraggable,"drag-start":t.editDone}},[n("div",{on:{dblclick:t.edit},slot:"content"},[n("div",{staticClass:"el-overlay"}),t._v(" "),t._l(t.localElement.fields,function(e,i){return n("div",{staticClass:"form-group"},["text"===e.type?[n("label",{class:{"label-inside":t.localElement.props.labelInside},style:{color:t.getColor(t.localElement.props.labelColor)}},[t._v(t._s(e.label))]),t._v(" "),n("input",{staticClass:"form-control form-field-input",style:t.fieldStyles,attrs:{type:"text"}})]:t._e(),t._v(" "),"textarea"===e.type?[n("label",{class:{"label-inside":t.localElement.props.labelInside},style:{color:t.getColor(t.localElement.props.labelColor)}},[t._v(t._s(e.label))]),t._v(" "),n("textarea",{staticClass:"form-control",style:t.fieldStyles,attrs:{rows:"3"}})]:t._e(),t._v(" "),"radio"===e.type?[e.hideLabel?t._e():n("div",[n("label",{style:{color:t.getColor(t.localElement.props.labelColor)}},[t._v(t._s(e.label))])]),t._v(" "),t._l(e.options,function(i){return n("div",{class:{"options-in-line":e.optionsInLine},attrs:{"track-by":"$index"}},[n("label",{style:{color:t.getColor(t.localElement.props.labelColor)}},[n("input",{attrs:{type:"radio"}}),t._v(" "+t._s(i))])])})]:t._e(),t._v(" "),"checkbox"===e.type?[e.hideLabel?t._e():n("div",[n("label",{style:{color:t.getColor(t.localElement.props.labelColor)}},[t._v(t._s(e.label))])]),t._v(" "),t._l(e.options,function(i){return n("div",{class:{"options-in-line":e.optionsInLine},attrs:{"track-by":"$index"}},[n("label",{style:{color:t.getColor(t.localElement.props.labelColor)}},[n("input",{attrs:{type:"checkbox"}}),t._v(" "+t._s(i))])])})]:t._e(),t._v(" "),"dropdown"===e.type?[n("select",{staticClass:"form-control form-field-input",style:t.fieldStyles},[n("option",{attrs:{value:""}},[t._v(t._s(e.label))])])]:t._e(),t._v(" "),"china-state"===e.type?[e.hideLabel?t._e():n("div",[n("label",{style:{color:t.getColor(t.localElement.props.labelColor)}},[t._v(t._s(e.label))])]),t._v(" "),n("div",[n("select",{staticClass:"form-control form-field-input",staticStyle:{float:"left","margin-right":"2%",width:"32%"},style:t.fieldStyles},[n("option",{attrs:{value:""}},[t._v("省份")])]),t._v(" "),n("select",{staticClass:"form-control form-field-input",staticStyle:{float:"left","margin-right":"2%",width:"32%"},style:t.fieldStyles},[n("option",{attrs:{value:""}},[t._v("城市")])]),t._v(" "),n("select",{staticClass:"form-control form-field-input",staticStyle:{float:"left",width:"32%"},style:t.fieldStyles},[n("option",{attrs:{value:""}},[t._v("区县")])]),t._v(" "),n("div",{staticStyle:{clear:"both"}})])]:t._e()],2)}),t._v(" "),n("div",{staticClass:"form-button"},[n("div",{class:{"element-button-text":!t.localElement.button.image},style:t.buttonStyles,slot:"content"},[t.localElement.button.image?n("img",{style:{width:"100%",height:"auto"},attrs:{src:t.localElement.button.image},on:{mousedown:function(t){t.preventDefault()}}}):n("span",[t._v(t._s(t.localElement.button.text))])])])],2),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"编辑"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("编辑")])]),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup,expression:"buttonGroup === 'edit'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[n("div",{staticClass:"btn btn-success"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])]),t._v(" "),n("form-editor",{attrs:{show:t.editing},on:{"edit-done":t.editDone,save:t.saveElement},slot:"sidebar",model:{value:t.localElement,callback:function(e){t.localElement=e},expression:"localElement"}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"date-picker-wrap btn-group btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[n("div",[n("span",[t._v(t._s(t.displayRange))]),t._v("\n       "),n("span",{staticClass:"glyphicon",class:"glyphicon-menu-down"})]),t._v(" "),n("date-picker",{staticClass:"date-picker",attrs:{editable:!1,type:"daterange",align:"right",placeholder:"请输入日期","picker-options":t.pickerOptions},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"element-wrapper"},[n("element-common",{attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,resize:t.resize,resizable:t.resizable,dimensionContraint:t.constraints},on:{"change-button-group":t.changeButtonGroup,"change-draggable":t.changeDraggable}},[n("div",{staticClass:"element-countdown",slot:"content"},[n("div",{staticClass:"element-countdown-content"},[n("div",{staticClass:"countdown-item"},[n("div",{staticClass:"timer-label",style:t.labelStyle},[t._v("日")]),t._v(" "),n("div",{staticClass:"timer-time",style:t.timerStyle},[t._v("00")])]),t._v(" "),n("div",{staticClass:"countdown-seperator"},[n("div",{staticClass:"timer-label"}),t._v(" "),n("div",{staticClass:"timer-seperator"},[t._v(":")])]),t._v(" "),n("div",{staticClass:"countdown-item"},[n("div",{staticClass:"timer-label",style:t.labelStyle},[t._v("时")]),t._v(" "),n("div",{staticClass:"timer-time",style:t.timerStyle},[t._v("00")])]),t._v(" "),n("div",{staticClass:"countdown-seperator"},[n("div",{staticClass:"timer-label"}),t._v(" "),n("div",{staticClass:"timer-seperator"},[t._v(":")])]),t._v(" "),n("div",{staticClass:"countdown-item"},[n("div",{staticClass:"timer-label",style:t.labelStyle},[t._v("分")]),t._v(" "),n("div",{staticClass:"timer-time",style:t.timerStyle},[t._v("00")])]),t._v(" "),n("div",{staticClass:"countdown-seperator"},[n("div",{staticClass:"timer-label"}),t._v(" "),n("div",{staticClass:"timer-seperator"},[t._v(":")])]),t._v(" "),n("div",{staticClass:"countdown-item"},[n("div",{staticClass:"timer-label",style:t.labelStyle},[t._v("秒")]),t._v(" "),n("div",{staticClass:"timer-time",style:t.timerStyle},[t._v("00")])])])]),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"编辑"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("编辑")])]),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup,expression:"buttonGroup === 'edit'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[n("div",{staticClass:"btn btn-success"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])])],2),t._v(" "),n("timer-editor",{attrs:{show:t.editing},on:{"edit-done":t.editDone,"edit-change":t.editChange},model:{value:t.timerElement.data,callback:function(e){t.timerElement.data=e},expression:"timerElement.data"}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{show:t.show},on:{toggle:function(e){t.show=!t.show}}},[t._t("default",[n("div",{staticClass:"btn btn-default project-name"},[t._v(t._s(t.currentProject.name))]),t._v(" "),n("div",{staticClass:"btn btn-default dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[n("span",{staticClass:"caret"})])]),t._v(" "),n("ul",{staticClass:"dropdown-menu projects-menu",slot:"dropdown-menu"},[t._l(t.projects,function(e){return n("li",[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){t.switchProject([e])}}},[t._v(t._s(e.name))])])}),t._v(" "),n("li",{staticClass:"divider",attrs:{role:"separator"}}),t._v(" "),2==t.$store.state.user.current.id?n("li",[n("a",{attrs:{href:"javascript:;"},on:{click:t.newProject}},[n("span",{staticClass:"glyphicon glyphicon-plus"}),t._v(" 新建项目")])]):t._e()],2)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dropdown",{attrs:{show:t.show},on:{toggle:function(e){t.show=!t.show}}},[t._t("default",[n("div",{staticClass:"color-button dropdown-toggle",style:{background:t.getColor(t.color)},attrs:{"data-toggle":"dropdown"}})]),t._v(" "),n("div",{staticClass:"dropdown-menu",class:{"dropdown-menu-right":"right"===t.position},slot:"dropdown-menu"},[t._l(t.colorSet,function(e,i){return n("div",{staticClass:"color-block",class:{selected:i.toString()===t.color},style:{background:e},on:{click:function(e){t.setColor(i)}}})}),t._v(" "),n("div",{staticClass:"common-color-blocks-wrapper"},[n("div",{staticClass:"color-block common-color-block",class:{selected:"#000"===t.color},staticStyle:{background:"#000",color:"#fff"},on:{click:function(e){t.setColor("#000")}}},[t._v("黑")]),t._v(" "),n("div",{staticClass:"color-block common-color-block",class:{selected:"#fff"===t.color},staticStyle:{background:"#fff"},on:{click:function(e){t.setColor("#fff")}}},[t._v("白")]),t._v(" "),n("div",{staticClass:"color-block common-color-block",class:{selected:"#ccc"===t.color},staticStyle:{background:"#bbb"},on:{click:function(e){t.setColor("#ccc")}}},[t._v("灰")]),t._v(" "),n("div",{staticClass:"color-block common-color-block",class:{selected:""===t.color},on:{click:function(e){t.setColor("")}}},[t._v("透")]),t._v(" "),n("div",{staticStyle:{clear:"both"}})]),t._v(" "),n("div",{staticClass:"input-group color-block",on:{mousedown:function(t){t.stopPropagation()}}},[n("el-popover",{ref:"picker",staticClass:"picker-popover",attrs:{width:"230",trigger:"click",content:"dddd"}},[n("color-selector",{attrs:{c:t.getColor(t.color)},on:{"on-change":t.selectColor}})],1),t._v(" "),n("div",{directives:[{name:"popover",rawName:"v-popover:picker",arg:"picker"}],staticClass:"input-group-addon",style:{background:t.getColor(t.color)},on:{mousedown:t.inputFocus}},[t._v("   ")]),t._v(" "),n("input",{staticClass:"form-control input-text-shadow",attrs:{type:"text",placeholder:"自定义颜色"},domProps:{value:t.getColor(t.color)},on:{input:t.inputColor,mousedown:function(e){e.stopPropagation(),t.inputFocus(e)},blur:function(e){e.stopPropagation(),t.inputBlur(e)}}}),t._v(" "),n("div",{staticClass:"input-group-btn",on:{click:t.inputDone}},[n("div",{staticClass:"btn btn-primary"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])],1)],2)],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"btn",class:{active:t.value==t.values[1],"btn-success":"success"==t.type,"btn-warning":"warning"==t.type,"btn-info":"info"==t.type,"btn-danger":"danger"==t.type,"btn-default":"default"==t.type,"btn-primary":"primary"==t.type},on:{click:t.toggleValue}},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("color-slider",{attrs:{max:360},on:{"on-change":t.onChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[n("div",{staticClass:"color-hue"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("sidebar-part",{attrs:{title:"按钮文字",expand:!0,quickSelector:!1}},[n("div",{slot:"content"},[n("div",{staticClass:"input-group",staticStyle:{"margin-bottom":"10px"}},[n("div",{staticClass:"input-group-addon"},[t._v(" 文字 ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.button.text,expression:"button.text"}],staticClass:"form-control input-text-shadow",attrs:{type:"text"},domProps:{value:t.button.text},on:{input:function(e){e.target.composing||(t.button.text=e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-btn"},[n("font-size",{staticStyle:{"z-index":"3"},attrs:{position:"right"},model:{value:t.button.props.fontSize,callback:function(e){t.button.props.fontSize=e},expression:"button.props.fontSize"}})],1)]),t._v(" "),n("checkbox-button",{attrs:{values:["normal","bold"]},model:{value:t.button.props.fontWeight,callback:function(e){t.button.props.fontWeight=e},expression:"button.props.fontWeight"}},[t._v("加粗")]),t._v(" "),n("div",{staticClass:"btn-toolbar",staticStyle:{float:"right"}},[n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn-default"},[t._v("背景")]),t._v(" "),n("color-picker",{attrs:{position:"right"},model:{value:t.button.props.backgroundColor,callback:function(e){t.button.props.backgroundColor=e},expression:"button.props.backgroundColor"}},[n("div",{staticClass:"btn btn-default color-btn",style:{background:t.getColor(t.button.props.backgroundColor)},attrs:{"data-toggle":"dropdown"}})])],1),t._v(" "),n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn-default"},[t._v("文字")]),t._v(" "),n("color-picker",{attrs:{position:"right"},model:{value:t.button.props.color,callback:function(e){t.button.props.color=e},expression:"button.props.color"}},[n("div",{staticClass:"btn btn-default color-btn",style:{background:t.getColor(t.button.props.color)},attrs:{"data-toggle":"dropdown"}})])],1)])],1)]),t._v(" "),n("border-editor",{model:{value:t.button.style.border,callback:function(e){t.button.style.border=e},expression:"button.style.border"}}),t._v(" "),n("shadow-editor",{model:{value:t.button.style.shadow,callback:function(e){t.button.style.shadow=e},expression:"button.style.shadow"}}),t._v(" "),n("div",{staticClass:"sidebar-block"},[n("div",{staticClass:"input-group"},[n("div",{staticClass:"input-group-addon"},[t._v(" 圆角 ")]),t._v(" "),n("slider",{staticClass:"form-control",attrs:{max:30},model:{value:t.borderRadius,callback:function(e){t.borderRadius=e},expression:"borderRadius"}})],1)]),t._v(" "),n("div",{staticClass:"sidebar-block"},[n("image-picker",{model:{value:t.button.image,callback:function(e){t.button.image=e},expression:"button.image"}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,dimensionContraint:t.constraints,resizable:t.resizable,resize:t.resize},on:{"change-button-group":t.changeButtonGroup,"drag-start":t.editDone}},[n("div",{staticClass:"element-swiper",on:{dblclick:function(e){e.stopPropagation(),t.edit(e)}},slot:"content"},[t.hasImages?n("div",{staticClass:"swiper-container"},[n("div",{staticClass:"swiper-image-list"},[n("ul",{on:{mousedown:function(t){t.preventDefault()}}},t._l(t.localElement.data.images,function(e,i){return n("li",{class:{active:t.isActive(i)}},[n("img",{attrs:{src:e}})])}))]),t._v(" "),n("div",{staticClass:"swiper-bullets"},[n("ul",t._l(t.localElement.data.images.length-1,function(t){return n("li")}))]),t._v(" "),t.localElement.data.button?n("div",{staticClass:"swiper-buttons"},[n("a",{staticClass:"button-prev"},[t._v("〈")]),t._v(" "),n("a",{staticClass:"button-next"},[t._v("〉")])]):t._e()]):n("div",{staticClass:"swiper-placeholder"},[n("p",[t._v("轮播图"),n("br"),n("small",[t._v("双击编辑图片")])])])]),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"编辑"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("编辑")]),t._v(" "),n("div",{staticClass:"btn btn-primary",attrs:{title:"下一张"},on:{click:function(e){e.stopPropagation(),t.nextSlide(e)}}},[t._v("下一张")])]),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup,expression:"buttonGroup === 'edit'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[n("div",{staticClass:"btn btn-success"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])])]),t._v(" "),n("swiper-editor",{attrs:{id:t.elementId,show:t.editing,images:t.localElement.data.images},on:{"edit-done":t.editDone,"images-change":t.imagesChange},slot:"sidebar",model:{value:t.localElement.data,callback:function(e){t.localElement.data=e},expression:"localElement.data"}})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-item"},[n("div",{staticClass:"page-item-header"},[n("div",{staticClass:"page-item-name"},[n("router-link",{attrs:{to:"/editor/"+t.pageItem.id}},[t._v(t._s(t.pageItem.name))])],1),t._v(" "),n("div",{staticClass:"page-item-url"},[t.pageItem.url?n("a",{attrs:{href:"http://www.juyepage.com/"+t.pageItem.url,target:"_blank"}},[t._v("www.juyepage.com/"+t._s(t.pageItem.url))]):n("span",[t._v("未发布")])])]),t._v(" "),n("div",{staticClass:"page-item-body"}),t._v(" "),n("div",{staticClass:"page-item-footer"},[n("div",{staticClass:"btn-group fr"},[n("router-link",{staticClass:"btn btn-default btn-sm",attrs:{to:"/leads/"+t.pageItem.id}},[t._v("\n        商机 "),n("span",{staticClass:"glyphicon glyphicon-user"})]),t._v(" "),n("router-link",{staticClass:"btn btn-default btn-sm",attrs:{to:"/stats/"+t.pageItem.id+"/overview"}},[t._v("\n        分析 "),n("span",{staticClass:"glyphicon glyphicon-stats"})]),t._v(" "),n("dropdown",{attrs:{show:t.showMenu,dir:"up"},on:{toggle:function(e){t.showMenu=!t.showMenu}}},[t._t("default",[n("div",{staticClass:"btn btn-default btn-sm dropdown-toggle",attrs:{"data-toggle":"dropdown"}},[n("span",{staticClass:"glyphicon glyphicon-cog"}),t._v(" "),n("span",{staticClass:"caret"})])]),t._v(" "),n("div",{staticClass:"dropdown-menu dropdown-menu-right page-menu",slot:"dropdown-menu"},[t.moving?n("div",{staticClass:"move-to-group-menu"},[n("div",{staticClass:"move-to-group-header"},[t._v("移动到文件夹")]),t._v(" "),n("div",{staticClass:"move-to-group-body"},[n("div",{staticClass:"move-to-group-item",on:{click:function(e){t.moveTo(t.defaultPageGroup)}}},[t._v("根目录")]),t._v(" "),t._l(t.pageGroups,function(e){return n("div",{staticClass:"move-to-group-item",on:{click:function(n){t.moveTo(e)}}},[t._v(t._s(e.name))])})],2)]):n("div",{staticClass:"btn-group-vertical"},[n("div",{staticClass:"btn btn-danger btn-sm",on:{click:t.remove}},[t._v("删除 "),n("span",{staticClass:"glyphicon glyphicon-trash"})]),t._v(" "),n("div",{staticClass:"btn btn-default btn-sm",on:{click:t.rename}},[t._v("改名 "),n("span",{staticClass:"glyphicon glyphicon-pencil"})]),t._v(" "),n("div",{staticClass:"btn btn-default btn-sm",on:{click:t.duplicate}},[t._v("复制 "),n("span",{staticClass:"glyphicon glyphicon-duplicate"})]),t._v(" "),n("div",{staticClass:"btn btn-default btn-sm",on:{click:function(e){e.stopPropagation(),t.move(e)}}},[t._v("移动 "),n("span",{staticClass:"glyphicon glyphicon-copy"})])])])],2)],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("element-common",{ref:"element",attrs:{element:t.element,"section-id":t.sectionId,"element-id":t.elementId,"button-group":t.buttonGroup,draggable:t.draggable,resize:t.resize,resizable:t.resizable,fixedEditable:!0},on:{"change-button-group":t.changeButtonGroup,"change-draggable":t.changeDraggable,"drag-start":t.editDone}},[n("div",{ref:"content",class:{"element-button-text":!t.localElement.image},style:t.buttonStyles,on:{dblclick:t.edit},slot:"content"},[t.localElement.image?n("img",{style:{width:"auto","max-width":"100%",height:"auto"},attrs:{src:t.localElement.image},on:{mousedown:function(t){t.preventDefault()},load:t.imageOnload}}):n("span",[t._v(t._s(t.localElement.text))])]),t._v(" "),n("template",{slot:"main-buttons-extend"},[n("div",{staticClass:"btn btn-primary",attrs:{title:"编辑"},on:{click:function(e){e.stopPropagation(),t.edit(e)}}},[t._v("编辑")]),t._v(" "),n("tooltip",{staticClass:"btn btn-default",attrs:{content:"链接"},nativeOn:{click:function(e){t.editLink(e)}}},[n("div",[n("span",{staticClass:"glyphicon glyphicon-link"})])])],1),t._v(" "),n("template",{slot:"button-groups"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===t.buttonGroup,expression:"buttonGroup === 'edit'"}],staticClass:"btn-group el-btn-group",attrs:{role:"group"}},[n("div",{staticClass:"btn btn-success"},[n("span",{staticClass:"glyphicon glyphicon-ok"})])]),t._v(" "),"link"===t.buttonGroup?n("link-editor",{attrs:{
"link-editing":"link"===t.buttonGroup,"link-obj":t.linkObj},on:{"link-edit-done":t.editLinkDone}}):t._e()],1),t._v(" "),n("button-editor",{attrs:{show:t.editing},on:{"edit-done":t.editDone},slot:"sidebar",model:{value:t.localElement,callback:function(e){t.localElement=e},expression:"localElement"}})],2)},staticRenderFns:[]}},,,,function(t,e){}]);
//# sourceMappingURL=app.51b34951c859094b5a28.js.map