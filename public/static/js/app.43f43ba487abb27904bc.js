webpackJsonp([5,3],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(5),i=o(r),u=n(56),a=o(u),s=n(239),c=o(s),d=n(61),f=o(d),l=n(186),E=o(l);n(153),i["default"].use(c["default"]),i["default"].http.options.root="/api",i["default"].http.interceptors.push(function(e,t){f["default"].dispatch("loading"),t(function(e){e.ok&&f["default"].dispatch("loadingDone")})}),new i["default"]({el:"#app",router:a["default"],store:f["default"],render:function(e){return e(E["default"])}})},6:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOAD_PROJECTS="LOAD_PROJECTS",t.CREATE_PROJECT="CREATE_PROJECT",t.RENAME_PROJECT="RENAME_PROJECT",t.REMOVE_PROJECT="REMOVE_PROJECT",t.SET_CURRENT_PROJECT="SET_CURRENT_PROJECT",t.LOAD_MEMBERS="LOAD_MEMBERS",t.LOAD_PAGEGROUPS="LOAD_PAGEGROUPS",t.EMPTY_PAGEGROUPS="EMPTY_PAGEGROUPS",t.CREATE_PAGEGROUP="CREATE_PAGEGROUP",t.REMOVE_PAGEGROUP="REMOVE_PAGEGROUP",t.RENAME_PAGEGROUP="RENAME_PAGEGROUP",t.SET_EDITING_PAGEGROUP="SET_EDITING_PAGEGROUP",t.SET_CURRENT_PAGEGROUP="SET_CURRENT_PAGEGROUP",t.LOAD_PAGES="LOAD_PAGES",t.EMPTY_PAGES="EMPTY_PAGES",t.CREATE_PAGE="CREATE_PAGE",t.RENAME_PAGE="RENAME_PAGE",t.REMOVE_PAGE="REMOVE_PAGE",t.DUPLICATE_PAGE="DUPLICATE_PAGE",t.MOVE_PAGE="MOVE_PAGE",t.WARNING="WARNING",t.CONFIRM="CONFIRM",t.GET_INPUT="GET_INPUT",t.CLOSE_MESSAGE_BOX="CLOSE_MESSAGE_BOX",t.LOADING="LOADING",t.LOAD_FAILED="LOAD_FAILED",t.LOAD_DONE="LOAD_DONE",t.LOAD_VARIATION="LOAD_VARIATION",t.SAVE_CONTENT_STATE="SAVE_CONTENT_STATE",t.UNDO="UNDO",t.REDO="REDO",t.SWITCH_VERSION="SWITCH_VERSION",t.SET_COLOR_SET="SET_COLOR_SET",t.MOVE_SECTION="MOVE_SECTION",t.REMOVE_SECTION="REMOVE_SECTION",t.MODIFY_SECTION="MODIFY_SECTION",t.SET_ACTIVE_SECTION_ID="SET_ACTIVE_SECTION_ID",t.SET_ACTIVE_ELEMENT_ID="SET_ACTIVE_ELEMENT_ID",t.MODIFY_ELEMENT="MODIFY_ELEMENT",t.REPLACE_ELEMENT="REPLACE_ELEMENT",t.ADD_ELEMENT="ADD_ELEMENT",t.REMOVE_ELEMENT="REMOVE_ELEMENT",t.MOVE_ELEMENT="MOVE_ELEMENT"},34:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=o(r);t["default"]={list:function(e,t,n){var o="dashboard/page/get/"+e;i["default"].http.get(o).then(function(e){return t(e.json().pages)},function(e){return n(e.json())})},get:function(e,t,n){var o={id:19,url:"",projectId:9};t(o)},create:function(e,t,n){var o="dashboard/page/add",r={group_id:e.group_id,name:e.name};i["default"].http.post(o,r).then(function(e){return t(e.json().page)},function(e){return n(e.json())})},remove:function(e,t,n){var o="dashboard/page/remove/"+e.id;i["default"].http.get(o).then(function(e){return t(e.json())},function(e){return n(e.json())})},rename:function(e,t,n,o){var r="dashboard/page/mod",u={id:e.id,group_id:e.group_id,name:t};i["default"].http.post(r,u).then(function(e){return n(e.json())},function(e){return o(e.json())})},move:function(e,t,n,o){var r="dashboard/page/mod",u={id:e.id,group_id:t.id,name:e.name};i["default"].http.post(r,u).then(function(e){return n(e.json())},function(e){return o(e.json())})},duplicate:function(e,t,n){var o="dashboard/page/copy/"+e.id;i["default"].http.get(o).then(function(e){return t(e.json().page)},function(e){return n(e.json())})},publish:function(e,t,n){var o="page/publish/"+e;i["default"].http.get(o).then(function(e){return t(e.json())},function(e){return n(e.json())})},setUrl:function(e,t,n,o){var r="page/modurl/"+e+"/"+t;i["default"].http.get(r).then(function(e){return n(e.json())},function(e){return o(e.json())})}}},35:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=new RegExp(e+"=([^&#]*)","i"),n=t.exec(window.location.href);return null==n?null:decodeURI(n[1])};t["default"]=n},53:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=o(r);t["default"]={list:function(e,t,n){var o="dashboard/pagegroup/get/"+e.id;i["default"].http.get(o).then(function(e){return t(e.json().pagegroups)},function(e){return n(e.json())})},create:function(e,t,n){var o="dashboard/pagegroup/add",r={project_id:e.projectId,name:e.name};i["default"].http.post(o,r).then(function(e){return t(e.json().group)},function(e){return n(e.json())})},remove:function(e,t,n){var o="dashboard/pagegroup/remove/"+e.id;i["default"].http.get(o).then(function(e){return t(e.json())},function(e){return n(e.json())})},rename:function(e,t,n,o){var r="dashboard/pagegroup/mod",u={id:e.id,name:t};i["default"].http.post(r,u).then(function(e){return n(e.json())},function(e){return o(e.json())})}}},54:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=o(r);t["default"]={list:function(e,t){var n="dashboard/project/get";i["default"].http.get(n).then(function(t){return e(t.json().projects)},function(e){return t(e.json())})},create:function(e,t,n){var o="dashboard/project/add",r={name:e.name};i["default"].http.post(o,r).then(function(e){return t(e.json().project)},function(e){return n(e.json())})},remove:function(e,t,n){var o="dashboard/project/remove/"+e.id;i["default"].http.get(o).then(function(e){return t(e.json())},function(e){return n(e.json())})},rename:function(e,t,n,o){var r="dashboard/project/mod",u={id:e.id,name:t};i["default"].http.post(r,u).then(function(e){return n(e.json())},function(e){return o(e.json())})},members:function(e,t,n){var o="dashboard/project/members/get/"+e.id;i["default"].http.get(o).then(function(e){return t(e.json().users,e.json().uninvitor)},function(e){return n(e.json())})},invite:function(e,t,n,o){var r="dashboard/project/members/join/",u={project_id:t.id,email:e.email};i["default"].http.post(r,u).then(function(e){return n(e.json())},function(e){return o(e.json())})}}},55:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=o(r);t["default"]={list:function(e,t,n){var o="editor/page/variation/list/"+e;i["default"].http.get(o).then(function(e){return t(e.json().variations)},function(e){return n(e.json())})},get:function(e,t,n){var o="editor/page/variation/"+e;i["default"].http.get(o).then(function(e){return t(e.json())},function(e){return n(e.json())})},save:function(e,t,n){var o="editor/page/variation/save?id="+e.id,r={htmljson:e.content};i["default"].http.post(o,r).then(function(e){return t(e.json())},function(e){return n(e.json())})}}},56:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=o(r),u=n(240),a=o(u),s=n(182),c=o(s),d=n(188),f=o(d);i["default"].use(a["default"]);var l=function(e){return n.e(0,function(t){var n=[t(198)];e.apply(null,n)}.bind(this))},E=function(e){return n.e(1,function(t){var n=[t(190)];e.apply(null,n)}.bind(this))},p=function(e){return n.e(2,function(t){var n=[t(187)];e.apply(null,n)}.bind(this))},m=new a["default"]({mode:"history",base:e,routes:[{path:"/editor/:pageId",name:"editor",component:l},{path:"/",name:"dashboard",component:E},{path:"/account",name:"account",component:p},{path:"/login",name:"login",component:f["default"]}]});c["default"].configure({showSpinner:!1}),m.beforeEach(function(e,t,n){c["default"].start(),n()}),m.afterEach(function(e,t,n){c["default"].done()}),t["default"]=m}).call(t,"/")},57:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicatePage=t.movePage=t.renamePage=t.removePage=t.createPage=t.renamePageGroup=t.setEditingPageGroup=t.removePageGroup=t.createPageGroup=t.quitProject=t.removeMember=t.inviteMember=t.loadMembers=t.renameProject=t.removeProject=t.createProject=t.switchPageGroup=t.switchProject=t.init=void 0;var i=n(36),u=r(i),a=n(34),s=r(a),c=n(53),d=r(c),f=n(54),l=r(f),E=n(35),p=r(E),m=n(68),_=r(m),v=n(6),g=o(v),O=(t.init=function(e){var t=e.commit;l["default"].list(function(e){t(g.LOAD_PROJECTS,{projects:e});var n=(0,p["default"])("id")||_["default"].get("projectId"),o=e.find(function(e){return e.id===n})||e.find(function(e){return 1===e.is_default})||e[0];O({commit:t},o)},function(e){return t(g.LOAD_FAILED,{source:"projects",err:e.err})})},t.switchProject=function(e,t){var n=e.commit;n(g.EMPTY_PAGEGROUPS),n(g.EMPTY_PAGES),n(g.SET_CURRENT_PROJECT,{project:t}),_["default"].set("projectId",t.id,365),A({commit:n},t),d["default"].list(t,function(e){n(g.LOAD_PAGEGROUPS,{pageGroups:e});var t=e.find(function(e){return 1===e.is_default})||e[0];h({commit:n},t)},function(e){return n(g.LOAD_FAILED,{source:"pageGroups",err:e.err})})}),h=t.switchPageGroup=function(e,t){var n=e.commit;n(g.LOADING),s["default"].list(t.id,function(e){n(g.SET_CURRENT_PAGEGROUP,{pageGroup:t}),n(g.LOAD_PAGES,{pages:e})},function(e){return n(g.LOAD_FAILED,{source:"pages",err:e.err})})},A=(t.createProject=function(e,t){var n=e.commit;l["default"].create(t,function(e){n(g.CREATE_PROJECT,{project:e})},function(e){return n(g.LOAD_FAILED,{source:"createProject",err:e.err})})},t.removeProject=function(e,t){var n=e.commit;l["default"].remove(t,function(e){n(g.REMOVE_PROJECT,{project:t})},function(e){return n(g.LOAD_FAILED,{source:"removeProject",err:e.err})})},t.renameProject=function(e,t){var n=e.commit,o=(0,u["default"])(t,2),r=o[0],i=o[1];l["default"].rename(r,i,function(e){n(g.RENAME_PROJECT,{project:r,newName:i})},function(e){return n(g.LOAD_FAILED,{source:"renameProject",err:e.err})})},t.loadMembers=function(e,t){var n=e.commit;l["default"].members(t,function(e,t){n(g.LOAD_MEMBERS,{members:e,invited:t})},function(e){return n(g.LOAD_FAILED,{source:"loadMembers",err:e.err})})});t.inviteMember=function(e,t){var n=e.commit,o=e.state;l["default"].invite(t,o.projects.current,function(e){A({commit:n},o.projects.current)},function(e){return n(g.LOAD_FAILED,{source:"inviteMember",err:e.err})})},t.removeMember=function(e,t,n){e.commit},t.quitProject=function(e,t){e.commit},t.createPageGroup=function(e,t){var n=e.commit;d["default"].create(t,function(e){n(g.CREATE_PAGEGROUP,{pageGroup:e})},function(e){return n(g.LOAD_FAILED,{source:"createPageGroup",err:e.err})})},t.removePageGroup=function(e,t){var n=e.commit;d["default"].remove(t,function(e){n(g.REMOVE_PAGEGROUP,{pageGroup:t})},function(e){return n(g.LOAD_FAILED,{source:"removePageGroup",err:e.err})})},t.setEditingPageGroup=function(e,t){var n=e.commit;n(g.SET_EDITING_PAGEGROUP,{pageGroup:t})},t.renamePageGroup=function(e,t){var n=e.commit,o=e.state,r=o.pageGroups.editing;d["default"].rename(r,t,function(e){n(g.RENAME_PAGEGROUP,{pageGroup:r,newName:t})},function(e){return n(g.LOAD_FAILED,{source:"renamePageGroup",err:e.err})})},t.createPage=function(e,t){var n=e.commit;s["default"].create(t,function(e){n(g.CREATE_PAGE,{page:e})},function(e){return n(g.LOAD_FAILED,{source:"createPage",err:e.err})})},t.removePage=function(e,t){var n=e.commit;s["default"].remove(t,function(e){n(g.REMOVE_PAGE,{page:t})},function(e){return n(g.LOAD_FAILED,{source:"removePage",err:e.err})})},t.renamePage=function(e,t){var n=e.commit,o=(0,u["default"])(t,2),r=o[0],i=o[1];s["default"].rename(r,i,function(e){n(g.RENAME_PAGE,{page:r,newName:i})},function(e){return n(g.LOAD_FAILED,{source:"renamePage",err:e.err})})},t.movePage=function(e,t){var n=e.commit,o=(0,u["default"])(t,2),r=o[0],i=o[1];s["default"].move(r,i,function(e){n(g.REMOVE_PAGE,{page:r})},function(e){return n(g.LOAD_FAILED,{source:"movePage",err:e.err})})},t.duplicatePage=function(e,t){var n=e.commit;s["default"].duplicate(t,function(e){n(g.CREATE_PAGE,{page:e})},function(e){return n(g.LOAD_FAILED,{source:"duplicatePage",err:e.err})})}},58:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addElement=t.indexElement=t.resizeElement=t.moveElement=t.removeElement=t.setActiveElementId=t.setColorSet=t.switchVersion=t.redo=t.undo=t.setActiveSectionId=t.modifySection=t.moveSection=t.loadVariation=t.pageInit=void 0;var i=n(36),u=r(i),a=n(34),s=r(a),c=n(55),d=r(c),f=n(6),l=o(f),E=n(35),p=r(E),m=n(4),_=(t.pageInit=function(e,t){var n=e.commit;s["default"].get(t,function(e){d["default"].list(t,function(t){e.variations=t,n(l.LOAD_PAGE,e);var o=(0,p["default"])("vid")||t[0].id;_({commit:n},o)})})},t.loadVariation=function(e,t){var n=e.commit;d["default"].get(t,function(e){n(l.LOAD_VARIATION,{content:e})})});t.moveSection=function(e,t){var n=e.commit,o=e.state,r=(0,u["default"])(t,2),i=r[0],a=r[1],s=a,c=a;"down"===i&&a<o.editor.content.sections.length-1&&s++,"up"===i&&a>0&&s--,c!==s&&(n(l.MOVE_SECTION,{sourceId:c,targetId:s}),n(l.SAVE_CONTENT_STATE))},t.modifySection=function(e,t){var n=e.commit,o=(0,u["default"])(t,2),r=o[0],i=o[1];n(l.MODIFY_SECTION,{sectionId:r,style:i}),n(l.SAVE_CONTENT_STATE)},t.setActiveSectionId=function(e,t){var n=e.commit;n(l.SET_ACTIVE_SECTION_ID,{sectionId:t})},t.undo=function(e){var t=e.commit;t(l.UNDO)},t.redo=function(e){var t=e.commit;t(l.REDO)},t.switchVersion=function(e,t){var n=e.commit;n(l.SWITCH_VERSION,{version:t})},t.setColorSet=function(e,t){var n=e.commit,o=e.state;t!==o.editor.content.colorSet&&(n(l.SET_COLOR_SET,{colorSet:t}),n(l.SAVE_CONTENT_STATE))},t.setActiveElementId=function(e,t){var n=e.commit;n(l.SET_ACTIVE_ELEMENT_ID,{elementId:t})},t.removeElement=function(e,t){var n=e.commit;n(l.REMOVE_ELEMENT,{elementId:t}),n(l.SAVE_CONTENT_STATE)},t.moveElement=function(e,t){for(var n=e.commit,o=e.state,r=(0,u["default"])(t,4),i=r[0],a=r[1],s=r[2],c=r[3],d=0,f=0,E=s.top+c/2,p=-1;E>=d;)p++,f=parseInt(o.editor.content.sections[p].style[o.editor.workspace.version].height),d+=f;var _=(0,m.merge)({},o.editor.content.elements[a]);_.style[o.editor.workspace.version].top=s.top-(d-f)+"px",_.style[o.editor.workspace.version].left=s.left+"px",n(l.MOVE_ELEMENT,{elementId:a,newElement:_,sectionId:i,newSectionId:p}),n(l.SAVE_CONTENT_STATE)},t.resizeElement=function(e,t){var n=e.commit,o=e.state,r=(0,u["default"])(t,2),i=r[0],a=r[1],s=(0,m.merge)({},o.editor.content.elements[i]),c=s.style[o.editor.workspace.version].height,d=c&&"auto"!==c?a.height+"px":"auto";s.style[o.editor.workspace.version].width=a.width+"px",s.style[o.editor.workspace.version].height=d,n(l.MODIFY_ELEMENT,{elementId:i,newElement:s}),n(l.SAVE_CONTENT_STATE)},t.indexElement=function(e,t){e.commit},t.addElement=function(e,t){e.commit}},59:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.loadingDone=t.loading=t.getInput=t.confirm=t.warning=t.closeMessageBox=void 0;var r=n(6),i=o(r);t.closeMessageBox=function(e){var t=e.commit;t(i.CLOSE_MESSAGE_BOX)},t.warning=function(e,t){var n=e.commit;n(i.WARNING,{msg:t})},t.confirm=function(e,t){var n=e.commit;n(i.CONFIRM,{msg:t})},t.getInput=function(e,t){var n=e.commit;n(i.GET_INPUT,{msg:t})},t.loading=function(e){var t=e.commit;t(i.LOADING)},t.loadingDone=function(e){var t=e.commit;t(i.LOAD_DONE)}},60:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.allPages=function(e){return e.pages.all},t.allProjects=function(e){return e.projects.all},t.currentProject=function(e){return e.projects.current},t.projectMembers=function(e){return e.projects.members},t.projectMembersInvited=function(e){return e.projects.invited},t.allPageGroups=function(e){return e.pageGroups.all.filter(function(e){return 1!==e.is_default})},t.currentPageGroup=function(e){return e.pageGroups.current},t.defaultPageGroup=function(e){return e.pageGroups["default"]},t.editingPageGroup=function(e){return e.pageGroups.editing},t.messageBox=function(e){return e.ui.messageBox},t.load=function(e){return e.ui.load},t.editorWorkspace=function(e){return e.editor.workspace},t.editorSettings=function(e){return e.editor.content.settings},t.editorSections=function(e){return e.editor.content.sections},t.editorElements=function(e){return e.editor.content.elements},t.editorColorSet=function(e){return e.editor.content.colorSet},t.editingPage=function(e){return e.editor.page},t.editorHeight=function(e){var t=0;return e.editor.content.sections&&e.editor.content.sections.forEach(function(n){t+=parseInt(n.style[e.editor.workspace.version].height)}),t}},61:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),u=r(i),a=n(3),s=r(a),c=n(64),d=r(c),f=n(63),l=r(f),E=n(65),p=r(E),m=n(66),_=r(m),v=n(67),g=r(v),O=n(62),h=r(O),A=n(59),P=o(A),T=n(57),M=o(T),I=n(58),R=o(I),G=n(60),S=o(G),j=n(4);u["default"].use(s["default"]);var C=(0,j.merge)(P,M,R);t["default"]=new s["default"].Store({actions:C,getters:S,modules:{pages:d["default"],pageGroups:l["default"],projects:p["default"],ui:_["default"],users:g["default"],editor:h["default"]}})},62:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,u=n(13),a=r(u),s=n(5),c=r(s),d=n(6),f=o(d),l=n(4),E={workspace:{width:360,version:"mobile",activeSectionId:null,undo:!1,redo:!1,activeElementId:"",saveStatus:"saved",zIndex:{pc:{max:5e4,min:5e4},mobile:{max:5e4,min:5e4}}},page:{},content:{},history:{states:[],index:0}},p=(i={},(0,a["default"])(i,f.LOAD_PAGE,function(e,t){var n=t.page;e.page=(0,l.merge)({},n)}),(0,a["default"])(i,f.LOAD_VARIATION,function(e,t){var n=t.content,o={settings:{seo:{pageTitle:"",keywords:"",description:""},goals:{first:""},code:{header:"",bodyIn:"",bodyOut:""}},colorSet:["#FCFFF5","#D1DBBD","#91AA9D","#3E606F","#193441"],sections:[],elements:{}};e.content=(0,l.merge)({},o,n),e.history.states=[(0,l.merge)({},n)],e.history.index=0}),(0,a["default"])(i,f.SAVE_CONTENT_STATE,function(e){e.history.index++,e.history.states=e.history.states.slice(0,e.history.index),e.history.states.push((0,l.merge)({},e.content)),e.workspace.undo=!0,e.workspace.redo=!1}),(0,a["default"])(i,f.UNDO,function(e){e.history.index>=1&&(e.history.index--,e.content=(0,l.merge)({},e.history.states[e.history.index]),e.workspace.redo=!0,e.history.index<1&&(e.workspace.undo=!1))}),(0,a["default"])(i,f.REDO,function(e){e.history.states.length>e.history.index+1&&(e.history.index++,e.content=(0,l.merge)({},e.history.states[e.history.index]),e.workspace.undo=!0,e.history.states.length===e.history.index+1&&(e.workspace.redo=!1))}),(0,a["default"])(i,f.SWITCH_VERSION,function(e,t){var n=t.version;e.workspace.version=n,e.workspace.width="pc"===e.workspace.version?960:360}),(0,a["default"])(i,f.SET_COLOR_SET,function(e,t){var n=t.colorSet;e.content.colorSet=n}),(0,a["default"])(i,f.MOVE_SECTION,function(e,t){var n=t.sourceId,o=t.targetId;e.content.sections[n]=e.content.sections.splice(o,1,e.content.sections[n])[0]}),(0,a["default"])(i,f.REMOVE_SECTION,function(e){}),(0,a["default"])(i,f.MODIFY_SECTION,function(e,t){var n=t.sectionId,o=t.style;e.content.sections[n].style=(0,l.merge)({},e.content.sections[n].style,o)}),(0,a["default"])(i,f.SET_ACTIVE_SECTION_ID,function(e,t){var n=t.sectionId;e.workspace.activeSectionId=n}),(0,a["default"])(i,f.SET_ACTIVE_ELEMENT_ID,function(e,t){var n=t.elementId;e.workspace.activeElementId=n}),(0,a["default"])(i,f.MODIFY_ELEMENT,function(e,t){var n=t.elementId,o=t.newElement;c["default"].set(e.content.elements,n,(0,l.merge)({},o))}),(0,a["default"])(i,f.ADD_ELEMENT,function(e,t){t.element}),(0,a["default"])(i,f.MOVE_ELEMENT,function(e,t){var n=t.elementId,o=t.newElement;t.sectionId,t.newSectionId;c["default"].set(e.content.elements,n,(0,l.merge)({},o))}),(0,a["default"])(i,f.REMOVE_ELEMENT,function(e,t){var n=t.elementId;e.content.sections.forEach(function(e){e.elements.pc.splice(e.elements.pc.indexOf(n),1),e.elements.mobile.splice(e.elements.mobile.indexOf(n),1)}),c["default"]["delete"](e.content.elements,n)}),i);t["default"]={state:E,mutations:p}},63:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,u=n(13),a=r(u),s=n(6),c=o(s),d=n(5),f=r(d),l={all:[],current:{},"default":{},editing:{}},E=(i={},(0,a["default"])(i,c.LOAD_PAGEGROUPS,function(e,t){var n=t.pageGroups;e.all=n,e["default"]=n.find(function(e){return 1===e.is_default})}),(0,a["default"])(i,c.SET_CURRENT_PAGEGROUP,function(e,t){var n=t.pageGroup;e.current=n}),(0,a["default"])(i,c.CREATE_PAGEGROUP,function(e,t){var n=t.pageGroup;e.all.push(n),f["default"].nextTick(function(){e.editing=n})}),(0,a["default"])(i,c.REMOVE_PAGEGROUP,function(e,t){var n=t.pageGroup;e.all.splice(e.all.indexOf(n),1)}),(0,a["default"])(i,c.SET_EDITING_PAGEGROUP,function(e,t){var n=t.pageGroup;e.editing=n}),(0,a["default"])(i,c.RENAME_PAGEGROUP,function(e,t){var n=t.pageGroup,o=t.newName;n.name=o}),(0,a["default"])(i,c.EMPTY_PAGEGROUPS,function(e){e.all=[]}),i);t["default"]={state:l,mutations:E}},64:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,u=n(13),a=r(u),s=n(6),c=o(s),d={all:[]},f=(i={},(0,a["default"])(i,c.LOAD_PAGES,function(e,t){var n=t.pages;e.all=n}),(0,a["default"])(i,c.CREATE_PAGE,function(e,t){var n=t.page;e.all.push(n)}),(0,a["default"])(i,c.REMOVE_PAGE,function(e,t){var n=t.page;e.all.splice(e.all.indexOf(n),1)}),(0,a["default"])(i,c.RENAME_PAGE,function(e,t){var n=t.page,o=t.newName;n.name=o}),(0,a["default"])(i,c.EMPTY_PAGES,function(e){e.all=[]}),i);t["default"]={state:d,mutations:f}},65:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,u=n(13),a=r(u),s=n(6),c=o(s),d={all:[],current:{},members:[],invited:[]},f=(i={},(0,a["default"])(i,c.LOAD_PROJECTS,function(e,t){var n=t.projects;e.all=n}),(0,a["default"])(i,c.SET_CURRENT_PROJECT,function(e,t){var n=t.project;e.current=n}),(0,a["default"])(i,c.LOAD_MEMBERS,function(e,t){var n=t.members,o=t.invited;e.members=n,e.invited=o}),(0,a["default"])(i,c.CREATE_PROJECT,function(e,t){var n=t.project;e.all.push(n)}),i);t["default"]={state:d,mutations:f}},66:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i,u=n(13),a=r(u),s=n(6),c=o(s),d=n(4),f={messageBox:{show:!1,onCancel:!1,onConfirm:!1,header:"",content:"",width:"400px",type:"warning"},load:{status:"done",failedInfo:"",retry:""}},l=(i={},(0,a["default"])(i,c.WARNING,function(e,t){var n=t.msg;e.messageBox.type="warning",e.messageBox=(0,d.extend)(e.messageBox,n),e.messageBox.show=!0}),(0,a["default"])(i,c.CONFIRM,function(e,t){var n=t.msg;e.messageBox.type="confrim",e.messageBox=(0,d.extend)(e.messageBox,n),e.messageBox.show=!0}),(0,a["default"])(i,c.GET_INPUT,function(e,t){var n=t.msg;e.messageBox.type="input",e.messageBox=(0,d.extend)(e.messageBox,n),e.messageBox.show=!0}),(0,a["default"])(i,c.CLOSE_MESSAGE_BOX,function(e){e.messageBox={show:!1,onCancel:!1,onConfirm:!1,header:"",content:"",width:"400px",type:"warning"}}),(0,a["default"])(i,c.LOADING,function(e){e.load.status="loading"}),(0,a["default"])(i,c.LOAD_FAILED,function(e,t){var n=t.source,o=t.err,r=t.retry,i=void 0===r?null:r;switch(n){case"projects":e.load.status="failed",e.load.failedInfo="加载项目列表失败";break;case"pageGroups":e.load.status="failed",e.load.failedInfo="加载页面分组失败";break;case"members":break;case"pages":e.load.status="failed",e.load.failedInfo="加载页面列表失败"}e.load.retry=i||null,console.log(n,o)}),(0,a["default"])(i,c.LOAD_DONE,function(e){e.load.status="done"}),i);t["default"]={state:f,mutations:l}},67:function(e,t){"use strict"},68:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},set:function(e,t,n){var o="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toGMTString()}document.cookie=e+"="+t+o+"; path=/"}};t["default"]=n},69:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(208),i=o(r),u=n(211),a=o(u);t["default"]={name:"App",components:{MessageBox:i["default"],Spinner:a["default"]}}},71:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{style:{borderWidth:"0",borderStyle:"solid",borderColor:"#666"}}},mounted:function(){this.style={borderWidth:"0",borderStyle:"solid",borderColor:"#666",borderTopWidth:"3px",borderBottomWidth:"3px"},this.style={borderWidth:"0",borderStyle:"solid",borderColor:"#666"}}}},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t["default"]={computed:(0,o.mapGetters)({msg:"messageBox"}),methods:{cancel:function(){this.msg.onCancel&&this.msg.onCancel(),this.$store.dispatch("closeMessageBox")},ok:function(){if(this.msg.onConfirm)if("input"===this.msg.type){var e=this.$refs.msgInput.value;this.msg.onConfirm(e)}else this.msg.onConfirm();this.$store.dispatch("closeMessageBox")}},watch:{"msg.show":function(e){var t=this;e&&("input"===this.msg.type?this.$nextTick(function(){t.$refs.msgInput.focus()}):this.$nextTick(function(){t.$el.focus()}))}}}},94:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=o(r),u=n(3);t["default"]={computed:(0,i["default"])({},(0,u.mapGetters)({load:"load"}))}},153:function(e,t){},154:function(e,t){},172:function(e,t){},173:function(e,t){},186:function(e,t,n){var o,r;n(154),o=n(69);var i=n(212);r=o=o||{},"object"==typeof o["default"]&&(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,e.exports=o},188:function(e,t,n){var o,r;o=n(71);var i=n(223);r=o=o||{},"object"==typeof o["default"]&&(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,e.exports=o},208:function(e,t,n){var o,r;n(172),o=n(91);var i=n(235);r=o=o||{},"object"==typeof o["default"]&&(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,e.exports=o},211:function(e,t,n){var o,r;n(173),o=n(94);var i=n(236);r=o=o||{},"object"==typeof o["default"]&&(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=i.render,r.staticRenderFns=i.staticRenderFns,e.exports=o},212:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"}},[_h("transition",{attrs:{name:"fade",mode:"out-in"}},[_h("router-view",{staticClass:"page",attrs:{"keep-alive":""}})])," ",_h("message-box")," ",_h("spinner")])},staticRenderFns:[]}},223:function(module,exports){module.exports={render:function(){with(this)return _h("div",[_h("div",{style:style},["\n    123\n  "])])},staticRenderFns:[]}},235:function(module,exports){module.exports={render:function(){with(this)return _h("transition",{attrs:{name:"fade"}},[msg.show?_h("div",{staticClass:"message-box-mask",attrs:{tabindex:"-1"},on:{keyup:[function(e){13===e.keyCode&&ok(e)},function(e){27===e.keyCode&&cancel(e)}]}},[_h("div",{staticClass:"message-box-wrapper"},[_h("div",{staticClass:"message-box-container",style:{width:msg.width}},[_h("div",{staticClass:"message-box-header"},[_m(0)," "+_s(msg.header||"提示信息")+"\n        "])," ",_h("div",{staticClass:"message-box-body container-fluid"},["input"===msg.type?_h("input",{ref:"msgInput",staticClass:"form-control",attrs:{type:"text",placeholder:msg.header},domProps:{value:msg.content}}):_h("span",[_s(msg.content)])," "])," ",_h("div",{staticClass:"message-box-footer"},[$slots.footer||[_h("button",{directives:[{name:"show",value:"warning"!==msg.type,expression:"msg.type !== 'warning'"}],staticClass:"btn btn-default btn-sm",on:{click:cancel}},["取消"]),"  \n            ",_h("button",{staticClass:"btn btn-primary btn-sm",on:{click:ok}},["确定"])]])])])]):void 0])},staticRenderFns:[function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-exclamation-sign"})}]}},236:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"load-status"},["loading"===load.status?_h("div",{staticClass:"spinner"},[_m(0)," ",_m(1)," ",_m(2)]):void 0," ","failed"===load.status?_h("div",[_s(load.failedInfo)]):void 0])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"bounce1"})},function(){with(this)return _h("div",{staticClass:"bounce2"})},function(){with(this)return _h("div",{staticClass:"bounce3"})}]}}});
//# sourceMappingURL=app.43f43ba487abb27904bc.js.map