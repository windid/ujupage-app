webpackJsonp([12,10],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var a=n(10),r=o(a),i=n(42),s=o(i),u=n(82),c=o(u),d=n(288),l=o(d),f=n(8),p=o(f),m=n(43),E=o(m);n(235),p.default.account.current().then(function(e){s.default.dispatch("loadUser",e.data),_()},function(e){_()});var _=function(){r.default.http.interceptors.push(function(e,t){var n=E.default.get("XSRF-TOKEN");n&&(e.headers.map["X-XSRF-TOKEN"]=[n]),t(function(e){401===e.status&&s.default.dispatch("requireLogin")})}),new r.default({el:"#app",router:c.default,store:s.default,render:function(e){return e(l.default)}})}},7:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOG_IN="LOG_IN",t.LOG_OUT="LOG_OUT",t.LOAD_PROJECTS="LOAD_PROJECTS",t.CREATE_PROJECT="CREATE_PROJECT",t.RENAME_PROJECT="RENAME_PROJECT",t.REMOVE_PROJECT="REMOVE_PROJECT",t.SET_CURRENT_PROJECT="SET_CURRENT_PROJECT",t.LOAD_MEMBERS="LOAD_MEMBERS",t.LOAD_PAGEGROUPS="LOAD_PAGEGROUPS",t.EMPTY_PAGEGROUPS="EMPTY_PAGEGROUPS",t.CREATE_PAGEGROUP="CREATE_PAGEGROUP",t.REMOVE_PAGEGROUP="REMOVE_PAGEGROUP",t.RENAME_PAGEGROUP="RENAME_PAGEGROUP",t.SET_EDITING_PAGEGROUP="SET_EDITING_PAGEGROUP",t.SET_CURRENT_PAGEGROUP="SET_CURRENT_PAGEGROUP",t.LOAD_PAGES="LOAD_PAGES",t.EMPTY_PAGES="EMPTY_PAGES",t.CREATE_PAGE="CREATE_PAGE",t.RENAME_PAGE="RENAME_PAGE",t.REMOVE_PAGE="REMOVE_PAGE",t.DUPLICATE_PAGE="DUPLICATE_PAGE",t.MOVE_PAGE="MOVE_PAGE",t.WARNING="WARNING",t.CONFIRM="CONFIRM",t.GET_INPUT="GET_INPUT",t.CLOSE_MESSAGE_BOX="CLOSE_MESSAGE_BOX",t.NEXT_MESSAGE="NEXT_MESSAGE",t.GET_IMAGE="GET_IMAGE",t.CLOSE_IMAGE_LIBRARY="CLOSE_IMAGE_LIBRARY",t.LOAD_IMAGES="LOAD_IMAGES",t.LOADING="LOADING",t.LOAD_FAILED="LOAD_FAILED",t.LOAD_DONE="LOAD_DONE",t.LOAD_PAGE="LOAD_PAGE",t.LOAD_VARIATION="LOAD_VARIATION",t.SAVE_VARIATION="SAVE_VARIATION",t.CREATE_VARIATION="CREATE_VARIATION",t.REMOVE_VARIATION="REMOVE_VARIATION",t.RENAME_VARIATION="RENAME_VARIATION",t.SAVE_SETTINGS="SAVE_SETTINGS",t.SAVE_CONTENT_STATE="SAVE_CONTENT_STATE",t.UNDO="UNDO",t.REDO="REDO",t.SWITCH_VERSION="SWITCH_VERSION",t.SET_COLOR_SET="SET_COLOR_SET",t.ADD_SECTION="ADD_SECTION",t.MOVE_SECTION="MOVE_SECTION",t.REMOVE_SECTION="REMOVE_SECTION",t.MODIFY_SECTION="MODIFY_SECTION",t.SET_ACTIVE_SECTION_ID="SET_ACTIVE_SECTION_ID",t.SET_ACTIVE_ELEMENT_ID="SET_ACTIVE_ELEMENT_ID",t.MODIFY_ELEMENT="MODIFY_ELEMENT",t.REPLACE_ELEMENT="REPLACE_ELEMENT",t.ADD_ELEMENT="ADD_ELEMENT",t.REMOVE_ELEMENT="REMOVE_ELEMENT",t.MOVE_ELEMENT="MOVE_ELEMENT",t.DUPULICATE_ELEMENT="DUPULICATE_ELEMENT"},8:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),r=o(a),i=n(392),s=o(i);r.default.use(s.default),r.default.http.options.root="/api",t.default={project:r.default.resource("project{/id}"),projectMember:r.default.resource("projects/{projectId}/users{/id}"),pageGroup:r.default.resource("projects/{projectId}/groups{/id}"),page:r.default.resource("page{/id}",{},{duplicate:{method:"POST",url:"page/{id}/copy"},publish:{method:"PUT",url:"page/{id}/publish"},leads:{method:"GET",url:"page/{id}/leads"}}),variation:r.default.resource("pages/{pageId}/variations{/id}",{},{duplicate:{method:"POST",url:"pages/{pageId}/variations{/id}/copy"}}),image:r.default.resource("storage/image{/id}"),imageFolder:r.default.resource("storage/folder{/id}"),report:r.default.resource("report/{module}/{pageId}"),account:r.default.resource("account{/id}",{},{current:{method:"GET",url:"account/current"}}),auth:{save:function(e,t){var n="auth/login";return r.default.http.post(n,t)},delete:function(e,t){var n="auth/logout";return r.default.http.get(n)}},user:{save:function(e,t){var n="auth/register";return r.default.http.post(n,t)},getPassword:function(e,t){var n="auth/password/forget";return r.default.http.post(n,t)},resetPassword:function(e,t){var n="auth/password/reset";return r.default.http.post(n,t)}}}},30:function(e,t,n){var o,a;n(261);var r=n(366);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,a._scopeId="data-v-6fe1c04e",e.exports=o},42:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=a(r),s=n(3),u=a(s),c=n(90),d=a(c),l=n(93),f=a(l),p=n(94),m=a(p),E=n(91),_=a(E),v=n(92),g=a(v),h=n(86),O=o(h),I=n(87),A=o(I),T=n(83),P=o(T),y=n(84),S=o(y),M=n(85),b=o(M),G=n(89),R=o(G),N=n(6);i.default.use(u.default);var C=(0,N.merge)(O,P,S,A,b),x=new u.default.Store({actions:C,getters:R,modules:{dashboard:d.default,ui:f.default,user:m.default,editor:_.default,stats:g.default},strict:!1});t.default=x},43:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},set:function(e,t,n){var o="";if(n){var a=new Date;a.setTime(a.getTime()+24*n*60*60*1e3),o="; expires="+a.toGMTString()}document.cookie=e+"="+t+o+"; path=/"}};t.default=n},58:function(e,t,n){var o,a;n(263),o=n(104);var r=n(369);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=o},82:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(10),r=o(a),i=n(393),s=o(i),u=n(283),c=o(u),d=n(42),l=o(d),f=n(295),p=o(f),m=n(292),E=o(m);r.default.use(s.default);var _=function(e){return n.e(0,function(t){var n=[t(305)];e.apply(null,n)}.bind(this))},v=function(e){return n.e(4,function(t){var n=[t(324)];e.apply(null,n)}.bind(this))},g=function(e){return n.e(2,function(t){var n=[t(296)];e.apply(null,n)}.bind(this))},h=function(e){return n.e(9,function(t){var n=[t(289)];e.apply(null,n)}.bind(this))},O=function(e){return n.e(1,function(t){var n=[t(329)];e.apply(null,n)}.bind(this))},I=function(e){return n.e(3,function(t){var n=[t(323)];e.apply(null,n)}.bind(this))},A=function(e){return n.e(6,function(t){var n=[t(293)];e.apply(null,n)}.bind(this))},T=function(e){return n.e(8,function(t){var n=[t(290)];e.apply(null,n)}.bind(this))},P=function(e){return n.e(7,function(t){var n=[t(291)];e.apply(null,n)}.bind(this))},y=function(e){return n.e(5,function(t){var n=[t(294)];e.apply(null,n)}.bind(this))},S=new s.default({mode:"history",base:e,routes:[{path:"/login",name:"login",component:E.default,beforeEnter:function(e,t,n){l.default.getters.isLogin?n("/"):n()}},{path:"/logout",beforeEnter:function(e,t,n){l.default.dispatch("logout",function(){return n("/login")})}},{path:"/register",name:"register",component:A},{path:"/active",name:"active",component:T},{path:"/forgetpassword",name:"forgetpassword",component:P},{path:"/resetpassword/:token",name:"resetpassword",component:y},{path:"/editor/:pageId",name:"editor",component:_,meta:{requiresAuth:!0,preFetch:"editorInit"}},{path:"/editor/:pageId/:variationId",name:"editor",component:_,meta:{requiresAuth:!0,preFetch:"editorInit"}},{path:"/preview/:pageId/:variationId",name:"preview",component:v,meta:{requiresAuth:!0}},{path:"/",name:"home",component:p.default,meta:{requiresAuth:!0},children:[{path:"",name:"dashboard",component:g,meta:{preFetch:"dashboardInit"}},{path:"/account",name:"account",component:h},{path:"/leads/:pageId",name:"leads",component:I},{path:"/stats/:pageId/:module",name:"stats",component:O,meta:{preFetch:"statsInit"}}]}]});c.default.configure({showSpinner:!1}),S.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})&&!l.default.getters.isLogin?n({path:"/login",query:{redirect:e.fullPath}}):(c.default.start(),l.default.dispatch("loading"),e.meta.preFetch?l.default.dispatch(e.meta.preFetch,[e,function(){n()}]):n())}),S.afterEach(function(e,t,n){c.default.done(),l.default.dispatch("loadingDone")}),t.default=S}).call(t,"/")},83:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicatePage=t.movePage=t.renamePage=t.removePage=t.createPage=t.renamePageGroup=t.setEditingPageGroup=t.removePageGroup=t.createPageGroup=t.quitProject=t.removeMember=t.loadMembers=t.switchPageGroup=t.switchProject=t.dashboardInit=void 0;var r=n(20),i=a(r),s=n(8),u=a(s),c=n(95),d=a(c),l=n(43),f=a(l),p=n(7),m=o(p),E=(t.dashboardInit=function(e,t){var n=e.commit,o=e.state,a=(0,i.default)(t,2),r=(a[0],a[1]),s=void 0!==r&&r;return o.dashboard.projects.length>0?void(s&&s()):void u.default.project.get().then(function(e){var t=e.data;n(m.LOAD_PROJECTS,{projects:t});var o=(0,d.default)("id")||f.default.get("projectId"),a=t.find(function(e){return e.id===o})||t.find(function(e){return 1===e.is_default})||t[0];E({commit:n},[a,s])})},t.switchProject=function(e,t){var n=e.commit,o=(0,i.default)(t,2),a=o[0],r=o[1],s=void 0!==r&&r;n(m.EMPTY_PAGEGROUPS),n(m.EMPTY_PAGES),n(m.SET_CURRENT_PROJECT,{project:a}),f.default.set("projectId",a.id,365),v({commit:n},a),u.default.pageGroup.get({projectId:a.id}).then(function(e){var t=e.data;n(m.LOAD_PAGEGROUPS,{pageGroups:t});var o=t.find(function(e){return 1===e.is_default})||t[0];_({commit:n},[o,s])})}),_=t.switchPageGroup=function(e,t){var n=e.commit,o=(0,i.default)(t,2),a=o[0],r=o[1],s=void 0!==r&&r;n(m.SET_CURRENT_PAGEGROUP,{pageGroup:a}),u.default.page.get({group_id:a.id}).then(function(e){n(m.LOAD_PAGES,{pages:e.data}),s&&s()})},v=t.loadMembers=function(e,t){var n=e.commit;u.default.projectMember.get({projectId:t.id}).then(function(e){var t=e.data;n(m.LOAD_MEMBERS,{members:t})})};t.removeMember=function(e,t,n){e.commit},t.quitProject=function(e,t){e.commit},t.createPageGroup=function(e,t){var n=e.commit;u.default.pageGroup.save({projectId:t.projectId},t).then(function(e){var t=e.data;n(m.CREATE_PAGEGROUP,{pageGroup:t})})},t.removePageGroup=function(e,t){var n=e.commit,o=e.state;u.default.pageGroup.delete({projectId:o.dashboard.currentPageGroup.id,id:t.id}).then(function(e){n(m.REMOVE_PAGEGROUP,{pageGroup:t})})},t.setEditingPageGroup=function(e,t){var n=e.commit;n(m.SET_EDITING_PAGEGROUP,{pageGroup:t})},t.renamePageGroup=function(e,t){var n=e.commit,o=e.state,a=o.pageGroups.editing;u.default.pageGroup.update({projectId:o.dashboard.currentProject.id,id:a.id},{name:t}).then(function(e){n(m.RENAME_PAGEGROUP,{pageGroup:a,newName:t})})},t.createPage=function(e,t){var n=e.commit;u.default.page.save({},t).then(function(e){n(m.CREATE_PAGE,{page:e.data})})},t.removePage=function(e,t){var n=e.commit;u.default.page.delete({id:t.id}).then(function(e){n(m.REMOVE_PAGE,{page:t})})},t.renamePage=function(e,t){var n=e.commit,o=(0,i.default)(t,2),a=o[0],r=o[1];u.default.page.update({id:a.id},{name:r}).then(function(e){n(m.RENAME_PAGE,{page:a,newName:r})})},t.movePage=function(e,t){var n=e.commit,o=(0,i.default)(t,2),a=o[0],r=o[1];u.default.page.update({id:a.id},{name:a.name,group_id:r.id}).then(function(e){console.log(e),n(m.REMOVE_PAGE,{page:a})})},t.duplicatePage=function(e,t){var n=e.commit;u.default.page.duplicate({id:t.id},{}).then(function(e){n(m.CREATE_PAGE,{page:e.data})})}},84:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateElement=t.addElement=t.modifyElement=t.indexElement=t.resizeElement=t.moveElement=t.removeElement=t.setActiveElementId=t.setColorSet=t.switchVersion=t.redo=t.undo=t.setActiveSectionId=t.removeSection=t.modifySection=t.moveSection=t.addSection=t.publishPage=t.setURL=t.saveVariation=t.saveSettings=t.removeVariation=t.renameVariation=t.duplicateVariation=t.createVariation=t.loadVariation=t.editorInit=void 0;var r=n(156),i=a(r),s=n(20),u=a(s),c=n(8),d=a(c),l=n(7),f=o(l),p=n(6),m=n(88),E=a(m),_=(t.editorInit=function(e,t){var n=e.commit,o=e.state,a=(0,u.default)(t,2),r=a[0],i=a[1],s=void 0!==i&&i,c=r.params.pageId;d.default.page.get({id:c}).then(function(e){var t=e.data;d.default.variation.get({pageId:t.id}).then(function(e){t.variations=e.data,n(f.LOAD_PAGE,{page:t});var a=r.params.variationId||t.variations[0].id,i=t.variations.find(function(e){return e.id===parseInt(a)});_({commit:n,state:o},[i,s])})})},t.loadVariation=function(e,t){var n=e.commit,o=e.state,a=(0,u.default)(t,2),r=a[0],i=a[1],s=void 0!==i&&i;d.default.variation.get({pageId:o.editor.page.id,id:r.id}).then(function(e){var t=JSON.parse(e.data.html_json);n(f.LOAD_VARIATION,{variation:r,content:t}),s&&s()})}),v=(t.createVariation=function(e){var t=e.commit,n=e.state;d.default.variation.save({pageId:n.editor.page.id},{}).then(function(e){var o=e.data;t(f.CREATE_VARIATION,{variation:o}),_({commit:t,state:n},[o])})},t.duplicateVariation=function(e,t){var n=e.commit,o=e.state;d.default.variation.duplicate({pageId:o.editor.page.id,id:t.id},{}).then(function(e){var t=e.data;n(f.CREATE_VARIATION,{variation:t}),_({commit:n,state:o},[t])})},t.renameVariation=function(e,t){var n=e.commit,o=e.state,a=(0,u.default)(t,2),r=a[0],i=a[1];d.default.variation.update({pageId:o.editor.page.id,id:r.id},{name:i}).then(function(e){n(f.RENAME_VARIATION,{variation:r,newName:i})})},t.removeVariation=function(e,t){var n=e.commit,o=e.state;d.default.variation.delete({pageId:o.editor.page.id,id:t.id}).then(function(e){n(f.REMOVE_VARIATION,{variation:t}),t.id===o.editor.workspace.activeVariation.id&&_({commit:n,state:o},[o.editor.page.variations[0]])})},t.saveSettings=function(e,t){var n=e.commit;n(f.SAVE_SETTINGS,{settings:t})},t.saveVariation=function(e){var t=e.commit,n=e.state,o=(0,i.default)(n.editor.content);d.default.variation.update({pageId:n.editor.page.id,id:n.editor.workspace.activeVariation.id},{htmljson:o}).then(function(e){t(f.SAVE_VARIATION)})},t.setURL=function(e,t){var n=(e.commit,e.state),o=(0,u.default)(t,3),a=o[0],r=o[1];o[2];d.default.page.update({id:n.editor.page.id},{url:a}).then(function(e){r(e.data)})},t.publishPage=function(e,t){var n=(e.commit,e.state);d.default.page.publish({id:n.editor.page.id},{}).then(function(e){t(e.data)})},t.addSection=function(e){var t=e.commit,n={style:{pc:{"background-color":"",height:"500px"},mobile:{"background-color":"",height:"500px"}},elements:{pc:[],mobile:[]}};t(f.ADD_SECTION,{section:n}),t(f.SAVE_CONTENT_STATE)}),g=(t.moveSection=function(e,t){var n=e.commit,o=e.state,a=(0,u.default)(t,2),r=a[0],i=a[1],s=i,c=i;"down"===r&&i<o.editor.content.sections.length-1&&s++,"up"===r&&i>0&&s--,c!==s&&(n(f.MOVE_SECTION,{sourceId:c,targetId:s}),n(f.SAVE_CONTENT_STATE))},t.modifySection=function(e,t){var n=e.commit,o=(0,u.default)(t,2),a=o[0],r=o[1];n(f.MODIFY_SECTION,{sectionId:a,style:r}),n(f.SAVE_CONTENT_STATE)},t.removeSection=function(e,t){var n=e.commit;n(f.REMOVE_SECTION,{sectionId:t}),n(f.SAVE_CONTENT_STATE)},t.setActiveSectionId=function(e,t){var n=e.commit;n(f.SET_ACTIVE_SECTION_ID,{sectionId:t})},t.undo=function(e){var t=e.commit;return t(f.UNDO)},t.redo=function(e){var t=e.commit;return t(f.REDO)},t.switchVersion=function(e,t){var n=e.commit;n(f.SWITCH_VERSION,{version:t})},t.setColorSet=function(e,t){var n=e.commit,o=e.state;t!==o.editor.content.colorSet&&(n(f.SET_COLOR_SET,{colorSet:t}),n(f.SAVE_CONTENT_STATE))},t.setActiveElementId=function(e,t){var n=e.commit;n(f.SET_ACTIVE_ELEMENT_ID,{elementId:t})},t.removeElement=function(e,t){var n=e.commit,o=e.state,a=(0,u.default)(t,2),r=a[0],i=a[1],s=void 0===i||i,c=g(o,r);n(f.REMOVE_ELEMENT,{elementId:r,sectionIds:c}),s&&n(f.SAVE_CONTENT_STATE)},t.moveElement=function(e,t){for(var n=e.commit,o=e.state,a=(0,u.default)(t,4),r=a[0],i=a[1],s=a[2],c=a[3],d=0,l=0,m=s.top+c/2,E=-1;m>=d;)E++,l=parseInt(o.editor.content.sections[E].style[o.editor.workspace.version].height),d+=l;var _=(0,p.merge)({},o.editor.content.elements[i]);_.style[o.editor.workspace.version].top=s.top-(d-l)+"px",_.style[o.editor.workspace.version].left=s.left+"px",n(f.MOVE_ELEMENT,{elementId:i,newElement:_,sectionId:r,newSectionId:E}),n(f.SAVE_CONTENT_STATE)},t.resizeElement=function(e,t){var n=e.commit,o=e.state,a=(0,u.default)(t,2),r=a[0],i=a[1],s=(0,p.merge)({},o.editor.content.elements[r]),c=s.style[o.editor.workspace.version].height,d=c&&"auto"!==c?i.height+"px":"auto";s.style[o.editor.workspace.version].width=i.width+"px",s.style[o.editor.workspace.version].height=d,n(f.MODIFY_ELEMENT,{elementId:r,newElement:s}),n(f.SAVE_CONTENT_STATE)},t.indexElement=function(e,t){var n=e.commit,o=e.state,a=e.getters,r=(0,u.default)(t,2),i=r[0],s=r[1],c=(0,p.merge)({},o.editor.content.elements[i]);"top"===s?c.style[o.editor.workspace.version].zIndex=++a.elementsIndex[o.editor.workspace.version].max:c.style[o.editor.workspace.version].zIndex=--a.elementsIndex[o.editor.workspace.version].min,n(f.MODIFY_ELEMENT,{elementId:i,newElement:c}),n(f.SAVE_CONTENT_STATE)},t.modifyElement=function(e,t){var n=e.commit,o=e.state,a=(0,u.default)(t,3),r=a[0],i=a[1],s=a[2],c=void 0!==s&&s,d=c?(0,p.merge)({},i):(0,p.merge)({},o.editor.content.elements[r],i);n(f.MODIFY_ELEMENT,{elementId:r,newElement:d}),n(f.SAVE_CONTENT_STATE)},t.addElement=function(e,t){var n=e.commit,o=e.state,a=e.getters;0===o.editor.content.sections.length&&v({commit:n});for(var r=document.getElementById("main-wrapper"),i=E.default[t],s=r.scrollTop+100,u=0,c=0,d=-1,l=o.editor.workspace.version,p="pc"===o.editor.workspace.version?"mobile":"pc";u<s;)d++,c=parseInt(o.editor.content.sections[d].style[l].height),u+=c;var m=s+c-u;i.style[l].top=m+"px",i.style[p].top="10px",i.style.pc.zIndex=a.elementsIndex.pc.max,i.style.mobile.zIndex=a.elementsIndex.mobile.max,n(f.ADD_ELEMENT,{sectionId:d,element:i}),"image"!==t&&n(f.SAVE_CONTENT_STATE)},t.duplicateElement=function(e,t){var n=e.commit,o=e.state,a=e.getters,r=g(o,t),i=(0,p.merge)({},o.editor.content.elements[t]);i.style.pc.zIndex=a.elementsIndex.pc.max+1,i.style.mobile.zIndex=a.elementsIndex.mobile.max+1;var s=parseInt(i.style.pc.left),u=parseInt(i.style.pc.width);s+u>o.editor.content.settings.style.width.pc-20?i.style.pc.left=(s-20>0?s-20:0)+"px":i.style.pc.left=s+20+"px";var c=parseInt(i.style.mobile.left),d=parseInt(i.style.mobile.width);c+d>o.editor.content.settings.style.width.mobile-20?i.style.mobile.left=(c-20>0?c-20:0)+"px":i.style.mobile.left=c+20+"px",i.style.pc.top=parseInt(i.style.pc.top)+20+"px",i.style.mobile.top=parseInt(i.style.mobile.top)+20+"px",n(f.DUPULICATE_ELEMENT,{newElement:i,sectionIds:r}),n(f.SAVE_CONTENT_STATE)},function(e,t){var n=0,o=null,a=null;return e.editor.content.sections.forEach(function(e){e.elements.pc.indexOf(t)>=0&&(o=n),e.elements.mobile.indexOf(t)>=0&&(a=n),n++}),{pc:o,mobile:a}})},85:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.statsInit=void 0;var r=n(20),i=a(r),s=n(8),u=a(s),c=n(7),d=o(c);t.statsInit=function(e,t){var n=e.commit,o=(e.state,(0,i.default)(t,2)),a=o[0],r=o[1],s=void 0!==r&&r;u.default.page.get({id:a.params.pageId}).then(function(e){var t=e.data;u.default.variation.get({pageId:t.id}).then(function(e){t.variations=e.data,n(d.LOAD_STATS_PAGE,{page:t}),s&&s()})})}},86:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadingDone=t.loading=t.closeImageLibrary=t.getImage=t.getInput=t.confirm=t.warning=t.nextMessage=void 0;var r=n(20),i=a(r),s=n(7),u=o(s);t.nextMessage=function(e){var t=e.commit;t(u.NEXT_MESSAGE)},t.warning=function(e,t){var n=e.commit;n(u.WARNING,{msg:t})},t.confirm=function(e,t){var n=e.commit;n(u.CONFIRM,{msg:t})},t.getInput=function(e,t){var n=e.commit;n(u.GET_INPUT,{msg:t})},t.getImage=function(e,t){var n=e.commit,o=(0,i.default)(t,2),a=o[0],r=o[1],s=void 0!==r&&r;n(u.GET_IMAGE,{onSelect:a,onCancel:s})},t.closeImageLibrary=function(e){var t=e.commit;t(u.CLOSE_IMAGE_LIBRARY)},t.loading=function(e){var t=e.commit;t(u.LOADING)},t.loadingDone=function(e){var t=e.commit;t(u.LOAD_DONE)}},87:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.activeEmail=t.resetPassword=t.getPassword=t.register=t.logout=t.login=t.requireLogin=t.loadUser=void 0;var r=n(20),i=a(r),s=n(7),u=o(s),c=n(8),d=a(c);t.loadUser=function(e,t){var n=e.commit;n(u.LOG_IN,{user:t})},t.requireLogin=function(e){e.commit},t.login=function(e,t){var n=e.commit,o=(0,i.default)(t,5),a=o[0],r=o[1],s=o[2],c=o[3],l=o[4];d.default.auth.save({},{email:a,password:r,remember:s}).then(function(e){var t=e.data;n(u.LOG_IN,{user:t}),c()},function(e){return l(e)})},t.logout=function(e,t){var n=e.commit;d.default.auth.delete().then(function(e){n(u.LOG_OUT),t()})},t.register=function(e,t){var n=e.commit,o=(0,i.default)(t,3),a=o[0],r=o[1],s=o[2];d.default.user.save({},a).then(function(e){var t=e.data;n(u.LOG_IN,{user:t}),r()},function(e){return s(e)})},t.getPassword=function(e,t){var n=(e.commit,(0,i.default)(t,3)),o=n[0],a=n[1],r=n[2];d.default.user.getPassword({},{email:o}).then(function(e){a()},function(e){return r(e)})},t.resetPassword=function(e,t){var n=(e.commit,(0,i.default)(t,4)),o=n[0],a=n[1],r=n[2],s=n[3];d.default.user.resetPassword({},{token:o,password:a,password_confirmation:a}).then(function(e){r()},function(e){s(e)})},t.activeEmail=function(e){e.commit}},88:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={text:{type:"text",content:"<p>双击开始编辑这段文字</p>",style:{pc:{left:"380px",top:"10px",width:"200px"},mobile:{left:"80px",top:"10px",width:"200px"}},fontStyle:{color:"4",fontSize:"16px",lineHeight:"1.4",textAlign:"left"}},image:{type:"image",src:"",style:{pc:{top:"10px",width:""},mobile:{top:"10px",width:""}}},button:{type:"button",text:"点击下载",props:{backgroundColor:"3",borderColor:"4",color:"0",hoverColor:"4",borderRadius:"5px",fontSize:"18px",borderStyle:"none",boxShadow:"1px 3px 6px #888",fontWeight:"normal"},style:{pc:{left:"400px",top:"10px",width:"160px",height:"37px"},mobile:{left:"100px",top:"10px",width:"160px",height:"37px"}}},form:{type:"form",style:{pc:{left:"330px",top:"10px",width:"300px"},mobile:{left:"30px",top:"10px",width:"300px"}},props:{labelInside:!0,innerShadow:!1,boxShadow:"",fieldColor:"#fff",inputColor:"4",borderColor:"#ccc",labelColor:"3",redirect:"",thankyou:"表单提交成功，感谢！"},fields:[{label:"姓名",type:"text",validator:["required"]},{label:"手机号码",type:"text",validator:["required","mobile"]}],button:{text:"提交",props:{backgroundColor:"3",borderColor:"4",color:"0",hoverColor:"4",borderRadius:"5px",fontSize:"18px",borderStyle:"none",boxShadow:"1px 3px 6px #888",fontWeight:"normal"}}},html:{type:"html",content:"",style:{pc:{left:"330px",top:"10px",width:"300px",height:"150px"},mobile:{left:"50px",top:"10px",width:"300px",height:"150px"}}}}},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveStatus=t.redoButton=t.undoButton=t.elementsIndex=t.editorHeight=t.editingPage=t.editorColorSet=t.editorElements=t.editorSections=t.editorSettings=t.editorWorkspace=t.imageLibrary=t.load=t.showMessage=t.message=t.editingPageGroup=t.defaultPageGroup=t.currentPageGroup=t.allPageGroups=t.projectMembersInvited=t.projectMembers=t.currentProject=t.allProjects=t.allPages=t.statsPage=t.isLogin=void 0;var o=n(6);t.isLogin=function(e){return!!e.user.current},t.statsPage=function(e){return e.stats.page},t.allPages=function(e){return e.dashboard.pages},t.allProjects=function(e){return e.dashboard.projects},t.currentProject=function(e){return e.dashboard.currentProject},t.projectMembers=function(e){return e.dashboard.projectMembers},t.projectMembersInvited=function(e){return e.dashboard.projectMembersInvited},t.allPageGroups=function(e){return e.dashboard.pageGroups.filter(function(e){return 1!==e.is_default})},t.currentPageGroup=function(e){return e.dashboard.currentPageGroup},t.defaultPageGroup=function(e){return e.dashboard.defaultPageGroup},t.editingPageGroup=function(e){return e.dashboard.editingPageGroup},t.message=function(e){return e.ui.messages[0]||{}},t.showMessage=function(e){return e.ui.messages.length>0},t.load=function(e){return e.ui.load},t.imageLibrary=function(e){return e.ui.imageLibrary},t.editorWorkspace=function(e){return e.editor.workspace},t.editorSettings=function(e){return e.editor.content.settings},t.editorSections=function(e){return e.editor.content.sections},t.editorElements=function(e){return e.editor.content.elements},t.editorColorSet=function(e){return e.editor.content.colorSet},t.editingPage=function(e){return e.editor.page},t.editorHeight=function(e){var t=0;return e.editor.content.sections&&e.editor.content.sections.forEach(function(n){t+=parseInt(n.style[e.editor.workspace.version].height)}),t},t.elementsIndex=function(e){var t={pc:{max:5e4,min:5e4},mobile:{max:5e4,min:5e4}},n=e.editor.content.elements;for(var o in n)t.pc.max=Math.max(n[o].style.pc.zIndex,t.pc.max),t.pc.min=Math.max(n[o].style.pc.zIndex,t.pc.min),t.mobile.max=Math.max(n[o].style.mobile.zIndex,t.mobile.max),t.mobile.min=Math.max(n[o].style.mobile.zIndex,t.mobile.min);return t},t.undoButton=function(e){return e.editor.history.index>0},t.redoButton=function(e){return e.editor.history.states.length>e.editor.history.index+1},t.saveStatus=function(e){return(0,o.isEqual)(e.editor.content,e.editor.history.saved)}},90:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(13),s=a(i),u=n(7),c=o(u),d={projects:[],currentProject:{},projectMembers:[],projectMembersInvited:[],pageGroups:[],currentPageGroup:{},defaultPageGroup:{},editingPageGroup:{},pages:[]},l=(r={},(0,s.default)(r,c.LOAD_PROJECTS,function(e,t){var n=t.projects;e.projects=n}),(0,s.default)(r,c.LOG_OUT,function(e){e.projects=[],e.pageGroups=[],e.pages=[]}),(0,s.default)(r,c.SET_CURRENT_PROJECT,function(e,t){var n=t.project;e.currentProject=n}),(0,s.default)(r,c.LOAD_MEMBERS,function(e,t){var n=t.members,o=t.invited;e.projectMembers=n,e.projectMembersInvited=o}),(0,s.default)(r,c.CREATE_PROJECT,function(e,t){var n=t.project;e.projects.push(n)}),(0,s.default)(r,c.LOAD_PAGEGROUPS,function(e,t){var n=t.pageGroups;e.pageGroups=n,e.defaultPageGroup=n.find(function(e){return 1===e.is_default})}),(0,s.default)(r,c.SET_CURRENT_PAGEGROUP,function(e,t){var n=t.pageGroup;e.currentPageGroup=n}),(0,s.default)(r,c.CREATE_PAGEGROUP,function(e,t){var n=t.pageGroup;e.pageGroups.push(n),e.editingPageGroup=n}),(0,s.default)(r,c.REMOVE_PAGEGROUP,function(e,t){var n=t.pageGroup;e.pageGroups.splice(e.pageGroups.indexOf(n),1)}),(0,s.default)(r,c.SET_EDITING_PAGEGROUP,function(e,t){var n=t.pageGroup;e.editingPageGroup=n}),(0,s.default)(r,c.RENAME_PAGEGROUP,function(e,t){var n=t.pageGroup,o=t.newName;n.name=o}),(0,s.default)(r,c.EMPTY_PAGEGROUPS,function(e){e.pageGroups=[]}),(0,s.default)(r,c.LOAD_PAGES,function(e,t){var n=t.pages;e.pages=n}),(0,s.default)(r,c.CREATE_PAGE,function(e,t){var n=t.page;e.pages.push(n)}),(0,s.default)(r,c.REMOVE_PAGE,function(e,t){var n=t.page;e.pages.splice(e.pages.indexOf(n),1)}),(0,s.default)(r,c.RENAME_PAGE,function(e,t){var n=t.page,o=t.newName;n.name=o}),(0,s.default)(r,c.EMPTY_PAGES,function(e){e.pages=[]}),r);t.default={state:d,mutations:l}},91:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(13),s=a(i),u=n(10),c=a(u),d=n(7),l=o(d),f=n(6),p=n(96),m=a(p),E={workspace:{width:360,version:"mobile",activeSectionId:null,activeElementId:"",activeVariation:null,saveStatus:"saved"},page:{},content:{},history:{states:[],index:0,saved:{}}},_=(r={},(0,s.default)(r,l.LOAD_PAGE,function(e,t){var n=t.page;e.page=(0,f.merge)({},n)}),(0,s.default)(r,l.LOAD_VARIATION,function(e,t){var n=t.variation,o=t.content,a={settings:{seo:{pageTitle:"",keywords:"",description:""},goals:[],code:{header:"",bodyIn:"",bodyOut:""},style:{width:{pc:960,mobile:360}}},colorSet:["#FCFFF5","#D1DBBD","#91AA9D","#3E606F","#193441"],sections:[],elements:{}};e.workspace.activeVariation=n,e.content=(0,f.merge)({},a,o),e.history.states=[(0,f.merge)({},e.content)],e.history.index=0,e.history.saved=(0,f.merge)({},e.content)}),(0,s.default)(r,l.SAVE_VARIATION,function(e){e.history.saved=(0,f.merge)({},e.content)}),(0,s.default)(r,l.CREATE_VARIATION,function(e,t){var n=t.variation;e.page.variations.push(n)}),(0,s.default)(r,l.REMOVE_VARIATION,function(e,t){var n=t.variation;e.page.variations.splice(e.page.variations.indexOf(n),1)}),(0,s.default)(r,l.RENAME_VARIATION,function(e,t){var n=t.variation,o=t.newName;n.name=o,e.workspace.activeVariation.id===n.id&&(e.workspace.activeVariation=n)}),(0,s.default)(r,l.SAVE_SETTINGS,function(e,t){var n=t.settings;e.content.settings=n}),(0,s.default)(r,l.SAVE_CONTENT_STATE,function(e){e.history.index++,e.history.states=e.history.states.slice(0,e.history.index),e.history.states.push((0,f.merge)({},e.content)),e.workspace.undo=!0,e.workspace.redo=!1}),(0,s.default)(r,l.UNDO,function(e){e.history.index>=1&&(e.history.index--,e.content=(0,f.merge)({},e.history.states[e.history.index]),e.workspace.redo=!0,e.history.index<1&&(e.workspace.undo=!1))}),(0,s.default)(r,l.REDO,function(e){e.history.states.length>e.history.index+1&&(e.history.index++,e.content=(0,f.merge)({},e.history.states[e.history.index]),e.workspace.undo=!0,e.history.states.length===e.history.index+1&&(e.workspace.redo=!1))}),(0,s.default)(r,l.SWITCH_VERSION,function(e,t){var n=t.version;e.workspace.version=n,e.workspace.width="pc"===e.workspace.version?960:360}),(0,s.default)(r,l.SET_COLOR_SET,function(e,t){var n=t.colorSet;e.content.colorSet=n}),(0,s.default)(r,l.ADD_SECTION,function(e,t){var n=t.section;e.content.sections.push(n)}),(0,s.default)(r,l.MOVE_SECTION,function(e,t){var n=t.sourceId,o=t.targetId;e.content.sections[n]=e.content.sections.splice(o,1,e.content.sections[n])[0]}),(0,s.default)(r,l.REMOVE_SECTION,function(e,t){var n=t.sectionId;e.content.sections.splice(n,1)}),(0,s.default)(r,l.MODIFY_SECTION,function(e,t){var n=t.sectionId,o=t.style;e.content.sections[n].style=(0,f.merge)({},e.content.sections[n].style,o)}),(0,s.default)(r,l.SET_ACTIVE_SECTION_ID,function(e,t){var n=t.sectionId;e.workspace.activeSectionId=n}),(0,s.default)(r,l.SET_ACTIVE_ELEMENT_ID,function(e,t){var n=t.elementId;e.workspace.activeElementId=n}),(0,s.default)(r,l.MODIFY_ELEMENT,function(e,t){var n=t.elementId,o=t.newElement;c.default.set(e.content.elements,n,(0,f.merge)({},o))}),(0,s.default)(r,l.ADD_ELEMENT,function(e,t){var n=t.sectionId,o=t.element,a=(0,m.default)(8);c.default.set(e.content.elements,a,o),e.content.sections[n].elements.pc.push(a),e.content.sections[n].elements.mobile.push(a),e.workspace.activeElementId=a}),(0,s.default)(r,l.DUPULICATE_ELEMENT,function(e,t){var n=t.newElement,o=t.sectionIds,a=(0,m.default)(8);c.default.set(e.content.elements,a,n),null!==o.pc&&e.content.sections[o.pc].elements.pc.push(a),
null!==o.mobile&&e.content.sections[o.mobile].elements.mobile.push(a),e.workspace.activeElementId=a}),(0,s.default)(r,l.MOVE_ELEMENT,function(e,t){var n=t.elementId,o=t.newElement,a=t.sectionId,r=t.newSectionId;c.default.set(e.content.elements,n,(0,f.merge)({},o)),a!==r&&(e.content.sections[a].elements[e.workspace.version].splice(e.content.sections[a].elements[e.workspace.version].indexOf(n),1),e.content.sections[r].elements[e.workspace.version].push(n))}),(0,s.default)(r,l.REMOVE_ELEMENT,function(e,t){var n=t.elementId,o=t.sectionIds;null!==o.pc&&e.content.sections[o.pc].elements.pc.splice(e.content.sections[o.pc].elements.pc.indexOf(n),1),null!==o.mobile&&e.content.sections[o.mobile].elements.mobile.splice(e.content.sections[o.mobile].elements.mobile.indexOf(n),1),c.default.delete(e.content.elements,n)}),r);t.default={state:E,mutations:_}},92:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),i=a(r),s=n(7),u=o(s),c={page:{}},d=(0,i.default)({},u.LOAD_STATS_VARIATIONS,function(e,t){var n=t.page;e.page=n});t.default={state:c,mutations:d}},93:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(13),s=a(i),u=n(7),c=o(u),d=n(6),l={messageBox:{onCancel:!1,onConfirm:!1,header:"",content:"",inputAddon:"",placeholder:"",hint:"",width:"400px",type:"warning"},load:{status:"done",failedInfo:"",retry:""},imageLibrary:{loading:"loading",show:!1,onSelect:!1,onCancel:!1,images:[]},messages:[]},f=(r={},(0,s.default)(r,c.WARNING,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="warning",e.messages.push(o)}),(0,s.default)(r,c.CONFIRM,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="confrim",e.messages.push(o)}),(0,s.default)(r,c.GET_INPUT,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="input",e.messages.push(o)}),(0,s.default)(r,c.NEXT_MESSAGE,function(e){e.messages.shift()}),(0,s.default)(r,c.GET_IMAGE,function(e,t){var n=t.onSelect,o=t.onCancel;e.imageLibrary.onSelect=n,e.imageLibrary.onCancel=o,e.imageLibrary.show=!0}),(0,s.default)(r,c.CLOSE_IMAGE_LIBRARY,function(e){e.imageLibrary.onSelect=!1,e.imageLibrary.onCancel=!1,e.imageLibrary.show=!1}),(0,s.default)(r,c.LOAD_IMAGES,function(e,t){var n=t.images;e.imageLibrary.images=n}),(0,s.default)(r,c.LOADING,function(e){e.load.status="loading"}),(0,s.default)(r,c.LOAD_FAILED,function(e,t){var n=t.source,o=t.err,a=t.retry,r=void 0===a?null:a;switch(n){case"projects":e.load.status="failed",e.load.failedInfo="加载项目列表失败";break;case"pageGroups":e.load.status="failed",e.load.failedInfo="加载页面分组失败";break;case"members":break;case"pages":e.load.status="failed",e.load.failedInfo="加载页面列表失败"}e.load.retry=r||null,console.log(n,o)}),(0,s.default)(r,c.LOAD_DONE,function(e){e.load.status="done"}),r);t.default={state:l,mutations:f}},94:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(13),s=a(i),u=n(7),c=o(u),d={current:null},l=(r={},(0,s.default)(r,c.LOG_IN,function(e,t){var n=t.user;e.current=n}),(0,s.default)(r,c.LOG_OUT,function(e){e.current=null}),r);t.default={state:d,mutations:l}},95:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=new RegExp(e+"=([^&#]*)","i"),n=t.exec(window.location.href);return null==n?null:decodeURI(n[1])};t.default=n},96:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyz",n="",o=0;o<e;o++)n+=t.charAt(Math.ceil(1e8*Math.random())%t.length);return n};t.default=n},97:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(332),r=o(a),i=n(333),s=o(i);t.default={name:"App",components:{MessageBox:r.default,Spinner:s.default}}},101:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),r=o(a),i=n(30),s=o(i),u=n(3);t.default={name:"Login",components:{Auth:s.default},data:function(){return{error:""}},methods:(0,r.default)({},(0,u.mapActions)(["login"]),{formSubmit:function(e){var t=this,n=e.target.email.value,o=e.target.password.value,a=e.target.remember.checked;return n?o?void this.login([n,o,a,function(){t.$router.replace(t.$route.query.redirect||"/")},function(e){switch(e.status){case 401:t.error="密码错误！";break;case 422:t.error="帐号错误！";break;default:t.error="登陆失败！"}}]):void(this.error="请输入您的密码"):void(this.error="请输入您的电子邮件")}}),mounted:function(){document.title="登陆 - 聚页"}}},104:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},105:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(58),r=o(a);t.default={components:{AppHeader:r.default}}},149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.default={computed:(0,o.mapGetters)({msg:"message",show:"showMessage"}),data:function(){return{error:""}},methods:{cancel:function(){this.msg.onCancel&&this.msg.onCancel(),this.$store.dispatch("nextMessage")},ok:function(){if(this.msg.onConfirm)if("input"===this.msg.type){var e=this.$refs.msgInput.value;this.error=this.msg.onConfirm(e)||""}else this.msg.onConfirm();!this.error&&this.$store.dispatch("nextMessage")}},watch:{show:function(e){var t=this;this.error="",e&&("input"===this.msg.type?this.$nextTick(function(){t.$refs.msgInput.focus()}):this.$nextTick(function(){t.$el.focus()}))}}}},153:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),r=o(a),i=n(3);t.default={computed:(0,r.default)({},(0,i.mapGetters)({load:"load"}))}},235:function(e,t){},239:function(e,t){},253:function(e,t){},261:function(e,t){},263:function(e,t){},278:function(e,t){},288:function(e,t,n){var o,a;n(253),o=n(97);var r=n(357);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=o},292:function(e,t,n){var o,a;o=n(101);var r=n(371);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=o},295:function(e,t,n){var o,a;o=n(105);var r=n(376);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,e.exports=o},332:function(e,t,n){var o,a;n(239),o=n(149);var r=n(338);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,a._scopeId="data-v-1396ffc9",e.exports=o},333:function(e,t,n){var o,a;n(278),o=n(153);var r=n(390);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=r.render,a.staticRenderFns=r.staticRenderFns,a._scopeId="data-v-faaef738",e.exports=o},338:function(e,t){e.exports={render:function(){var e=this;return e._h("transition",{attrs:{name:"fade"}},[e.show?e._h("div",{staticClass:"msg-mask",attrs:{tabindex:"-1"},on:{keyup:[function(t){13===t.keyCode&&e.ok(t)},function(t){27===t.keyCode&&e.cancel(t)}]}},[e._h("div",{staticClass:"msg-wrapper"},[e._h("div",{staticClass:"msg-container",style:{width:e.msg.width}},[e._h("div",{staticClass:"msg-header"},[e._m(0)," "+e._s(e.msg.header||"提示信息")+"\n        "])," ",e._h("div",{staticClass:"msg-body container-fluid"},["input"===e.msg.type?[e._h("div",{staticClass:"input-group"},[e._h("div",{staticClass:"input-group-addon",domProps:{innerHTML:e._s(e.msg.inputAddon)}})," ",e._h("input",{ref:"msgInput",staticClass:"form-control",attrs:{type:"text",placeholder:e.msg.placeholder||e.msg.header},domProps:{value:e.msg.content}})])," ",""!==e.msg.hint?e._h("p",{staticClass:"msg-hint"},[e._s(e.msg.hint)]):e._e()," ",""!==e.error?e._h("p",{staticClass:"text-danger"},[e._s(e.error)]):e._e()]:e._h("span",[e._s(e.msg.content)])," "])," ",e._h("div",{staticClass:"msg-footer"},[e._t("footer",[e._h("button",{directives:[{name:"show",rawName:"v-show",value:"warning"!==e.msg.type,expression:"msg.type !== 'warning'"}],staticClass:"btn btn-default btn-sm",on:{click:e.cancel}},["取消"]),"  \n            ",e._h("button",{staticClass:"btn btn-primary btn-sm",on:{click:e.ok}},["确定"])])])])])]):e._e()])},staticRenderFns:[function(){var e=this;return e._h("span",{staticClass:"glyphicon glyphicon-exclamation-sign"})}]}},357:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{attrs:{id:"app"}},[e._h("transition",{attrs:{name:"fade",mode:"out-in"}},[e._h("router-view",{staticClass:"page"})])," ",e._h("message-box")," ",e._h("spinner")])},staticRenderFns:[]}},366:function(e,t){e.exports={render:function(){var e=this;return e._h("div",[e._h("div",{staticClass:"auth-container"},[e._h("div",{staticClass:"auth-header"},[e._t("title")])," ",e._h("div",{staticClass:"auth-content"},[e._t("content")])])," ",e._h("div",{staticClass:"auth-extra"},[e._t("extra")])])},staticRenderFns:[]}},369:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{attrs:{id:"header-wrapper"}},[e._h("div",{staticClass:"header"},[e._h("router-link",{staticClass:"logo",attrs:{to:"/"}})," "," ",e._h("ul",{staticClass:"nav nav-pills header-nav"},[e._h("li",[e._h("router-link",{attrs:{to:"/help"}},["帮助"])])," ",e._h("li",[e._h("router-link",{attrs:{to:"/account"}},["我的帐号"])])," ",e._h("li",[e._h("router-link",{attrs:{to:"/logout"}},["退出登陆"])])])])])},staticRenderFns:[]}},371:function(e,t){e.exports={render:function(){var e=this;return e._h("auth",[e._h("span",{slot:"title"},["登陆"])," ",e._h("div",{slot:"content"},[e._h("form",{attrs:{action:"",method:"post"},on:{submit:function(t){t.preventDefault(),e.formSubmit(t)}}},[e._m(0)," ",e._m(1)," ",e._m(2)," ",e._h("p",{directives:[{name:"show",rawName:"v-show",value:!!e.error,expression:"!!error"}],staticClass:"auth-error bg-danger"},[e._s(e.error)])," ",e._m(3)])," ",e._h("div",[e._h("router-link",{attrs:{to:"/forgetpassword"}},["忘记密码？"])])])," ",e._h("p",{slot:"extra"},["\n    还没有聚页账户？\n    ",e._h("router-link",{attrs:{to:"/register"}},["注册用户"])])])},staticRenderFns:[function(){var e=this;return e._h("div",{staticClass:"form-group"},[e._h("input",{staticClass:"form-control input-lg",attrs:{type:"text",name:"email",value:"",placeholder:"邮箱"}})])},function(){var e=this;return e._h("div",{staticClass:"form-group"},[e._h("input",{staticClass:"form-control input-lg",attrs:{type:"password",name:"password",value:"",placeholder:"密码"}})])},function(){var e=this;return e._h("div",{staticClass:"form-group"},[e._h("label",[e._h("input",{attrs:{type:"checkbox",name:"remember",value:"1"}})," 在本机保持我的登陆状态"])])},function(){var e=this;return e._h("div",{staticClass:"form-group"},[e._h("input",{staticClass:"btn btn-primary btn-lg form-control input-lg",attrs:{type:"submit",value:"登陆"}})])}]}},376:function(e,t){e.exports={render:function(){var e=this;return e._h("div",[e._h("app-header")," ",e._h("transition",{attrs:{name:"fade",mode:"out-in"}},[e._h("router-view",{staticClass:"main-wrapper"})])])},staticRenderFns:[]}},390:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"load-status"},[e._h("transition",{attrs:{name:"fade"}},["loading"===e.load.status?e._h("div",{staticClass:"loading"},[e._m(0)]):e._e()])," ","failed"===e.load.status?e._h("div",[e._s(e.load.failedInfo)]):e._e()])},staticRenderFns:[function(){var e=this;return e._h("div",{staticClass:"loading-icon small"})}]}}});
//# sourceMappingURL=app.2a49c68440040e90cfcc.js.map