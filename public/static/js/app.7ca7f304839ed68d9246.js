webpackJsonp([12,10],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(16),a=o(r),i=n(52),s=o(i),u=n(98),c=o(u),d=n(329),l=o(d),f=n(10),p=o(f),m=n(53),E=o(m);n(269),p.default.account.current().then(function(e){s.default.dispatch("loadUser",e.data),_()},function(e){_()});var _=function(){a.default.http.interceptors.push(function(e,t){var n=E.default.get("XSRF-TOKEN");n&&(e.headers.map["X-XSRF-TOKEN"]=[n]),t(function(e){401===e.status&&s.default.dispatch("requireLogin")})}),new a.default({el:"#app",router:c.default,store:s.default,render:function(e){return e(l.default)}})}},9:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOG_IN="LOG_IN",t.LOG_OUT="LOG_OUT",t.LOAD_PROJECTS="LOAD_PROJECTS",t.CREATE_PROJECT="CREATE_PROJECT",t.RENAME_PROJECT="RENAME_PROJECT",t.REMOVE_PROJECT="REMOVE_PROJECT",t.SET_CURRENT_PROJECT="SET_CURRENT_PROJECT",t.LOAD_MEMBERS="LOAD_MEMBERS",t.LOAD_PAGEGROUPS="LOAD_PAGEGROUPS",t.EMPTY_PAGEGROUPS="EMPTY_PAGEGROUPS",t.CREATE_PAGEGROUP="CREATE_PAGEGROUP",t.REMOVE_PAGEGROUP="REMOVE_PAGEGROUP",t.RENAME_PAGEGROUP="RENAME_PAGEGROUP",t.SET_EDITING_PAGEGROUP="SET_EDITING_PAGEGROUP",t.SET_CURRENT_PAGEGROUP="SET_CURRENT_PAGEGROUP",t.LOAD_PAGES="LOAD_PAGES",t.EMPTY_PAGES="EMPTY_PAGES",t.CREATE_PAGE="CREATE_PAGE",t.RENAME_PAGE="RENAME_PAGE",t.REMOVE_PAGE="REMOVE_PAGE",t.DUPLICATE_PAGE="DUPLICATE_PAGE",t.MOVE_PAGE="MOVE_PAGE",t.WARNING="WARNING",t.CONFIRM="CONFIRM",t.GET_INPUT="GET_INPUT",t.CLOSE_MESSAGE_BOX="CLOSE_MESSAGE_BOX",t.NEXT_MESSAGE="NEXT_MESSAGE",t.GET_IMAGE="GET_IMAGE",t.CLOSE_IMAGE_LIBRARY="CLOSE_IMAGE_LIBRARY",t.LOAD_IMAGES="LOAD_IMAGES",t.LOADING="LOADING",t.LOAD_FAILED="LOAD_FAILED",t.LOAD_DONE="LOAD_DONE",t.LOAD_PAGE="LOAD_PAGE",t.LOAD_VARIATION="LOAD_VARIATION",t.SAVE_VARIATION="SAVE_VARIATION",t.CREATE_VARIATION="CREATE_VARIATION",t.REMOVE_VARIATION="REMOVE_VARIATION",t.RENAME_VARIATION="RENAME_VARIATION",t.SAVE_SETTINGS="SAVE_SETTINGS",t.SAVE_CONTENT_STATE="SAVE_CONTENT_STATE",t.UNDO="UNDO",t.REDO="REDO",t.SWITCH_VERSION="SWITCH_VERSION",t.SET_COLOR_SET="SET_COLOR_SET",t.ADD_SECTION="ADD_SECTION",t.MOVE_SECTION="MOVE_SECTION",t.REMOVE_SECTION="REMOVE_SECTION",t.MODIFY_SECTION="MODIFY_SECTION",t.SET_ACTIVE_SECTION_ID="SET_ACTIVE_SECTION_ID",t.SET_ACTIVE_ELEMENT_ID="SET_ACTIVE_ELEMENT_ID",t.MODIFY_ELEMENT="MODIFY_ELEMENT",t.REPLACE_ELEMENT="REPLACE_ELEMENT",t.ADD_ELEMENT="ADD_ELEMENT",t.REMOVE_ELEMENT="REMOVE_ELEMENT",t.REMOVE_ELEMENT_FROM_SECTION="REMOVE_ELEMENT_FROM_SECTION",t.MOVE_ELEMENT="MOVE_ELEMENT",t.DUPULICATE_ELEMENT="DUPULICATE_ELEMENT"},10:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),a=o(r),i=n(444),s=o(i);a.default.use(s.default),a.default.http.options.root="/api",t.default={project:a.default.resource("project{/id}"),projectMember:a.default.resource("projects/{projectId}/users{/id}"),pageGroup:a.default.resource("projects/{projectId}/groups{/id}"),page:a.default.resource("page{/id}",{},{duplicate:{method:"POST",url:"page/{id}/copy"},publish:{method:"PUT",url:"page/{id}/publish"},leads:{method:"GET",url:"page/{id}/leads"}}),variation:a.default.resource("pages/{pageId}/variations{/id}",{},{duplicate:{method:"POST",url:"pages/{pageId}/variations{/id}/copy"}}),image:a.default.resource("storage/image{/id}"),imageFolder:a.default.resource("storage/folder{/id}"),report:a.default.resource("report/{module}/{pageId}"),account:a.default.resource("account{/id}",{},{current:{method:"GET",url:"auth/account/current"}}),auth:{save:function(e,t){var n="auth/login";return a.default.http.post(n,t)},delete:function(e,t){var n="auth/logout";return a.default.http.get(n)}},user:{save:function(e,t){var n="auth/register";return a.default.http.post(n,t)},getPassword:function(e,t){var n="auth/password/forget";return a.default.http.post(n,t)},resetPassword:function(e,t){var n="auth/password/reset";return a.default.http.post(n,t)}}}},31:function(e,t,n){var o,r;n(300);var a=n(414);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-6fe1c04e",e.exports=o},52:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),i=r(a),s=n(3),u=r(s),c=n(106),d=r(c),l=n(109),f=r(l),p=n(110),m=r(p),E=n(107),_=r(E),h=n(108),v=r(h),g=n(102),O=o(g),I=n(103),A=o(I),T=n(99),P=o(T),b=n(100),y=o(b),S=n(101),M=o(S),R=n(105),x=o(R),G=n(6);i.default.use(u.default);var N=(0,G.merge)(O,P,y,A,M),C=new u.default.Store({actions:N,getters:x,modules:{dashboard:d.default,ui:f.default,user:m.default,editor:_.default,stats:v.default},strict:!1});t.default=C},53:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},set:function(e,t,n){var o="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toGMTString()}document.cookie=e+"="+t+o+"; path=/"}};t.default=n},68:function(e,t,n){var o,r;n(302),o=n(121);var a=n(417);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},98:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),a=o(r),i=n(445),s=o(i),u=n(324),c=o(u),d=n(52),l=o(d),f=n(336),p=o(f),m=n(333),E=o(m);a.default.use(s.default);var _=function(e){return n.e(0,function(t){var n=[t(346)];e.apply(null,n)}.bind(this))},h=function(e){return n.e(4,function(t){var n=[t(369)];e.apply(null,n)}.bind(this))},v=function(e){return n.e(3,function(t){var n=[t(337)];e.apply(null,n)}.bind(this))},g=function(e){return n.e(9,function(t){var n=[t(330)];e.apply(null,n)}.bind(this))},O=function(e){return n.e(2,function(t){var n=[t(374)];e.apply(null,n)}.bind(this))},I=function(e){return n.e(1,function(t){var n=[t(368)];e.apply(null,n)}.bind(this))},A=function(e){return n.e(6,function(t){var n=[t(334)];e.apply(null,n)}.bind(this))},T=function(e){return n.e(8,function(t){var n=[t(331)];e.apply(null,n)}.bind(this))},P=function(e){return n.e(7,function(t){var n=[t(332)];e.apply(null,n)}.bind(this))},b=function(e){return n.e(5,function(t){var n=[t(335)];e.apply(null,n)}.bind(this))},y=new s.default({mode:"history",base:e,routes:[{path:"/login",name:"login",component:E.default,beforeEnter:function(e,t,n){l.default.getters.isLogin?n("/"):n()}},{path:"/logout",beforeEnter:function(e,t,n){l.default.dispatch("logout",function(){return n("/login")})}},{path:"/register",name:"register",component:A},{path:"/active",name:"active",component:T},{path:"/forgetpassword",name:"forgetpassword",component:P},{path:"/resetpassword/:token",name:"resetpassword",component:b},{path:"/editor/:pageId",name:"editor",component:_,meta:{requiresAuth:!0,preFetch:"editorInit"}},{path:"/editor/:pageId/:variationId",name:"variation",component:_,meta:{requiresAuth:!0,preFetch:"editorInit"}},{path:"/preview/:pageId/:variationId",name:"preview",component:h,meta:{requiresAuth:!0}},{path:"/",name:"home",component:p.default,meta:{requiresAuth:!0},children:[{path:"",name:"dashboard",component:v,meta:{preFetch:"dashboardInit"}},{path:"/account",name:"account",component:g},{path:"/leads/:pageId",name:"leads",component:I},{path:"/stats/:pageId/:module",name:"stats",component:O,meta:{preFetch:"statsInit"}}]}]});c.default.configure({showSpinner:!1}),y.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.requiresAuth})&&!l.default.getters.isLogin?n({path:"/login",query:{redirect:e.fullPath}}):(c.default.start(),l.default.dispatch("loading"),e.meta.preFetch?l.default.dispatch(e.meta.preFetch,[e,function(){n()}]):n())}),y.afterEach(function(e,t,n){c.default.done(),l.default.dispatch("loadingDone")}),t.default=y}).call(t,"/")},99:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicatePage=t.movePage=t.renamePage=t.removePage=t.createPage=t.renamePageGroup=t.setEditingPageGroup=t.removePageGroup=t.createPageGroup=t.quitProject=t.removeMember=t.inviteMember=t.loadMembers=t.createProject=t.switchPageGroup=t.switchProject=t.dashboardInit=void 0;var a=n(24),i=r(a),s=n(10),u=r(s),c=n(111),d=r(c),l=n(53),f=r(l),p=n(9),m=o(p),E=(t.dashboardInit=function(e,t){var n=e.commit,o=e.state,r=(0,i.default)(t,2),a=(r[0],r[1]),s=void 0!==a&&a;return o.dashboard.projects.length>0?void(s&&s()):void u.default.project.get().then(function(e){var t=e.data;n(m.LOAD_PROJECTS,{projects:t});var o=(0,d.default)("id")||f.default.get("projectId"),r=t.find(function(e){return e.id===o})||t.find(function(e){return 1===e.is_default})||t[0];E({commit:n},[r,s])})},t.switchProject=function(e,t){var n=e.commit,o=(0,i.default)(t,2),r=o[0],a=o[1],s=void 0!==a&&a;n(m.EMPTY_PAGEGROUPS),n(m.EMPTY_PAGES),n(m.SET_CURRENT_PROJECT,{project:r}),f.default.set("projectId",r.id,365),h({commit:n},r),u.default.pageGroup.get({projectId:r.id}).then(function(e){var t=e.data;n(m.LOAD_PAGEGROUPS,{pageGroups:t});var o=t.find(function(e){return 1===e.is_default})||t[0];_({commit:n},[o,s])})}),_=t.switchPageGroup=function(e,t){var n=e.commit,o=(0,i.default)(t,2),r=o[0],a=o[1],s=void 0!==a&&a;n(m.SET_CURRENT_PAGEGROUP,{pageGroup:r}),u.default.page.get({group_id:r.id}).then(function(e){n(m.LOAD_PAGES,{pages:e.data}),s&&s()})},h=(t.createProject=function(e,t){var n=e.commit;u.default.project.save({},t).then(function(e){var t=e.data;n(m.CREATE_PROJECT,{project:t}),E({commit:n},[t])})},t.loadMembers=function(e,t){var n=e.commit;u.default.projectMember.get({projectId:t.id}).then(function(e){var t=e.data;n(m.LOAD_MEMBERS,{members:t})})});t.inviteMember=function(e,t){var n=e.commit,o=e.state;u.default.projectMember.save({projectId:o.dashboard.currentProject.id},t).then(function(e){h({commit:n},o.dashboard.currentProject)})},t.removeMember=function(e,t,n){e.commit},t.quitProject=function(e,t){e.commit},t.createPageGroup=function(e,t){var n=e.commit;u.default.pageGroup.save({projectId:t.projectId},t).then(function(e){var t=e.data;n(m.CREATE_PAGEGROUP,{pageGroup:t})})},t.removePageGroup=function(e,t){var n=e.commit,o=e.state;u.default.pageGroup.delete({projectId:o.dashboard.currentProject.id,id:t.id}).then(function(e){n(m.REMOVE_PAGEGROUP,{pageGroup:t})})},t.setEditingPageGroup=function(e,t){var n=e.commit;n(m.SET_EDITING_PAGEGROUP,{pageGroup:t})},t.renamePageGroup=function(e,t){var n=e.commit,o=e.state,r=o.pageGroups.editing;u.default.pageGroup.update({projectId:o.dashboard.currentProject.id,id:r.id},{name:t}).then(function(e){n(m.RENAME_PAGEGROUP,{pageGroup:r,newName:t})})},t.createPage=function(e,t){var n=e.commit;u.default.page.save({},t).then(function(e){n(m.CREATE_PAGE,{page:e.data})})},t.removePage=function(e,t){var n=e.commit;u.default.page.delete({id:t.id}).then(function(e){n(m.REMOVE_PAGE,{page:t})})},t.renamePage=function(e,t){var n=e.commit,o=(0,i.default)(t,2),r=o[0],a=o[1];u.default.page.update({id:r.id},{name:a}).then(function(e){n(m.RENAME_PAGE,{page:r,newName:a})})},t.movePage=function(e,t){var n=e.commit,o=(0,i.default)(t,2),r=o[0],a=o[1];u.default.page.update({id:r.id},{name:r.name,group_id:a.id}).then(function(e){console.log(e),n(m.REMOVE_PAGE,{page:r})})},t.duplicatePage=function(e,t){var n=e.commit;u.default.page.duplicate({id:t.id},{}).then(function(e){n(m.CREATE_PAGE,{page:e.data})})}},100:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateElement=t.addElement=t.modifyElement=t.indexElement=t.resizeElement=t.moveElement=t.removeElement=t.setActiveElementId=t.setColorSet=t.switchVersion=t.redo=t.undo=t.setActiveSectionId=t.removeSection=t.modifySection=t.moveSection=t.addSection=t.publishPage=t.setURL=t.saveVariation=t.saveSettings=t.removeVariation=t.renameVariation=t.duplicateVariation=t.createVariation=t.loadVariation=t.editorInit=void 0;var a=n(181),i=r(a),s=n(24),u=r(s),c=n(10),d=r(c),l=n(9),f=o(l),p=n(6),m=n(104),E=r(m),_=(t.editorInit=function(e,t){var n=e.commit,o=e.state,r=(0,u.default)(t,2),a=r[0],i=r[1],s=void 0!==i&&i,c=a.params.pageId;d.default.page.get({id:c}).then(function(e){var t=e.data;d.default.variation.get({pageId:t.id}).then(function(e){t.variations=e.data,n(f.LOAD_PAGE,{page:t});var r=a.params.variationId||t.variations[0].id,i=t.variations.find(function(e){return e.id===parseInt(r)});_({commit:n,state:o},[i,s])})})},t.loadVariation=function(e,t){var n=e.commit,o=e.state,r=(0,u.default)(t,2),a=r[0],i=r[1],s=void 0!==i&&i;d.default.variation.get({pageId:o.editor.page.id,id:a.id}).then(function(e){var t=JSON.parse(e.data.html_json);n(f.LOAD_VARIATION,{variation:a,content:t}),s&&s()})}),h=(t.createVariation=function(e){var t=e.commit,n=e.state;d.default.variation.save({pageId:n.editor.page.id},{}).then(function(e){var o=e.data;t(f.CREATE_VARIATION,{variation:o}),_({commit:t,state:n},[o])})},t.duplicateVariation=function(e,t){var n=e.commit,o=e.state;d.default.variation.duplicate({pageId:o.editor.page.id,id:t.id},{}).then(function(e){var t=e.data;n(f.CREATE_VARIATION,{variation:t}),_({commit:n,state:o},[t])})},t.renameVariation=function(e,t){var n=e.commit,o=e.state,r=(0,u.default)(t,2),a=r[0],i=r[1];d.default.variation.update({pageId:o.editor.page.id,id:a.id},{name:i}).then(function(e){n(f.RENAME_VARIATION,{variation:a,newName:i})})},t.removeVariation=function(e,t){var n=e.commit,o=e.state;d.default.variation.delete({pageId:o.editor.page.id,id:t.id}).then(function(e){n(f.REMOVE_VARIATION,{variation:t}),t.id===o.editor.workspace.activeVariation.id&&_({commit:n,state:o},[o.editor.page.variations[0]])})},t.saveSettings=function(e,t){var n=e.commit;n(f.SAVE_SETTINGS,{settings:t})},t.saveVariation=function(e){var t=e.commit,n=e.state,o=(0,i.default)(n.editor.content);d.default.variation.update({pageId:n.editor.page.id,id:n.editor.workspace.activeVariation.id},{htmljson:o}).then(function(e){t(f.SAVE_VARIATION)})},t.setURL=function(e,t){var n=(e.commit,e.state),o=(0,u.default)(t,3),r=o[0],a=o[1];o[2];d.default.page.update({id:n.editor.page.id},{url:r}).then(function(e){a(e.data)})},t.publishPage=function(e,t){var n=(e.commit,e.state);d.default.page.publish({id:n.editor.page.id},{}).then(function(e){t(e.data)})},t.addSection=function(e){var t=e.commit,n={style:{pc:{"background-color":"",height:"500px"},mobile:{"background-color":"",height:"500px"}},elements:{pc:[],mobile:[]}};t(f.ADD_SECTION,{section:n}),t(f.SAVE_CONTENT_STATE)}),v=(t.moveSection=function(e,t){var n=e.commit,o=e.state,r=(0,u.default)(t,2),a=r[0],i=r[1],s=i,c=i;"down"===a&&i<o.editor.content.sections.length-1&&s++,"up"===a&&i>0&&s--,c!==s&&(n(f.MOVE_SECTION,{sourceId:c,targetId:s}),n(f.SAVE_CONTENT_STATE))},t.modifySection=function(e,t){var n=e.commit,o=(0,u.default)(t,2),r=o[0],a=o[1];n(f.MODIFY_SECTION,{sectionId:r,style:a}),n(f.SAVE_CONTENT_STATE)},t.removeSection=function(e,t){var n=e.commit;n(f.REMOVE_SECTION,{sectionId:t}),n(f.SAVE_CONTENT_STATE)},t.setActiveSectionId=function(e,t){var n=e.commit;n(f.SET_ACTIVE_SECTION_ID,{sectionId:t})},t.undo=function(e){var t=e.commit;return t(f.UNDO)},t.redo=function(e){var t=e.commit;return t(f.REDO)},t.switchVersion=function(e,t){var n=e.commit;n(f.SWITCH_VERSION,{version:t})},t.setColorSet=function(e,t){var n=e.commit,o=e.state;t!==o.editor.content.colorSet&&(n(f.SET_COLOR_SET,{colorSet:t}),n(f.SAVE_CONTENT_STATE))},t.setActiveElementId=function(e,t){var n=e.commit;n(f.SET_ACTIVE_ELEMENT_ID,{elementId:t})},t.removeElement=function(e,t){var n=e.commit,o=e.state,r=(0,u.default)(t,2),a=r[0],i=r[1],s=void 0===i||i,c=v(o,a);n(f.REMOVE_ELEMENT,{elementId:a,sectionIds:c}),s&&n(f.SAVE_CONTENT_STATE)},t.moveElement=function(e,t){for(var n=e.commit,o=e.state,r=(0,u.default)(t,4),a=r[0],i=r[1],s=r[2],c=r[3],d=0,l=0,m=s.top+c/2,E=-1;m>=d;)E++,l=parseInt(o.editor.content.sections[E].style[o.editor.workspace.version].height),d+=l;var _=(0,p.merge)({},o.editor.content.elements[i]);_.style[o.editor.workspace.version].top=s.top-(d-l)+"px",_.style[o.editor.workspace.version].left=s.left+"px",n(f.MOVE_ELEMENT,{elementId:i,newElement:_,sectionId:a,newSectionId:E}),n(f.SAVE_CONTENT_STATE)},t.resizeElement=function(e,t){var n=e.commit,o=e.state,r=(0,u.default)(t,2),a=r[0],i=r[1],s=(0,p.merge)({},o.editor.content.elements[a]),c=s.style[o.editor.workspace.version].height,d=c&&"auto"!==c?i.height+"px":"auto";s.style[o.editor.workspace.version].width=i.width+"px",s.style[o.editor.workspace.version].height=d,n(f.MODIFY_ELEMENT,{elementId:a,newElement:s}),n(f.SAVE_CONTENT_STATE)},t.indexElement=function(e,t){var n=e.commit,o=e.state,r=e.getters,a=(0,u.default)(t,2),i=a[0],s=a[1],c=(0,p.merge)({},o.editor.content.elements[i]);"top"===s?c.style[o.editor.workspace.version].zIndex=++r.elementsIndex[o.editor.workspace.version].max:c.style[o.editor.workspace.version].zIndex=--r.elementsIndex[o.editor.workspace.version].min,n(f.MODIFY_ELEMENT,{elementId:i,newElement:c}),n(f.SAVE_CONTENT_STATE)},t.modifyElement=function(e,t){var n=e.commit,o=e.state,r=(0,u.default)(t,3),a=r[0],i=r[1],s=r[2],c=void 0!==s&&s,d=c?(0,p.merge)({},i):(0,p.merge)({},o.editor.content.elements[a],i);n(f.MODIFY_ELEMENT,{elementId:a,newElement:d}),n(f.SAVE_CONTENT_STATE)},t.addElement=function(e,t){var n=e.commit,o=e.state,r=e.getters;0===o.editor.content.sections.length&&h({commit:n});for(var a=document.getElementById("main-wrapper"),i=E.default[t],s=a.scrollTop+100,u=0,c=0,d=-1,l=o.editor.workspace.version,p="pc"===o.editor.workspace.version?"mobile":"pc";u<s;)d++,c=parseInt(o.editor.content.sections[d].style[l].height),u+=c;var m=s+c-u;i.style[l].top=m+"px",i.style[p].top="10px",i.style.pc.zIndex=r.elementsIndex.pc.max,i.style.mobile.zIndex=r.elementsIndex.mobile.max,n(f.ADD_ELEMENT,{sectionId:d,element:i}),"image"!==t&&n(f.SAVE_CONTENT_STATE)},t.duplicateElement=function(e,t){var n=e.commit,o=e.state,r=e.getters,a=v(o,t),i=(0,p.merge)({},o.editor.content.elements[t]);i.style.pc.zIndex=r.elementsIndex.pc.max+1,i.style.mobile.zIndex=r.elementsIndex.mobile.max+1;var s=parseInt(i.style.pc.left),u=parseInt(i.style.pc.width);s+u>o.editor.content.settings.style.width.pc-20?i.style.pc.left=(s-20>0?s-20:0)+"px":i.style.pc.left=s+20+"px";var c=parseInt(i.style.mobile.left),d=parseInt(i.style.mobile.width);c+d>o.editor.content.settings.style.width.mobile-20?i.style.mobile.left=(c-20>0?c-20:0)+"px":i.style.mobile.left=c+20+"px",i.style.pc.top=parseInt(i.style.pc.top)+20+"px",i.style.mobile.top=parseInt(i.style.mobile.top)+20+"px",n(f.DUPULICATE_ELEMENT,{newElement:i,sectionIds:a}),n(f.SAVE_CONTENT_STATE)},function(e,t){var n=0,o=null,r=null;return e.editor.content.sections.forEach(function(e){e.elements.pc.indexOf(t)>=0&&(o=n),e.elements.mobile.indexOf(t)>=0&&(r=n),n++}),{pc:o,mobile:r}})},101:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.statsInit=void 0;var a=n(24),i=r(a),s=n(10),u=r(s),c=n(9),d=o(c);t.statsInit=function(e,t){var n=e.commit,o=(e.state,(0,i.default)(t,2)),r=o[0],a=o[1],s=void 0!==a&&a;u.default.page.get({id:r.params.pageId}).then(function(e){var t=e.data;u.default.variation.get({pageId:t.id}).then(function(e){t.variations=e.data,n(d.LOAD_STATS_PAGE,{page:t}),s&&s()})})}},102:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadingDone=t.loading=t.closeImageLibrary=t.getImage=t.getInput=t.confirm=t.warning=t.nextMessage=void 0;var a=n(24),i=r(a),s=n(9),u=o(s);t.nextMessage=function(e){var t=e.commit;t(u.NEXT_MESSAGE)},t.warning=function(e,t){var n=e.commit;n(u.WARNING,{msg:t})},t.confirm=function(e,t){var n=e.commit;n(u.CONFIRM,{msg:t})},t.getInput=function(e,t){var n=e.commit;n(u.GET_INPUT,{msg:t})},t.getImage=function(e,t){var n=e.commit,o=(0,i.default)(t,2),r=o[0],a=o[1],s=void 0!==a&&a;n(u.GET_IMAGE,{onSelect:r,onCancel:s})},t.closeImageLibrary=function(e){var t=e.commit;t(u.CLOSE_IMAGE_LIBRARY)},t.loading=function(e){var t=e.commit;t(u.LOADING)},t.loadingDone=function(e){var t=e.commit;t(u.LOAD_DONE)}},103:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.activeEmail=t.resetPassword=t.getPassword=t.register=t.logout=t.login=t.requireLogin=t.loadUser=void 0;var a=n(24),i=r(a),s=n(9),u=o(s),c=n(10),d=r(c);t.loadUser=function(e,t){var n=e.commit;n(u.LOG_IN,{user:t})},t.requireLogin=function(e){e.commit},t.login=function(e,t){var n=e.commit,o=(0,i.default)(t,5),r=o[0],a=o[1],s=o[2],c=o[3],l=o[4];d.default.auth.save({},{email:r,password:a,remember:s}).then(function(e){var t=e.data;n(u.LOG_IN,{user:t}),c()},function(e){return l(e)})},t.logout=function(e,t){var n=e.commit;d.default.auth.delete().then(function(e){n(u.LOG_OUT),t()})},t.register=function(e,t){var n=e.commit,o=(0,i.default)(t,3),r=o[0],a=o[1],s=o[2];d.default.user.save({},r).then(function(e){var t=e.data;n(u.LOG_IN,{user:t}),a()},function(e){return s(e)})},t.getPassword=function(e,t){var n=(e.commit,(0,i.default)(t,3)),o=n[0],r=n[1],a=n[2];d.default.user.getPassword({},{email:o}).then(function(e){r()},function(e){return a(e)})},t.resetPassword=function(e,t){var n=(e.commit,(0,i.default)(t,4)),o=n[0],r=n[1],a=n[2],s=n[3];d.default.user.resetPassword({},{token:o,password:r,password_confirmation:r}).then(function(e){a()},function(e){s(e)})},t.activeEmail=function(e){e.commit}},104:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={text:{type:"text",content:"<p>双击开始编辑这段文字</p>",style:{pc:{left:"380px",top:"10px",width:"200px"},mobile:{left:"80px",top:"10px",width:"200px"}},fontStyle:{color:"4",fontSize:"16px",lineHeight:"1.4",textAlign:"left"}},image:{type:"image",src:"",style:{pc:{top:"10px",width:""},mobile:{top:"10px",width:""}}},button:{type:"button",text:"点击下载",imageObj:null,props:{backgroundColor:"3",borderWidth:1,borderColor:"4",color:"0",hoverColor:"4",borderRadius:"5px",fontSize:"18px",borderStyle:"none",boxShadow:"1px 3px 6px #888",boxShadowX:1,boxShadowY:1,boxShadowSize:2,boxShadowColor:4,boxShadowInset:!1,fontWeight:"normal"},style:{pc:{left:"400px",top:"10px",width:"160px",height:"37px"},mobile:{left:"100px",top:"10px",width:"160px",height:"37px"}}},form:{type:"form",style:{pc:{left:"330px",top:"10px",width:"300px"},mobile:{left:"30px",top:"10px",width:"300px"}},props:{labelInside:!0,innerShadow:!1,boxShadow:"",fieldColor:"#fff",inputColor:"4",borderColor:"#ccc",labelColor:"3",redirect:"",thankyou:"表单提交成功，感谢！"},fields:[{label:"姓名",type:"text",validator:["required"]},{label:"手机号码",type:"text",validator:["required","mobile"]}],button:{text:"提交",props:{backgroundColor:"3",borderColor:"4",color:"0",hoverColor:"4",borderRadius:"5px",fontSize:"18px",borderStyle:"none",boxShadow:"1px 3px 6px #888",fontWeight:"normal"}}},html:{type:"html",content:"",style:{pc:{left:"330px",top:"10px",width:"300px",height:"150px"},mobile:{left:"50px",top:"10px",width:"300px",height:"150px"}}},square:{type:"shape",subType:"square",props:{backgroundColor:"1",borderWidth:"1px",borderColor:"3",borderRadius:"0px",borderStyle:"solid"},style:{pc:{left:"380px",top:"10px",width:"200px",height:"150px"},mobile:{left:"80px",top:"10px",width:"200px",height:"150px"}}},circle:{type:"shape",subType:"circle",props:{backgroundColor:"1",borderWidth:"1px",borderColor:"3",borderRadius:"50%",borderStyle:"solid"},style:{pc:{left:"380px",top:"10px",width:"200px",height:"200px"},mobile:{left:"80px",top:"10px",width:"200px",height:"200px"}}},video:{type:"video",content:{source:null},style:{pc:{left:"330px",top:"10px",width:"300px",height:"150px"},mobile:{left:"50px",top:"10px",width:"200px",height:"120px"}}},timer:{type:"timer",data:{date:null,time:null,labelColor:null,numberColor:null,timerColor:null},style:{pc:{left:"330px",top:"10px",width:"300px",height:"auto"},mobile:{left:"50px",top:"10px",width:"220px",height:"auto"}}}}},105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveStatus=t.redoButton=t.undoButton=t.elementsIndex=t.editorHeight=t.editingPage=t.editorColorSet=t.editorFixedElements=t.editorElements=t.editorSections=t.editorSettings=t.editorWorkspace=t.imageLibrary=t.load=t.showMessage=t.message=t.editingPageGroup=t.defaultPageGroup=t.currentPageGroup=t.allPageGroups=t.projectMembersInvited=t.projectMembers=t.currentProject=t.allProjects=t.allPages=t.statsPage=t.isLogin=void 0;var o=n(6);t.isLogin=function(e){return!!e.user.current},t.statsPage=function(e){return e.stats.page},t.allPages=function(e){return e.dashboard.pages},t.allProjects=function(e){return e.dashboard.projects},t.currentProject=function(e){return e.dashboard.currentProject},t.projectMembers=function(e){return e.dashboard.projectMembers},t.projectMembersInvited=function(e){return e.dashboard.projectMembersInvited},t.allPageGroups=function(e){return e.dashboard.pageGroups.filter(function(e){return 1!==e.is_default})},t.currentPageGroup=function(e){return e.dashboard.currentPageGroup},t.defaultPageGroup=function(e){return e.dashboard.defaultPageGroup},t.editingPageGroup=function(e){return e.dashboard.editingPageGroup},t.message=function(e){return e.ui.messages[0]||{}},t.showMessage=function(e){return e.ui.messages.length>0},t.load=function(e){return e.ui.load},t.imageLibrary=function(e){return e.ui.imageLibrary},t.editorWorkspace=function(e){return e.editor.workspace},t.editorSettings=function(e){return e.editor.content.settings},t.editorSections=function(e){return e.editor.content.sections},t.editorElements=function(e){return e.editor.content.elements},t.editorFixedElements=function(e){var t=[],n=e.editor.content.elements;for(var o in n)n[o].fixed&&"none"!==n[o].fixed&&t.push(o);return t},t.editorColorSet=function(e){return e.editor.content.colorSet},t.editingPage=function(e){return e.editor.page},t.editorHeight=function(e){var t=0;return e.editor.content.sections&&e.editor.content.sections.forEach(function(n){t+=parseInt(n.style[e.editor.workspace.version].height)}),t},t.elementsIndex=function(e){var t={pc:{max:5e4,min:5e4},mobile:{max:5e4,min:5e4}},n=e.editor.content.elements;for(var o in n)t.pc.max=Math.max(n[o].style.pc.zIndex,t.pc.max),t.pc.min=Math.min(n[o].style.pc.zIndex,t.pc.min),t.mobile.max=Math.max(n[o].style.mobile.zIndex,t.mobile.max),t.mobile.min=Math.min(n[o].style.mobile.zIndex,t.mobile.min);return t},t.undoButton=function(e){return e.editor.history.index>0},t.redoButton=function(e){return e.editor.history.states.length>e.editor.history.index+1},t.saveStatus=function(e){return(0,o.isEqual)(e.editor.content,e.editor.history.saved)}},106:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(18),s=r(i),u=n(9),c=o(u),d={projects:[],currentProject:{},projectMembers:[],projectMembersInvited:[],pageGroups:[],currentPageGroup:{},defaultPageGroup:{},editingPageGroup:{},pages:[]},l=(a={},(0,s.default)(a,c.LOAD_PROJECTS,function(e,t){var n=t.projects;e.projects=n}),(0,s.default)(a,c.LOG_OUT,function(e){e.projects=[],e.pageGroups=[],e.pages=[]}),(0,s.default)(a,c.SET_CURRENT_PROJECT,function(e,t){var n=t.project;e.currentProject=n}),(0,s.default)(a,c.LOAD_MEMBERS,function(e,t){var n=t.members,o=t.invited;e.projectMembers=n,e.projectMembersInvited=o}),(0,s.default)(a,c.CREATE_PROJECT,function(e,t){var n=t.project;e.projects.push(n)}),(0,s.default)(a,c.LOAD_PAGEGROUPS,function(e,t){var n=t.pageGroups;e.pageGroups=n,e.defaultPageGroup=n.find(function(e){return 1===e.is_default})}),(0,s.default)(a,c.SET_CURRENT_PAGEGROUP,function(e,t){var n=t.pageGroup;e.currentPageGroup=n}),(0,s.default)(a,c.CREATE_PAGEGROUP,function(e,t){var n=t.pageGroup;e.pageGroups.push(n),e.editingPageGroup=n}),(0,s.default)(a,c.REMOVE_PAGEGROUP,function(e,t){var n=t.pageGroup;e.pageGroups.splice(e.pageGroups.indexOf(n),1)}),(0,s.default)(a,c.SET_EDITING_PAGEGROUP,function(e,t){var n=t.pageGroup;e.editingPageGroup=n}),(0,s.default)(a,c.RENAME_PAGEGROUP,function(e,t){var n=t.pageGroup,o=t.newName;n.name=o}),(0,s.default)(a,c.EMPTY_PAGEGROUPS,function(e){e.pageGroups=[]}),(0,s.default)(a,c.LOAD_PAGES,function(e,t){var n=t.pages;e.pages=n}),(0,s.default)(a,c.CREATE_PAGE,function(e,t){var n=t.page;e.pages.push(n)}),(0,s.default)(a,c.REMOVE_PAGE,function(e,t){var n=t.page;e.pages.splice(e.pages.indexOf(n),1)}),(0,s.default)(a,c.RENAME_PAGE,function(e,t){var n=t.page,o=t.newName;n.name=o}),(0,s.default)(a,c.EMPTY_PAGES,function(e){e.pages=[]}),a);t.default={state:d,mutations:l}},107:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(18),s=r(i),u=n(16),c=r(u),d=n(9),l=o(d),f=n(6),p=n(112),m=r(p),E={workspace:{width:360,version:"mobile",activeSectionId:null,activeElementId:"",activeVariation:null,saveStatus:"saved"},page:{},content:{},history:{states:[],index:0,saved:{}}},_=(a={},(0,s.default)(a,l.LOAD_PAGE,function(e,t){var n=t.page;e.page=(0,f.merge)({},n)}),(0,s.default)(a,l.LOAD_VARIATION,function(e,t){var n=t.variation,o=t.content,r={settings:{seo:{pageTitle:"",keywords:"",description:""},goals:[],code:{header:"",bodyIn:"",bodyOut:""},style:{width:{pc:960,mobile:360}}},colorSet:["#FCFFF5","#D1DBBD","#91AA9D","#3E606F","#193441"],sections:[],elements:{}};e.workspace.activeVariation=n,e.content=(0,f.merge)({},r,o),e.history.states=[(0,f.merge)({},e.content)],e.history.index=0,e.history.saved=(0,f.merge)({},e.content)}),(0,s.default)(a,l.SAVE_VARIATION,function(e){e.history.saved=(0,f.merge)({},e.content)}),(0,s.default)(a,l.CREATE_VARIATION,function(e,t){var n=t.variation;e.page.variations.push(n)}),(0,s.default)(a,l.REMOVE_VARIATION,function(e,t){var n=t.variation;e.page.variations.splice(e.page.variations.indexOf(n),1)}),(0,s.default)(a,l.RENAME_VARIATION,function(e,t){var n=t.variation,o=t.newName;n.name=o,e.workspace.activeVariation.id===n.id&&(e.workspace.activeVariation=n)}),(0,s.default)(a,l.SAVE_SETTINGS,function(e,t){var n=t.settings;e.content.settings=n}),(0,s.default)(a,l.SAVE_CONTENT_STATE,function(e){e.history.index++,e.history.states=e.history.states.slice(0,e.history.index),e.history.states.push((0,f.merge)({},e.content)),e.workspace.undo=!0,e.workspace.redo=!1}),(0,s.default)(a,l.UNDO,function(e){e.history.index>=1&&(e.history.index--,e.content=(0,f.merge)({},e.history.states[e.history.index]),e.workspace.redo=!0,e.history.index<1&&(e.workspace.undo=!1))}),(0,s.default)(a,l.REDO,function(e){e.history.states.length>e.history.index+1&&(e.history.index++,
e.content=(0,f.merge)({},e.history.states[e.history.index]),e.workspace.undo=!0,e.history.states.length===e.history.index+1&&(e.workspace.redo=!1))}),(0,s.default)(a,l.SWITCH_VERSION,function(e,t){var n=t.version;e.workspace.version=n,e.workspace.width="pc"===e.workspace.version?960:360}),(0,s.default)(a,l.SET_COLOR_SET,function(e,t){var n=t.colorSet;e.content.colorSet=n}),(0,s.default)(a,l.ADD_SECTION,function(e,t){var n=t.section;e.content.sections.push(n)}),(0,s.default)(a,l.MOVE_SECTION,function(e,t){var n=t.sourceId,o=t.targetId;e.content.sections[n]=e.content.sections.splice(o,1,e.content.sections[n])[0]}),(0,s.default)(a,l.REMOVE_SECTION,function(e,t){var n=t.sectionId;e.content.sections.splice(n,1)}),(0,s.default)(a,l.MODIFY_SECTION,function(e,t){var n=t.sectionId,o=t.style;e.content.sections[n].style=(0,f.merge)({},e.content.sections[n].style,o)}),(0,s.default)(a,l.SET_ACTIVE_SECTION_ID,function(e,t){var n=t.sectionId;e.workspace.activeSectionId=n}),(0,s.default)(a,l.SET_ACTIVE_ELEMENT_ID,function(e,t){var n=t.elementId;e.workspace.activeElementId=n}),(0,s.default)(a,l.MODIFY_ELEMENT,function(e,t){var n=t.elementId,o=t.newElement;c.default.set(e.content.elements,n,(0,f.merge)({},o))}),(0,s.default)(a,l.ADD_ELEMENT,function(e,t){var n=t.sectionId,o=t.element,r=(0,m.default)(8);c.default.set(e.content.elements,r,o),e.content.sections[n].elements.pc.push(r),e.content.sections[n].elements.mobile.push(r),e.workspace.activeElementId=r}),(0,s.default)(a,l.DUPULICATE_ELEMENT,function(e,t){var n=t.newElement,o=t.sectionIds,r=(0,m.default)(8);c.default.set(e.content.elements,r,n),null!==o.pc&&e.content.sections[o.pc].elements.pc.push(r),null!==o.mobile&&e.content.sections[o.mobile].elements.mobile.push(r),e.workspace.activeElementId=r}),(0,s.default)(a,l.MOVE_ELEMENT,function(e,t){var n=t.elementId,o=t.newElement,r=t.sectionId,a=t.newSectionId;c.default.set(e.content.elements,n,(0,f.merge)({},o)),r!==a&&(e.content.sections[r].elements[e.workspace.version].splice(e.content.sections[r].elements[e.workspace.version].indexOf(n),1),e.content.sections[a].elements[e.workspace.version].push(n))}),(0,s.default)(a,l.REMOVE_ELEMENT,function(e,t){var n=t.elementId,o=t.sectionIds;null!==o.pc&&e.content.sections[o.pc].elements.pc.splice(e.content.sections[o.pc].elements.pc.indexOf(n),1),null!==o.mobile&&e.content.sections[o.mobile].elements.mobile.splice(e.content.sections[o.mobile].elements.mobile.indexOf(n),1),c.default.delete(e.content.elements,n)}),a);t.default={state:E,mutations:_}},108:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),i=r(a),s=n(9),u=o(s),c={page:{}},d=(0,i.default)({},u.LOAD_STATS_VARIATIONS,function(e,t){var n=t.page;e.page=n});t.default={state:c,mutations:d}},109:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(18),s=r(i),u=n(9),c=o(u),d=n(6),l={messageBox:{onCancel:!1,onConfirm:!1,header:"",content:"",inputAddon:"",placeholder:"",hint:"",width:"400px",type:"warning"},load:{status:"done",failedInfo:"",retry:""},imageLibrary:{loading:"loading",show:!1,onSelect:!1,onCancel:!1,images:[]},messages:[]},f=(a={},(0,s.default)(a,c.WARNING,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="warning",e.messages.push(o)}),(0,s.default)(a,c.CONFIRM,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="confrim",e.messages.push(o)}),(0,s.default)(a,c.GET_INPUT,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="input",e.messages.push(o)}),(0,s.default)(a,c.NEXT_MESSAGE,function(e){e.messages.shift()}),(0,s.default)(a,c.GET_IMAGE,function(e,t){var n=t.onSelect,o=t.onCancel;e.imageLibrary.onSelect=n,e.imageLibrary.onCancel=o,e.imageLibrary.show=!0}),(0,s.default)(a,c.CLOSE_IMAGE_LIBRARY,function(e){e.imageLibrary.onSelect=!1,e.imageLibrary.onCancel=!1,e.imageLibrary.show=!1}),(0,s.default)(a,c.LOAD_IMAGES,function(e,t){var n=t.images;e.imageLibrary.images=n}),(0,s.default)(a,c.LOADING,function(e){e.load.status="loading"}),(0,s.default)(a,c.LOAD_FAILED,function(e,t){var n=t.source,o=t.err,r=t.retry,a=void 0===r?null:r;switch(n){case"projects":e.load.status="failed",e.load.failedInfo="加载项目列表失败";break;case"pageGroups":e.load.status="failed",e.load.failedInfo="加载页面分组失败";break;case"members":break;case"pages":e.load.status="failed",e.load.failedInfo="加载页面列表失败"}e.load.retry=a||null,console.log(n,o)}),(0,s.default)(a,c.LOAD_DONE,function(e){e.load.status="done"}),a);t.default={state:l,mutations:f}},110:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(18),s=r(i),u=n(9),c=o(u),d={current:null},l=(a={},(0,s.default)(a,c.LOG_IN,function(e,t){var n=t.user;e.current=n}),(0,s.default)(a,c.LOG_OUT,function(e){e.current=null}),a);t.default={state:d,mutations:l}},111:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=new RegExp(e+"=([^&#]*)","i"),n=t.exec(window.location.href);return null==n?null:decodeURI(n[1])};t.default=n},112:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyz",n="",o=0;o<e;o++)n+=t.charAt(Math.ceil(1e8*Math.random())%t.length);return n};t.default=n},114:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(376),a=o(r),i=n(377),s=o(i);t.default={name:"App",components:{MessageBox:a.default,Spinner:s.default}}},118:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),a=o(r),i=n(31),s=o(i),u=n(3);t.default={name:"Login",components:{Auth:s.default},data:function(){return{error:""}},methods:(0,a.default)({},(0,u.mapActions)(["login"]),{formSubmit:function(e){var t=this,n=e.target.email.value,o=e.target.password.value,r=e.target.remember.checked;return n?o?void this.login([n,o,r,function(){t.$router.replace(t.$route.query.redirect||"/")},function(e){switch(e.status){case 401:t.error="密码错误！";break;case 422:t.error="帐号错误！";break;default:t.error="登陆失败！"}}]):void(this.error="请输入您的密码"):void(this.error="请输入您的电子邮件")}}),mounted:function(){document.title="登陆 - 聚页"}}},121:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},122:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(68),a=o(r);t.default={components:{AppHeader:a.default}}},174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.default={computed:(0,o.mapGetters)({msg:"message",show:"showMessage"}),data:function(){return{error:""}},methods:{cancel:function(){this.msg.onCancel&&this.msg.onCancel(),this.$store.dispatch("nextMessage")},ok:function(){if(this.msg.onConfirm)if("input"===this.msg.type){var e=this.$refs.msgInput.value;this.error=this.msg.onConfirm(e)||""}else this.msg.onConfirm();!this.error&&this.$store.dispatch("nextMessage")}},watch:{show:function(e){var t=this;this.error="",e&&("input"===this.msg.type?this.$nextTick(function(){t.$refs.msgInput.focus()}):this.$nextTick(function(){t.$el.focus()}))}}}},178:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),a=o(r),i=n(3);t.default={computed:(0,a.default)({},(0,i.mapGetters)({load:"load"}))}},269:function(e,t){},276:function(e,t){},290:function(e,t){},300:function(e,t){},302:function(e,t){},321:function(e,t){},329:function(e,t,n){var o,r;n(290),o=n(114);var a=n(404);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},333:function(e,t,n){var o,r;o=n(118);var a=n(420);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},336:function(e,t,n){var o,r;o=n(122);var a=n(428);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},376:function(e,t,n){var o,r;n(276),o=n(174);var a=n(385);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-1396ffc9",e.exports=o},377:function(e,t,n){var o,r;n(321),o=n(178);var a=n(442);r=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(r=o=o.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-faaef738",e.exports=o},385:function(e,t){e.exports={render:function(){var e=this;return e._h("transition",{attrs:{name:"fade"}},[e.show?e._h("div",{staticClass:"msg-mask",attrs:{tabindex:"-1"},on:{keyup:[function(t){13===t.keyCode&&e.ok(t)},function(t){27===t.keyCode&&e.cancel(t)}]}},[e._h("div",{staticClass:"msg-wrapper"},[e._h("div",{staticClass:"msg-container",style:{width:e.msg.width}},[e._h("div",{staticClass:"msg-header"},[e._h("span",{staticClass:"glyphicon glyphicon-exclamation-sign"})," "+e._s(e.msg.header||"提示信息")+"\n        "])," ",e._h("div",{staticClass:"msg-body container-fluid"},["input"===e.msg.type?[e._h("div",{staticClass:"input-group"},[e._h("div",{staticClass:"input-group-addon",domProps:{innerHTML:e._s(e.msg.inputAddon)}})," ",e._h("input",{ref:"msgInput",staticClass:"form-control",attrs:{type:"text",placeholder:e.msg.placeholder||e.msg.header},domProps:{value:e.msg.content}})])," ",""!==e.msg.hint?e._h("p",{staticClass:"msg-hint"},[e._s(e.msg.hint)]):e._e()," ",""!==e.error?e._h("p",{staticClass:"text-danger"},[e._s(e.error)]):e._e()]:e._h("span",[e._s(e.msg.content)])," "])," ",e._h("div",{staticClass:"msg-footer"},[e._t("footer",[e._h("button",{directives:[{name:"show",rawName:"v-show",value:"warning"!==e.msg.type,expression:"msg.type !== 'warning'"}],staticClass:"btn btn-default btn-sm",on:{click:e.cancel}},["取消"]),"  \n            ",e._h("button",{staticClass:"btn btn-primary btn-sm",on:{click:e.ok}},["确定"])])])])])]):e._e()])},staticRenderFns:[]}},404:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{attrs:{id:"app"}},[e._h("transition",{attrs:{name:"fade",mode:"out-in"}},[e._h("router-view",{staticClass:"page"})])," ",e._h("message-box")," ",e._h("spinner")])},staticRenderFns:[]}},414:function(e,t){e.exports={render:function(){var e=this;return e._h("div",[e._h("div",{staticClass:"auth-container"},[e._h("div",{staticClass:"auth-header"},[e._t("title")])," ",e._h("div",{staticClass:"auth-content"},[e._t("content")])])," ",e._h("div",{staticClass:"auth-extra"},[e._t("extra")])])},staticRenderFns:[]}},417:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{attrs:{id:"header-wrapper"}},[e._h("div",{staticClass:"header"},[e._h("router-link",{staticClass:"logo",attrs:{to:"/"}})," "," ",e._h("ul",{staticClass:"nav nav-pills header-nav"},[e._h("li",[e._h("router-link",{attrs:{to:"/logout"}},["退出登陆"])])])])])},staticRenderFns:[]}},420:function(e,t){e.exports={render:function(){var e=this;return e._h("auth",[e._h("span",{slot:"title"},["登陆"])," ",e._h("div",{slot:"content"},[e._h("form",{attrs:{action:"",method:"post"},on:{submit:function(t){t.preventDefault(),e.formSubmit(t)}}},[e._h("div",{staticClass:"form-group"},[e._h("input",{staticClass:"form-control input-lg",attrs:{type:"text",name:"email",value:"",placeholder:"邮箱"}})])," ",e._h("div",{staticClass:"form-group"},[e._h("input",{staticClass:"form-control input-lg",attrs:{type:"password",name:"password",value:"",placeholder:"密码"}})])," ",e._h("div",{staticClass:"form-group"},[e._h("label",[e._h("input",{attrs:{type:"checkbox",name:"remember",value:"1"}})," 在本机保持我的登陆状态"])])," ",e._h("p",{directives:[{name:"show",rawName:"v-show",value:!!e.error,expression:"!!error"}],staticClass:"auth-error bg-danger"},[e._s(e.error)])," ",e._h("div",{staticClass:"form-group"},[e._h("input",{staticClass:"btn btn-primary btn-lg form-control input-lg",attrs:{type:"submit",value:"登陆"}})])])," ",e._h("div",[e._h("router-link",{attrs:{to:"/forgetpassword"}},["忘记密码？"])])])," ",e._h("p",{slot:"extra"},["\n    还没有聚页账户？\n    ",e._h("router-link",{attrs:{to:"/register"}},["注册用户"])])])},staticRenderFns:[]}},428:function(e,t){e.exports={render:function(){var e=this;return e._h("div",[e._h("app-header")," ",e._h("transition",{attrs:{name:"fade",mode:"out-in"}},[e._h("router-view",{staticClass:"main-wrapper"})])])},staticRenderFns:[]}},442:function(e,t){e.exports={render:function(){var e=this;return e._h("div",{staticClass:"load-status"},[e._h("transition",{attrs:{name:"fade"}},["loading"===e.load.status?e._h("div",{staticClass:"loading"},[e._h("div",{staticClass:"loading-icon small"})]):e._e()])," ","failed"===e.load.status?e._h("div",[e._s(e.load.failedInfo)]):e._e()])},staticRenderFns:[]}}});
//# sourceMappingURL=app.7ca7f304839ed68d9246.js.map