webpackJsonp([9,7],{0:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}var r=n(11),a=o(r),i=n(44),u=o(i),s=n(174),c=o(s),d=n(367),l=o(d),f=n(12),p=o(f),m=n(45),E=o(m);n(316),p["default"].account.current().then(function(e){u["default"].dispatch("loadUser",e.data),_()},function(e){_()});var _=function(){a["default"].http.interceptors.push(function(e,t){var n=E["default"].get("XSRF-TOKEN");n&&(e.headers.map["X-XSRF-TOKEN"]=[n]),t(function(e){401===e.status&&u["default"].dispatch("requireLogin")})}),new a["default"]({el:"#app",router:c["default"],store:u["default"],render:function(e){return e(l["default"])}})}},8:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOAD_USER="LOAD_USER",t.LOAD_PROJECTS="LOAD_PROJECTS",t.CREATE_PROJECT="CREATE_PROJECT",t.RENAME_PROJECT="RENAME_PROJECT",t.REMOVE_PROJECT="REMOVE_PROJECT",t.SET_CURRENT_PROJECT="SET_CURRENT_PROJECT",t.LOAD_MEMBERS="LOAD_MEMBERS",t.LOAD_PAGEGROUPS="LOAD_PAGEGROUPS",t.EMPTY_PAGEGROUPS="EMPTY_PAGEGROUPS",t.CREATE_PAGEGROUP="CREATE_PAGEGROUP",t.REMOVE_PAGEGROUP="REMOVE_PAGEGROUP",t.RENAME_PAGEGROUP="RENAME_PAGEGROUP",t.SET_EDITING_PAGEGROUP="SET_EDITING_PAGEGROUP",t.SET_CURRENT_PAGEGROUP="SET_CURRENT_PAGEGROUP",t.LOAD_PAGES="LOAD_PAGES",t.EMPTY_PAGES="EMPTY_PAGES",t.CREATE_PAGE="CREATE_PAGE",t.RENAME_PAGE="RENAME_PAGE",t.REMOVE_PAGE="REMOVE_PAGE",t.DUPLICATE_PAGE="DUPLICATE_PAGE",t.MOVE_PAGE="MOVE_PAGE",t.WARNING="WARNING",t.CONFIRM="CONFIRM",t.GET_INPUT="GET_INPUT",t.CLOSE_MESSAGE_BOX="CLOSE_MESSAGE_BOX",t.NEXT_MESSAGE="NEXT_MESSAGE",t.GET_IMAGE="GET_IMAGE",t.CLOSE_IMAGE_LIBRARY="CLOSE_IMAGE_LIBRARY",t.LOAD_IMAGES="LOAD_IMAGES",t.LOADING="LOADING",t.LOAD_FAILED="LOAD_FAILED",t.LOAD_DONE="LOAD_DONE",t.LOAD_VARIATION="LOAD_VARIATION",t.SAVE_VARIATION="SAVE_VARIATION",t.CREATE_VARIATION="CREATE_VARIATION",t.REMOVE_VARIATION="REMOVE_VARIATION",t.RENAME_VARIATION="RENAME_VARIATION",t.SAVE_CONTENT_STATE="SAVE_CONTENT_STATE",t.UNDO="UNDO",t.REDO="REDO",t.SWITCH_VERSION="SWITCH_VERSION",t.SET_COLOR_SET="SET_COLOR_SET",t.ADD_SECTION="ADD_SECTION",t.MOVE_SECTION="MOVE_SECTION",t.REMOVE_SECTION="REMOVE_SECTION",t.MODIFY_SECTION="MODIFY_SECTION",t.SET_ACTIVE_SECTION_ID="SET_ACTIVE_SECTION_ID",t.SET_ACTIVE_ELEMENT_ID="SET_ACTIVE_ELEMENT_ID",t.MODIFY_ELEMENT="MODIFY_ELEMENT",t.REPLACE_ELEMENT="REPLACE_ELEMENT",t.ADD_ELEMENT="ADD_ELEMENT",t.REMOVE_ELEMENT="REMOVE_ELEMENT",t.MOVE_ELEMENT="MOVE_ELEMENT",t.DUPULICATE_ELEMENT="DUPULICATE_ELEMENT"},12:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),a=o(r),i=n(170),u=o(i);a["default"].use(u["default"]),a["default"].http.options.root="/api",t["default"]={project:a["default"].resource("project{/id}"),projectMember:a["default"].resource("projects/{projectId}/users{/id}"),pageGroup:a["default"].resource("projects/{projectId}/groups{/id}"),page:a["default"].resource("page{/id}",{},{duplicate:{method:"POST",url:"page/{id}/copy"},publish:{method:"PUT",url:"page/{id}/publish"}}),variation:a["default"].resource("pages/{pageId}/variations{/id}",{},{duplicate:{method:"POST",url:"pages/{pageId}/variations{/id}/copy"}}),image:a["default"].resource("storage/image{/id}"),imageFolder:a["default"].resource("storage/folder{/id}"),report:a["default"].resource("report/{module}/{pageId}"),account:a["default"].resource("account{/id}",{},{current:{method:"GET",url:"account/current"}}),auth:{save:function(e,t){var n="auth/login";return a["default"].http.post(n,t)},"delete":function(e,t){var n="auth/logout";return a["default"].http.get(n)}}}},32:function(e,t,n){var o,r;n(322);var a=n(414);r=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-14",e.exports=o},41:function(e,t,n){var o,r;n(321),o=n(194);var a=n(413);r=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},44:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=r(a),u=n(4),s=r(u),c=n(182),d=r(c),l=n(185),f=r(l),p=n(186),m=r(p),E=n(183),_=r(E),v=n(184),h=r(v),g=n(178),A=o(g),O=n(179),I=o(O),T=n(175),P=o(T),M=n(176),y=o(M),b=n(177),R=o(b),S=n(181),G=o(S),C=n(6);i["default"].use(s["default"]);var N=(0,C.merge)(A,P,y,I,R),x=new s["default"].Store({actions:N,getters:G,modules:{dashboard:d["default"],ui:f["default"],user:m["default"],editor:_["default"],stats:h["default"]},strict:!1});t["default"]=x},45:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null},set:function(e,t,n){var o="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),o="; expires="+r.toGMTString()}document.cookie=e+"="+t+o+"; path=/"}};t["default"]=n},46:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=new RegExp(e+"=([^&#]*)","i"),n=t.exec(window.location.href);return null==n?null:decodeURI(n[1])};t["default"]=n},172:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),a=o(r);t["default"]={list:function(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:9999,u="editor/image/list/"+e+"/"+t+"/"+r+"/"+i;a["default"].http.get(u).then(function(e){return n(e.json())},function(e){return o(e.json())})},upload:function(e,t,n,o){var r="editor/image/upload";a["default"].http.post(r,t).then(function(e){return n(e.json().image)},function(e){return o(e.json())})},remove:function(e,t,n,o){var r="editor/image/delimage/"+e+"/"+t;a["default"].http.get(r).then(function(e){return n(e.json())},function(e){return o(e.json())})},modify:function(e,t,n){var o="editor/image/modimage";a["default"].http.post(o,e).then(function(e){return t(e.json())},function(e){return n(e.json())})}}},173:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),a=o(r),i=n(170),u=o(i);a["default"].use(u["default"]),a["default"].http.options.root="/api";var s=a["default"].resource("project{/id}");t["default"]={list:function(e){s.get().then(function(t){return e(t.data)})},create:function(e,t,n){var o="dashboard/project/add",r={name:e.name};a["default"].http.post(o,r).then(function(e){return t(e.json().project)},function(e){return n(e.json())})},remove:function(e,t,n){var o="dashboard/project/remove/"+e.id;a["default"].http.get(o).then(function(e){return t(e.json())},function(e){return n(e.json())})},rename:function(e,t,n,o){var r="dashboard/project/mod",i={id:e.id,name:t};a["default"].http.post(r,i).then(function(e){return n(e.json())},function(e){return o(e.json())})},members:function(e,t,n){var o="dashboard/project/members/get/"+e.id;a["default"].http.get(o).then(function(e){return t(e.json().users,e.json().uninvitor)},function(e){return n(e.json())})},invite:function(e,t,n,o){var r="dashboard/project/members/join/",i={project_id:t.id,email:e.email};a["default"].http.post(r,i).then(function(e){return n(e.json())},function(e){return o(e.json())})}}},174:function(e,t,n){(function(e){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),a=o(r),i=n(462),u=o(i),s=n(364),c=o(s),d=n(44),l=o(d),f=n(373),p=o(f),m=n(369),E=o(m);a["default"].use(u["default"]);var _=function(e){return n.e(0,function(t){var n=[t(383)];e.apply(null,n)}.bind(this))},v=function(e){return n.e(2,function(t){var n=[t(374)];e.apply(null,n)}.bind(this))},h=function(e){return n.e(6,function(t){var n=[t(368)];e.apply(null,n)}.bind(this))},g=function(e){return n.e(1,function(t){var n=[t(405)];e.apply(null,n)}.bind(this))},A=function(e){return n.e(4,function(t){var n=[t(371)];e.apply(null,n)}.bind(this))},O=function(e){return n.e(5,function(t){var n=[t(370)];e.apply(null,n)}.bind(this))},I=function(e){return n.e(3,function(t){var n=[t(372)];e.apply(null,n)}.bind(this))},T=new u["default"]({mode:"history",base:e,routes:[{path:"/editor/:pageId",name:"editor",component:_,meta:{requireAuth:!0,preFetch:"editorInit"}},{path:"/login",name:"login",component:E["default"],beforeEnter:function(e,t,n){l["default"].getters.isLogin?n("/"):n()}},{path:"/logout",beforeEnter:function(e,t,n){l["default"].dispatch("logout",function(){return n("/login")})}},{path:"/register",name:"register",component:A},{path:"/password",name:"password",component:O},{path:"/resetpassword",name:"resetpassword",component:I},{path:"/",name:"home",component:p["default"],children:[{path:"",name:"dashboard",component:v,meta:{requireAuth:!0,preFetch:"dashboardInit"}},{path:"/account",name:"account",component:h,meta:{requireAuth:!0}},{path:"/stats/:pageId/:module",name:"stats",component:g,meta:{requireAuth:!0,preFetch:"statsInit"}}]}]});c["default"].configure({showSpinner:!1}),T.beforeEach(function(e,t,n){e.meta.requireAuth&&!l["default"].getters.isLogin?n({path:"/login",query:{redirect:e.fullPath}}):(c["default"].start(),l["default"].dispatch("loading"),e.meta.preFetch?l["default"].dispatch(e.meta.preFetch,[e,function(){n()}]):n())}),T.afterEach(function(e,t,n){c["default"].done(),l["default"].dispatch("loadingDone")}),t["default"]=T}).call(t,"/")},175:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicatePage=t.movePage=t.renamePage=t.removePage=t.createPage=t.renamePageGroup=t.setEditingPageGroup=t.removePageGroup=t.createPageGroup=t.quitProject=t.removeMember=t.inviteMember=t.loadMembers=t.renameProject=t.removeProject=t.createProject=t.switchPageGroup=t.switchProject=t.dashboardInit=void 0;var a=n(20),i=r(a),u=n(173),s=r(u),c=n(12),d=r(c),l=n(46),f=r(l),p=n(45),m=r(p),E=n(8),_=o(E),v=(t.dashboardInit=function(e,t){var n=e.commit,o=(0,i["default"])(t,2),r=(o[0],o[1]),a=void 0!==r&&r;d["default"].project.get().then(function(e){var t=e.data;n(_.LOAD_PROJECTS,{projects:t});var o=(0,f["default"])("id")||m["default"].get("projectId"),r=t.find(function(e){return e.id===o})||t.find(function(e){return 1===e.is_default})||t[0];v({commit:n},[r,a])})},t.switchProject=function(e,t){var n=e.commit,o=(0,i["default"])(t,2),r=o[0],a=o[1],u=void 0!==a&&a;n(_.EMPTY_PAGEGROUPS),n(_.EMPTY_PAGES),n(_.SET_CURRENT_PROJECT,{project:r}),m["default"].set("projectId",r.id,365),g({commit:n},r),d["default"].pageGroup.get({projectId:r.id}).then(function(e){var t=e.data;n(_.LOAD_PAGEGROUPS,{pageGroups:t});var o=t.find(function(e){return 1===e.is_default})||t[0];h({commit:n},[o,u])})}),h=t.switchPageGroup=function(e,t){var n=e.commit,o=(0,i["default"])(t,2),r=o[0],a=o[1],u=void 0!==a&&a;n(_.SET_CURRENT_PAGEGROUP,{pageGroup:r}),d["default"].page.get({group_id:r.id}).then(function(e){n(_.LOAD_PAGES,{pages:e.data}),u&&u()})},g=(t.createProject=function(e,t){var n=e.commit;s["default"].create(t,function(e){n(_.CREATE_PROJECT,{project:e})},function(e){return n(_.LOAD_FAILED,{source:"createProject",err:e.err})})},t.removeProject=function(e,t){var n=e.commit;s["default"].remove(t,function(e){n(_.REMOVE_PROJECT,{project:t})},function(e){return n(_.LOAD_FAILED,{source:"removeProject",err:e.err})})},t.renameProject=function(e,t){var n=e.commit,o=(0,i["default"])(t,2),r=o[0],a=o[1];s["default"].rename(r,a,function(e){n(_.RENAME_PROJECT,{project:r,newName:a})},function(e){return n(_.LOAD_FAILED,{source:"renameProject",err:e.err})})},t.loadMembers=function(e,t){var n=e.commit;d["default"].projectMember.get({projectId:t.id}).then(function(e){var t=e.data;n(_.LOAD_MEMBERS,{members:t})})});t.inviteMember=function(e,t){var n=e.commit,o=e.state;s["default"].invite(t,o.dashboard.currentProject,function(e){g({commit:n},o.dashboard.currentProject)},function(e){return n(_.LOAD_FAILED,{source:"inviteMember",err:e.err})})},t.removeMember=function(e,t,n){e.commit},t.quitProject=function(e,t){e.commit},t.createPageGroup=function(e,t){var n=e.commit;d["default"].pageGroup.save({projectId:t.projectId},t).then(function(e){var t=e.data;n(_.CREATE_PAGEGROUP,{pageGroup:t})})},t.removePageGroup=function(e,t){var n=e.commit,o=e.state;d["default"].pageGroup["delete"]({projectId:o.dashboard.currentPageGroup.id,id:t.id}).then(function(e){n(_.REMOVE_PAGEGROUP,{pageGroup:t})})},t.setEditingPageGroup=function(e,t){var n=e.commit;n(_.SET_EDITING_PAGEGROUP,{pageGroup:t})},t.renamePageGroup=function(e,t){var n=e.commit,o=e.state,r=o.pageGroups.editing;d["default"].pageGroup.update({projectId:o.dashboard.currentProject.id,id:r.id},{name:t}).then(function(e){n(_.RENAME_PAGEGROUP,{pageGroup:r,newName:t})})},t.createPage=function(e,t){var n=e.commit;d["default"].page.save({},t).then(function(e){n(_.CREATE_PAGE,{page:e.data})})},t.removePage=function(e,t){var n=e.commit;d["default"].page["delete"]({id:t.id}).then(function(e){n(_.REMOVE_PAGE,{page:t})})},t.renamePage=function(e,t){var n=e.commit,o=(0,i["default"])(t,2),r=o[0],a=o[1];d["default"].page.update({id:r.id},{name:a}).then(function(e){n(_.RENAME_PAGE,{page:r,newName:a})})},t.movePage=function(e,t){var n=e.commit,o=(0,i["default"])(t,2),r=o[0],a=o[1];d["default"].page.update({id:r.id},{name:r.name,group_id:a.id}).then(function(e){console.log(e),n(_.REMOVE_PAGE,{page:r})})},t.duplicatePage=function(e,t){var n=e.commit;d["default"].page.duplicate({id:t.id},{}).then(function(e){n(_.CREATE_PAGE,{page:e.data})})}},176:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.duplicateElement=t.addElement=t.modifyElement=t.indexElement=t.resizeElement=t.moveElement=t.removeElement=t.setActiveElementId=t.setColorSet=t.switchVersion=t.redo=t.undo=t.setActiveSectionId=t.removeSection=t.modifySection=t.moveSection=t.addSection=t.publishPage=t.setURL=t.saveVariation=t.removeVariation=t.renameVariation=t.duplicateVariation=t.createVariation=t.loadVariation=t.editorInit=void 0;var a=n(242),i=r(a),u=n(20),s=r(u),c=n(12),d=r(c),l=n(8),f=o(l),p=n(46),m=r(p),E=n(6),_=n(180),v=r(_),h=(t.editorInit=function(e,t){var n=e.commit,o=e.state,r=(0,s["default"])(t,2),a=r[0],i=r[1],u=void 0!==i&&i,c=a.params.pageId;d["default"].page.get({id:c}).then(function(e){var t=e.data;d["default"].variation.get({pageId:t.id}).then(function(e){t.variations=e.data,n(f.LOAD_PAGE,{page:t});var r=(0,m["default"])("vid")||t.variations[0].id,a=t.variations.filter(function(e){return e.id===r})[0];h({commit:n,state:o},[a,u])})})},t.loadVariation=function(e,t){var n=e.commit,o=e.state,r=(0,s["default"])(t,2),a=r[0],i=r[1],u=void 0!==i&&i;d["default"].variation.get({pageId:o.editor.page.id,id:a.id}).then(function(e){var t=JSON.parse(e.data.html_json);n(f.LOAD_VARIATION,{variation:a,content:t}),u&&u()})}),g=(t.createVariation=function(e){var t=e.commit,n=e.state;d["default"].variation.save({pageId:n.editor.page.id},{}).then(function(e){var o=e.data;t(f.CREATE_VARIATION,{variation:o}),h({commit:t,state:n},[o])})},t.duplicateVariation=function(e,t){var n=e.commit,o=e.state;d["default"].variation.duplicate({pageId:o.editor.page.id,id:t.id},{}).then(function(e){var t=e.data;n(f.CREATE_VARIATION,{variation:t}),h({commit:n,state:o},[t])})},t.renameVariation=function(e,t){var n=e.commit,o=e.state,r=(0,s["default"])(t,2),a=r[0],i=r[1];d["default"].variation.update({pageId:o.editor.page.id,id:a.id},{name:i}).then(function(e){n(f.RENAME_VARIATION,{variation:a,newName:i})})},t.removeVariation=function(e,t){var n=e.commit,o=e.state;d["default"].variation["delete"]({pageId:o.editor.page.id,id:t.id}).then(function(e){n(f.REMOVE_VARIATION,{variation:t}),t.id===o.editor.workspace.activeVariation.id&&h({commit:n,state:o},[o.editor.page.variations[0]])})},t.saveVariation=function(e){var t=e.commit,n=e.state,o=(0,i["default"])(n.editor.content);d["default"].variation.update({pageId:n.editor.page.id,id:n.editor.workspace.activeVariation.id},{htmljson:o}).then(function(e){t(f.SAVE_VARIATION)})},t.setURL=function(e,t){var n=(e.commit,e.state),o=(0,s["default"])(t,3),r=o[0],a=o[1];o[2];d["default"].page.update({id:n.editor.page.id},{url:r}).then(function(e){a(e.data)})},t.publishPage=function(e,t){var n=(e.commit,e.state);d["default"].page.publish({id:n.editor.page.id}).then(function(e){t(e.data)})},t.addSection=function(e){var t=e.commit,n={style:{pc:{"background-color":"",height:"300px"},mobile:{"background-color":"",height:"300px"}},elements:{pc:[],mobile:[]}};t(f.ADD_SECTION,{section:n}),t(f.SAVE_CONTENT_STATE)}),A=(t.moveSection=function(e,t){var n=e.commit,o=e.state,r=(0,s["default"])(t,2),a=r[0],i=r[1],u=i,c=i;"down"===a&&i<o.editor.content.sections.length-1&&u++,"up"===a&&i>0&&u--,c!==u&&(n(f.MOVE_SECTION,{sourceId:c,targetId:u}),n(f.SAVE_CONTENT_STATE))},t.modifySection=function(e,t){var n=e.commit,o=(0,s["default"])(t,2),r=o[0],a=o[1];n(f.MODIFY_SECTION,{sectionId:r,style:a}),n(f.SAVE_CONTENT_STATE)},t.removeSection=function(e,t){var n=e.commit;n(f.REMOVE_SECTION,{sectionId:t}),n(f.SAVE_CONTENT_STATE)},t.setActiveSectionId=function(e,t){var n=e.commit;n(f.SET_ACTIVE_SECTION_ID,{sectionId:t})},t.undo=function(e){var t=e.commit;return t(f.UNDO)},t.redo=function(e){var t=e.commit;return t(f.REDO)},t.switchVersion=function(e,t){var n=e.commit;n(f.SWITCH_VERSION,{version:t})},t.setColorSet=function(e,t){var n=e.commit,o=e.state;t!==o.editor.content.colorSet&&(n(f.SET_COLOR_SET,{colorSet:t}),n(f.SAVE_CONTENT_STATE))},t.setActiveElementId=function(e,t){var n=e.commit;n(f.SET_ACTIVE_ELEMENT_ID,{elementId:t})},t.removeElement=function(e,t){var n=e.commit,o=e.state,r=(0,s["default"])(t,2),a=r[0],i=r[1],u=void 0===i||i,c=A(o,a);n(f.REMOVE_ELEMENT,{elementId:a,sectionIds:c}),u&&n(f.SAVE_CONTENT_STATE)},t.moveElement=function(e,t){for(var n=e.commit,o=e.state,r=(0,s["default"])(t,4),a=r[0],i=r[1],u=r[2],c=r[3],d=0,l=0,p=u.top+c/2,m=-1;p>=d;)m++,l=parseInt(o.editor.content.sections[m].style[o.editor.workspace.version].height),d+=l;var _=(0,E.merge)({},o.editor.content.elements[i]);_.style[o.editor.workspace.version].top=u.top-(d-l)+"px",_.style[o.editor.workspace.version].left=u.left+"px",n(f.MOVE_ELEMENT,{elementId:i,newElement:_,sectionId:a,newSectionId:m}),n(f.SAVE_CONTENT_STATE)},t.resizeElement=function(e,t){var n=e.commit,o=e.state,r=(0,s["default"])(t,2),a=r[0],i=r[1],u=(0,E.merge)({},o.editor.content.elements[a]),c=u.style[o.editor.workspace.version].height,d=c&&"auto"!==c?i.height+"px":"auto";u.style[o.editor.workspace.version].width=i.width+"px",u.style[o.editor.workspace.version].height=d,n(f.MODIFY_ELEMENT,{elementId:a,newElement:u}),n(f.SAVE_CONTENT_STATE)},t.indexElement=function(e,t){var n=e.commit,o=e.state,r=e.getters,a=(0,s["default"])(t,2),i=a[0],u=a[1],c=(0,E.merge)({},o.editor.content.elements[i]);"top"===u?c.style[o.editor.workspace.version].zIndex=++r.elementsIndex[o.editor.workspace.version].max:c.style[o.editor.workspace.version].zIndex=--r.elementsIndex[o.editor.workspace.version].min,n(f.MODIFY_ELEMENT,{elementId:i,newElement:c}),n(f.SAVE_CONTENT_STATE)},t.modifyElement=function(e,t){var n=e.commit,o=e.state,r=(0,s["default"])(t,3),a=r[0],i=r[1],u=r[2],c=void 0!==u&&u,d=c?(0,E.merge)({},i):(0,E.merge)({},o.editor.content.elements[a],i);n(f.MODIFY_ELEMENT,{elementId:a,newElement:d}),n(f.SAVE_CONTENT_STATE)},t.addElement=function(e,t){var n=e.commit,o=e.state,r=e.getters;0===o.editor.content.sections.length&&g({commit:n});for(var a=document.getElementById("main-wrapper"),i=v["default"][t],u=a.scrollTop+100,s=0,c=0,d=-1,l=o.editor.workspace.version,p="pc"===o.editor.workspace.version?"mobile":"pc";s<u;)d++,c=parseInt(o.editor.content.sections[d].style[l].height),s+=c;var m=u+c-s;i.style[l].top=m+"px",i.style[p].top="10px",i.style.pc.zIndex=r.elementsIndex.pc.max,i.style.mobile.zIndex=r.elementsIndex.mobile.max,n(f.ADD_ELEMENT,{sectionId:d,element:i}),"image"!==t&&n(f.SAVE_CONTENT_STATE)},t.duplicateElement=function(e,t){var n=e.commit,o=e.state,r=e.getters,a=A(o,t),i=(0,E.merge)({},o.editor.content.elements[t]);i.style.pc.zIndex=r.elementsIndex.pc.max+1,i.style.mobile.zIndex=r.elementsIndex.mobile.max+1;var u=parseInt(i.style.pc.left),s=parseInt(i.style.pc.width);u+s>o.editor.content.settings.style.width.pc-20?i.style.pc.left=(u-20>0?u-20:0)+"px":i.style.pc.left=u+20+"px";var c=parseInt(i.style.mobile.left),d=parseInt(i.style.mobile.width);c+d>o.editor.content.settings.style.width.mobile-20?i.style.mobile.left=(c-20>0?c-20:0)+"px":i.style.mobile.left=c+20+"px",i.style.pc.top=parseInt(i.style.pc.top)+20+"px",i.style.mobile.top=parseInt(i.style.mobile.top)+20+"px",n(f.DUPULICATE_ELEMENT,{newElement:i,sectionIds:a}),n(f.SAVE_CONTENT_STATE)},function(e,t){var n=0,o=null,r=null;return e.editor.content.sections.forEach(function(e){e.elements.pc.indexOf(t)>=0&&(o=n),e.elements.mobile.indexOf(t)>=0&&(r=n),n++}),{pc:o,mobile:r}})},177:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.statsInit=void 0;var a=n(20),i=r(a),u=n(12),s=r(u),c=n(8),d=o(c);t.statsInit=function(e,t){var n=e.commit,o=e.state,r=(0,i["default"])(t,2),a=r[0],u=r[1],c=void 0!==u&&u,l=a.params.pageId;return parseInt(l)===o.stats.page.id?void(c&&c()):void s["default"].page.get({id:l}).then(function(e){var t=e.data;s["default"].variation.get({pageId:t.id}).then(function(e){t.variations=e.data,n(d.LOAD_STATS_PAGE,{page:t}),c&&c()})})}},178:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadingDone=t.loading=t.closeImageLibrary=t.getImage=t.loadImages=t.getInput=t.confirm=t.warning=t.nextMessage=void 0;var a=n(20),i=r(a),u=n(8),s=o(u),c=n(172),d=r(c);t.nextMessage=function(e){var t=e.commit;t(s.NEXT_MESSAGE)},t.warning=function(e,t){var n=e.commit;n(s.WARNING,{msg:t})},t.confirm=function(e,t){var n=e.commit;n(s.CONFIRM,{msg:t})},t.getInput=function(e,t){var n=e.commit;n(s.GET_INPUT,{msg:t})},t.loadImages=function(e,t){var n=e.commit,o=(0,i["default"])(t,2),r=o[0],a=o[1];d["default"].list(r,a,function(e){var t=e.images;n(s.LOAD_IMAGES,{images:t})})},t.getImage=function(e,t){var n=e.commit,o=(0,i["default"])(t,2),r=o[0],a=o[1],u=void 0!==a&&a;n(s.GET_IMAGE,{onSelect:r,onCancel:u})},t.closeImageLibrary=function(e){var t=e.commit;t(s.CLOSE_IMAGE_LIBRARY)},t.loading=function(e){var t=e.commit;t(s.LOADING)},t.loadingDone=function(e){var t=e.commit;t(s.LOAD_DONE)}},179:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.login=t.requireLogin=t.loadUser=void 0;var a=n(20),i=r(a),u=n(8),s=o(u),c=n(12),d=r(c);t.loadUser=function(e,t){var n=e.commit;n(s.LOAD_USER,{user:t})},t.requireLogin=function(e){e.commit},t.login=function(e,t){var n=e.commit,o=(0,i["default"])(t,5),r=o[0],a=o[1],u=(o[2],o[3]),c=o[4];d["default"].auth.save({},{email:r,password:a}).then(function(e){var t=e.data;n(s.LOAD_USER,{user:t}),u()},function(e){return c(e.data.error)})},t.logout=function(e,t){var n=e.commit;d["default"].auth["delete"]().then(function(e){n(s.LOAD_USER,{user:null}),t()})}},180:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={text:{type:"text",content:"<p>双击开始编辑这段文字</p>",style:{pc:{left:"380px",top:"10px",width:"200px"},mobile:{left:"80px",top:"10px",width:"200px"}},fontStyle:{color:"4",fontSize:"16px",lineHeight:"1.4",textAlign:"left"}},image:{type:"image",src:"",style:{pc:{top:"10px",width:""},mobile:{top:"10px",width:""}}},button:{type:"button",text:"点击下载",props:{backgroundColor:"3",borderColor:"4",color:"0",hoverColor:"4",borderRadius:"5px",fontSize:"18px",borderStyle:"none",boxShadow:"1px 3px 6px #888",fontWeight:"normal"},style:{pc:{left:"400px",top:"10px",width:"160px",height:"37px"},mobile:{left:"100px",top:"10px",width:"160px",height:"37px"}}},form:{type:"form",style:{pc:{left:"330px",top:"10px",width:"300px"},mobile:{left:"30px",top:"10px",width:"300px"}},props:{labelInside:!0,innerShadow:!1,boxShadow:"",fieldColor:"#fff",inputColor:"4",borderColor:"#ccc",labelColor:"3",redirect:"",thankyou:"表单提交成功，感谢！"},fields:[{label:"姓名",type:"text",validator:["required"]},{label:"手机号码",type:"text",validator:["required","mobile"]}],button:{text:"提交",props:{backgroundColor:"3",borderColor:"4",color:"0",hoverColor:"4",borderRadius:"5px",fontSize:"18px",borderStyle:"none",boxShadow:"1px 3px 6px #888",fontWeight:"normal"}}},html:{type:"html",content:"",style:{pc:{left:"330px",top:"10px",width:"300px",height:"150px"},mobile:{left:"50px",top:"10px",width:"300px",height:"150px"}}}}},181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveStatus=t.redoButton=t.undoButton=t.elementsIndex=t.editorHeight=t.editingPage=t.editorColorSet=t.editorElements=t.editorSections=t.editorSettings=t.editorWorkspace=t.imageLibrary=t.load=t.showMessage=t.message=t.editingPageGroup=t.defaultPageGroup=t.currentPageGroup=t.allPageGroups=t.projectMembersInvited=t.projectMembers=t.currentProject=t.allProjects=t.allPages=t.statsPage=t.isLogin=void 0;var o=n(6);t.isLogin=function(e){return!!e.user.current},t.statsPage=function(e){return e.stats.page},t.allPages=function(e){return e.dashboard.pages},t.allProjects=function(e){return e.dashboard.projects},t.currentProject=function(e){return e.dashboard.currentProject},t.projectMembers=function(e){return e.dashboard.projectMembers},t.projectMembersInvited=function(e){return e.dashboard.projectMembersInvited},t.allPageGroups=function(e){return e.dashboard.pageGroups.filter(function(e){return 1!==e.is_default})},t.currentPageGroup=function(e){return e.dashboard.currentPageGroup},t.defaultPageGroup=function(e){return e.dashboard.defaultPageGroup},t.editingPageGroup=function(e){return e.dashboard.editingPageGroup},t.message=function(e){return e.ui.messages[0]||{}},t.showMessage=function(e){return e.ui.messages.length>0},t.load=function(e){return e.ui.load},t.imageLibrary=function(e){return e.ui.imageLibrary},t.editorWorkspace=function(e){return e.editor.workspace},t.editorSettings=function(e){return e.editor.content.settings},t.editorSections=function(e){return e.editor.content.sections},t.editorElements=function(e){return e.editor.content.elements},t.editorColorSet=function(e){return e.editor.content.colorSet},t.editingPage=function(e){return e.editor.page},t.editorHeight=function(e){var t=0;return e.editor.content.sections&&e.editor.content.sections.forEach(function(n){t+=parseInt(n.style[e.editor.workspace.version].height)}),t},t.elementsIndex=function(e){var t={pc:{max:5e4,min:5e4},mobile:{max:5e4,min:5e4}},n=e.editor.content.elements;for(var o in n)t.pc.max=Math.max(n[o].style.pc.zIndex,t.pc.max),t.pc.min=Math.max(n[o].style.pc.zIndex,t.pc.min),t.mobile.max=Math.max(n[o].style.mobile.zIndex,t.mobile.max),t.mobile.min=Math.max(n[o].style.mobile.zIndex,t.mobile.min);return t},t.undoButton=function(e){return e.editor.history.index>0},t.redoButton=function(e){return e.editor.history.states.length>e.editor.history.index+1},t.saveStatus=function(e){return(0,o.isEqual)(e.editor.content,e.editor.history.saved)}},182:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(16),u=r(i),s=n(8),c=o(s),d={projects:[],currentProject:{},projectMembers:[],projectMembersInvited:[],pageGroups:[],currentPageGroup:{},defaultPageGroup:{},editingPageGroup:{},pages:[]},l=(a={},(0,u["default"])(a,c.LOAD_PROJECTS,function(e,t){var n=t.projects;e.projects=n}),(0,u["default"])(a,c.SET_CURRENT_PROJECT,function(e,t){var n=t.project;e.currentProject=n}),(0,u["default"])(a,c.LOAD_MEMBERS,function(e,t){var n=t.members,o=t.invited;e.projectMembers=n,e.projectMembersInvited=o}),(0,u["default"])(a,c.CREATE_PROJECT,function(e,t){var n=t.project;e.projects.push(n)}),(0,u["default"])(a,c.LOAD_PAGEGROUPS,function(e,t){var n=t.pageGroups;e.pageGroups=n,e.defaultPageGroup=n.find(function(e){return 1===e.is_default})}),(0,u["default"])(a,c.SET_CURRENT_PAGEGROUP,function(e,t){var n=t.pageGroup;e.currentPageGroup=n}),(0,u["default"])(a,c.CREATE_PAGEGROUP,function(e,t){var n=t.pageGroup;e.pageGroups.push(n),e.editingPageGroup=n}),(0,u["default"])(a,c.REMOVE_PAGEGROUP,function(e,t){var n=t.pageGroup;e.pageGroups.splice(e.pageGroups.indexOf(n),1)}),(0,u["default"])(a,c.SET_EDITING_PAGEGROUP,function(e,t){var n=t.pageGroup;e.editingPageGroup=n}),(0,u["default"])(a,c.RENAME_PAGEGROUP,function(e,t){var n=t.pageGroup,o=t.newName;n.name=o}),(0,u["default"])(a,c.EMPTY_PAGEGROUPS,function(e){e.pageGroups=[]}),(0,u["default"])(a,c.LOAD_PAGES,function(e,t){var n=t.pages;e.pages=n}),(0,u["default"])(a,c.CREATE_PAGE,function(e,t){var n=t.page;e.pages.push(n)}),(0,u["default"])(a,c.REMOVE_PAGE,function(e,t){var n=t.page;e.pages.splice(e.pages.indexOf(n),1)}),(0,u["default"])(a,c.RENAME_PAGE,function(e,t){var n=t.page,o=t.newName;n.name=o}),(0,u["default"])(a,c.EMPTY_PAGES,function(e){e.pages=[]}),a);t["default"]={state:d,mutations:l}},183:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(16),u=r(i),s=n(11),c=r(s),d=n(8),l=o(d),f=n(6),p=n(187),m=r(p),E={workspace:{width:360,version:"mobile",activeSectionId:null,activeElementId:"",activeVariation:null,saveStatus:"saved"},page:{},content:{},history:{states:[],index:0,saved:{}}},_=(a={},(0,u["default"])(a,l.LOAD_PAGE,function(e,t){var n=t.page;e.page=(0,f.merge)({},n)}),(0,u["default"])(a,l.LOAD_VARIATION,function(e,t){var n=t.variation,o=t.content,r={settings:{seo:{pageTitle:"",keywords:"",description:""},goals:{first:""},code:{header:"",bodyIn:"",bodyOut:""},style:{width:{pc:960,mobile:360}}},colorSet:["#FCFFF5","#D1DBBD","#91AA9D","#3E606F","#193441"],sections:[],elements:{}};e.workspace.activeVariation=n,e.content=(0,f.merge)({},r,o),e.history.states=[(0,f.merge)({},e.content)],e.history.index=0,e.history.saved=(0,f.merge)({},e.content)}),(0,u["default"])(a,l.SAVE_VARIATION,function(e){e.history.saved=(0,f.merge)({},e.content)}),(0,u["default"])(a,l.CREATE_VARIATION,function(e,t){var n=t.variation;e.page.variations.push(n)}),(0,u["default"])(a,l.REMOVE_VARIATION,function(e,t){var n=t.variation;e.page.variations.splice(e.page.variations.indexOf(n),1)}),(0,u["default"])(a,l.RENAME_VARIATION,function(e,t){var n=t.variation,o=t.newName;n.name=o,e.workspace.activeVariation.id===n.id&&(e.workspace.activeVariation=n)}),(0,u["default"])(a,l.SAVE_CONTENT_STATE,function(e){
e.history.index++,e.history.states=e.history.states.slice(0,e.history.index),e.history.states.push((0,f.merge)({},e.content)),e.workspace.undo=!0,e.workspace.redo=!1}),(0,u["default"])(a,l.UNDO,function(e){e.history.index>=1&&(e.history.index--,e.content=(0,f.merge)({},e.history.states[e.history.index]),e.workspace.redo=!0,e.history.index<1&&(e.workspace.undo=!1))}),(0,u["default"])(a,l.REDO,function(e){e.history.states.length>e.history.index+1&&(e.history.index++,e.content=(0,f.merge)({},e.history.states[e.history.index]),e.workspace.undo=!0,e.history.states.length===e.history.index+1&&(e.workspace.redo=!1))}),(0,u["default"])(a,l.SWITCH_VERSION,function(e,t){var n=t.version;e.workspace.version=n,e.workspace.width="pc"===e.workspace.version?960:360}),(0,u["default"])(a,l.SET_COLOR_SET,function(e,t){var n=t.colorSet;e.content.colorSet=n}),(0,u["default"])(a,l.ADD_SECTION,function(e,t){var n=t.section;e.content.sections.push(n)}),(0,u["default"])(a,l.MOVE_SECTION,function(e,t){var n=t.sourceId,o=t.targetId;e.content.sections[n]=e.content.sections.splice(o,1,e.content.sections[n])[0]}),(0,u["default"])(a,l.REMOVE_SECTION,function(e,t){var n=t.sectionId;e.content.sections.splice(n,1)}),(0,u["default"])(a,l.MODIFY_SECTION,function(e,t){var n=t.sectionId,o=t.style;e.content.sections[n].style=(0,f.merge)({},e.content.sections[n].style,o)}),(0,u["default"])(a,l.SET_ACTIVE_SECTION_ID,function(e,t){var n=t.sectionId;e.workspace.activeSectionId=n}),(0,u["default"])(a,l.SET_ACTIVE_ELEMENT_ID,function(e,t){var n=t.elementId;e.workspace.activeElementId=n}),(0,u["default"])(a,l.MODIFY_ELEMENT,function(e,t){var n=t.elementId,o=t.newElement;c["default"].set(e.content.elements,n,(0,f.merge)({},o))}),(0,u["default"])(a,l.ADD_ELEMENT,function(e,t){var n=t.sectionId,o=t.element,r=(0,m["default"])(8);c["default"].set(e.content.elements,r,o),e.content.sections[n].elements.pc.push(r),e.content.sections[n].elements.mobile.push(r),e.workspace.activeElementId=r}),(0,u["default"])(a,l.DUPULICATE_ELEMENT,function(e,t){var n=t.newElement,o=t.sectionIds,r=(0,m["default"])(8);c["default"].set(e.content.elements,r,n),null!==o.pc&&e.content.sections[o.pc].elements.pc.push(r),null!==o.mobile&&e.content.sections[o.mobile].elements.mobile.push(r),e.workspace.activeElementId=r}),(0,u["default"])(a,l.MOVE_ELEMENT,function(e,t){var n=t.elementId,o=t.newElement,r=t.sectionId,a=t.newSectionId;c["default"].set(e.content.elements,n,(0,f.merge)({},o)),r!==a&&(e.content.sections[r].elements[e.workspace.version].splice(e.content.sections[r].elements[e.workspace.version].indexOf(n),1),e.content.sections[a].elements[e.workspace.version].push(n))}),(0,u["default"])(a,l.REMOVE_ELEMENT,function(e,t){var n=t.elementId,o=t.sectionIds;null!==o.pc&&e.content.sections[o.pc].elements.pc.splice(e.content.sections[o.pc].elements.pc.indexOf(n),1),null!==o.mobile&&e.content.sections[o.mobile].elements.mobile.splice(e.content.sections[o.mobile].elements.mobile.indexOf(n),1),c["default"]["delete"](e.content.elements,n)}),a);t["default"]={state:E,mutations:_}},184:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),i=r(a),u=n(8),s=o(u),c={page:{}},d=(0,i["default"])({},s.LOAD_STATS_VARIATIONS,function(e,t){var n=t.page;e.page=n});t["default"]={state:c,mutations:d}},185:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(16),u=r(i),s=n(8),c=o(s),d=n(6),l={messageBox:{onCancel:!1,onConfirm:!1,header:"",content:"",inputAddon:"",placeholder:"",hint:"",width:"400px",type:"warning"},load:{status:"done",failedInfo:"",retry:""},imageLibrary:{loading:"loading",show:!1,onSelect:!1,onCancel:!1,images:[]},messages:[]},f=(a={},(0,u["default"])(a,c.WARNING,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="warning",e.messages.push(o)}),(0,u["default"])(a,c.CONFIRM,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="confrim",e.messages.push(o)}),(0,u["default"])(a,c.GET_INPUT,function(e,t){var n=t.msg,o=(0,d.merge)({},e.messageBox,n);o.type="input",e.messages.push(o)}),(0,u["default"])(a,c.NEXT_MESSAGE,function(e){e.messages.shift()}),(0,u["default"])(a,c.GET_IMAGE,function(e,t){var n=t.onSelect,o=t.onCancel;e.imageLibrary.onSelect=n,e.imageLibrary.onCancel=o,e.imageLibrary.show=!0}),(0,u["default"])(a,c.CLOSE_IMAGE_LIBRARY,function(e){e.imageLibrary.onSelect=!1,e.imageLibrary.onCancel=!1,e.imageLibrary.show=!1}),(0,u["default"])(a,c.LOAD_IMAGES,function(e,t){var n=t.images;e.imageLibrary.images=n}),(0,u["default"])(a,c.LOADING,function(e){e.load.status="loading"}),(0,u["default"])(a,c.LOAD_FAILED,function(e,t){var n=t.source,o=t.err,r=t.retry,a=void 0===r?null:r;switch(n){case"projects":e.load.status="failed",e.load.failedInfo="加载项目列表失败";break;case"pageGroups":e.load.status="failed",e.load.failedInfo="加载页面分组失败";break;case"members":break;case"pages":e.load.status="failed",e.load.failedInfo="加载页面列表失败"}e.load.retry=a||null,console.log(n,o)}),(0,u["default"])(a,c.LOAD_DONE,function(e){e.load.status="done"}),a);t["default"]={state:l,mutations:f}},186:function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),i=r(a),u=n(8),s=o(u),c={current:null},d=(0,i["default"])({},s.LOAD_USER,function(e,t){var n=t.user;e.current=n});t["default"]={state:c,mutations:d}},187:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyz",n="",o=0;o<e;o++)n+=t.charAt(Math.ceil(1e8*Math.random())%t.length);return n};t["default"]=n},188:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(407),a=o(r),i=n(408),u=o(i);t["default"]={name:"App",components:{MessageBox:a["default"],Spinner:u["default"]}}},190:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=o(r),i=n(32),u=o(i),s=n(4);t["default"]={name:"Login",components:{Auth:u["default"]},data:function(){return{error:""}},methods:(0,a["default"])({},(0,s.mapActions)(["login"]),{formSubmit:function(e){var t=this,n=e.target.email.value,o=e.target.password.value,r=e.target.remember.checked;return n?o?void this.login([n,o,r,function(){t.$router.replace(t.$route.query.redirect||"/")},function(e){console.log(e),t.error=e}]):void(this.error="请输入您的密码"):void(this.error="请输入您的用户名")}})}},194:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={}},195:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(41),a=o(r);t["default"]={components:{AppHeader:a["default"]}}},236:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(4);t["default"]={computed:(0,o.mapGetters)({msg:"message",show:"showMessage"}),data:function(){return{error:""}},methods:{cancel:function(){this.msg.onCancel&&this.msg.onCancel(),this.$store.dispatch("nextMessage")},ok:function(){if(this.msg.onConfirm)if("input"===this.msg.type){var e=this.$refs.msgInput.value;this.error=this.msg.onConfirm(e)||""}else this.msg.onConfirm();!this.error&&this.$store.dispatch("nextMessage")}},watch:{show:function(e){var t=this;this.error="",e&&("input"===this.msg.type?this.$nextTick(function(){t.$refs.msgInput.focus()}):this.$nextTick(function(){t.$el.focus()}))}}}},239:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),a=o(r),i=n(4);t["default"]={computed:(0,a["default"])({},(0,i.mapGetters)({load:"load"}))}},316:function(e,t){},317:function(e,t){},319:function(e,t){},320:function(e,t){},321:function(e,t){},322:function(e,t){},367:function(e,t,n){var o,r;n(317),o=n(188);var a=n(409);r=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},369:function(e,t,n){var o,r;o=n(190);var a=n(431);r=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},373:function(e,t,n){var o,r;o=n(195);var a=n(420);r=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=o},407:function(e,t,n){var o,r;n(320),o=n(236);var a=n(412);r=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-12",e.exports=o},408:function(e,t,n){var o,r;n(319),o=n(239);var a=n(411);r=o=o||{},"object"!=typeof o["default"]&&"function"!=typeof o["default"]||(r=o=o["default"]),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-11",e.exports=o},409:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"}},[_h("transition",{attrs:{name:"fade",mode:"out-in"}},[_h("router-view",{staticClass:"page"})])," ",_h("message-box")," ",_h("spinner")])},staticRenderFns:[]}},411:function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"load-status"},[_h("transition",{attrs:{name:"fade"}},["loading"===load.status?_h("div",{staticClass:"loading"},[_m(0)]):_e()])," ","failed"===load.status?_h("div",[_s(load.failedInfo)]):_e()])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"loading-icon small"})}]}},412:function(module,exports){module.exports={render:function(){with(this)return _h("transition",{attrs:{name:"fade"}},[show?_h("div",{staticClass:"msg-mask",attrs:{tabindex:"-1"},on:{keyup:[function(e){13===e.keyCode&&ok(e)},function(e){27===e.keyCode&&cancel(e)}]}},[_h("div",{staticClass:"msg-wrapper"},[_h("div",{staticClass:"msg-container",style:{width:msg.width}},[_h("div",{staticClass:"msg-header"},[_m(0)," "+_s(msg.header||"提示信息")+"\n        "])," ",_h("div",{staticClass:"msg-body container-fluid"},["input"===msg.type?[_h("div",{staticClass:"input-group"},[_h("div",{staticClass:"input-group-addon",domProps:{innerHTML:_s(msg.inputAddon)}})," ",_h("input",{ref:"msgInput",staticClass:"form-control",attrs:{type:"text",placeholder:msg.placeholder||msg.header},domProps:{value:msg.content}})])," ",""!==msg.hint?_h("p",{staticClass:"msg-hint"},[_s(msg.hint)]):_e()," ",""!==error?_h("p",{staticClass:"text-danger"},[_s(error)]):_e()]:_h("span",[_s(msg.content)])," "])," ",_h("div",{staticClass:"msg-footer"},[_t("footer",[_h("button",{directives:[{name:"show",rawName:"v-show",value:"warning"!==msg.type,expression:"msg.type !== 'warning'"}],staticClass:"btn btn-default btn-sm",on:{click:cancel}},["取消"]),"  \n            ",_h("button",{staticClass:"btn btn-primary btn-sm",on:{click:ok}},["确定"])])])])])]):_e()])},staticRenderFns:[function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-exclamation-sign"})}]}},413:function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"header-wrapper"}},[_h("div",{staticClass:"header"},[_h("router-link",{staticClass:"logo",attrs:{to:"/"}})," "," ",_h("ul",{staticClass:"nav nav-pills header-nav"},[_h("li",[_h("router-link",{attrs:{to:"/help"}},["帮助"])])," ",_h("li",[_h("router-link",{attrs:{to:"/account"}},["我的帐号"])])," ",_h("li",[_h("router-link",{attrs:{to:"/logout"}},["退出登陆"])])])])])},staticRenderFns:[]}},414:function(module,exports){module.exports={render:function(){with(this)return _h("div",[_h("div",{staticClass:"auth-container"},[_h("div",{staticClass:"auth-header"},[_t("title")])," ",_h("div",{staticClass:"auth-content"},[_t("content")])])," ",_h("div",{staticClass:"auth-extra"},[_t("extra")])])},staticRenderFns:[]}},420:function(module,exports){module.exports={render:function(){with(this)return _h("div",[_h("app-header")," ",_h("transition",{attrs:{name:"fade",mode:"out-in"}},[_h("router-view",{staticClass:"main-wrapper"})])])},staticRenderFns:[]}},431:function(module,exports){module.exports={render:function(){with(this)return _h("auth",[_h("span",{slot:"title"},["登陆"])," ",_h("div",{slot:"content"},[_h("form",{attrs:{action:"",method:"post"},on:{submit:function(e){e.preventDefault(),formSubmit(e)}}},[_m(0)," ",_m(1)," ",_m(2)," ",_m(3)])," ",_h("div",[_h("router-link",{attrs:{to:"/password"}},["忘记密码？"])])])," ",_h("p",{slot:"extra"},["\n    还没有聚页账户？\n    ",_h("router-link",{attrs:{to:"/register"}},["注册用户"])])])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"form-group"},[_h("input",{staticClass:"form-control input-lg",attrs:{type:"text",name:"email",value:"",placeholder:"邮箱"}})])},function(){with(this)return _h("div",{staticClass:"form-group"},[_h("input",{staticClass:"form-control input-lg",attrs:{type:"password",name:"password",value:"",placeholder:"密码"}})])},function(){with(this)return _h("div",{staticClass:"form-group"},[_h("label",[_h("input",{attrs:{type:"checkbox",name:"remember",value:"1"}})," 在本机保持我的登陆状态"])])},function(){with(this)return _h("div",{staticClass:"form-group"},[_h("input",{staticClass:"btn btn-primary btn-lg form-control input-lg",attrs:{type:"submit",value:"登陆"}})])}]}}});
//# sourceMappingURL=app.37e58782d128b2375e00.js.map